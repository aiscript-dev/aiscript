(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function cs(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const ge={},ir=[],dt=()=>{},eo=()=>!1,dn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),fs=e=>e.startsWith("onUpdate:"),Me=Object.assign,hs=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},to=Object.prototype.hasOwnProperty,le=(e,t)=>to.call(e,t),Y=Array.isArray,ar=e=>Nr(e)==="[object Map]",Di=e=>Nr(e)==="[object Set]",Us=e=>Nr(e)==="[object Date]",Z=e=>typeof e=="function",_e=e=>typeof e=="string",mt=e=>typeof e=="symbol",we=e=>e!==null&&typeof e=="object",Li=e=>(we(e)||Z(e))&&Z(e.then)&&Z(e.catch),ji=Object.prototype.toString,Nr=e=>ji.call(e),ro=e=>Nr(e).slice(8,-1),Ui=e=>Nr(e)==="[object Object]",ps=e=>_e(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,_r=cs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),gn=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},no=/-(\w)/g,kt=gn(e=>e.replace(no,(t,r)=>r?r.toUpperCase():"")),so=/\B([A-Z])/g,Yt=gn(e=>e.replace(so,"-$1").toLowerCase()),qi=gn(e=>e.charAt(0).toUpperCase()+e.slice(1)),Pn=gn(e=>e?`on${qi(e)}`:""),$t=(e,t)=>!Object.is(e,t),Yr=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},Hi=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},Vn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let qs;const mn=()=>qs||(qs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ds(e){if(Y(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],s=_e(n)?lo(n):ds(n);if(s)for(const i in s)t[i]=s[i]}return t}else if(_e(e)||we(e))return e}const io=/;(?![^(]*\))/g,ao=/:([^]+)/,oo=/\/\*[^]*?\*\//g;function lo(e){const t={};return e.replace(oo,"").split(io).forEach(r=>{if(r){const n=r.split(ao);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function vn(e){let t="";if(_e(e))t=e;else if(Y(e))for(let r=0;r<e.length;r++){const n=vn(e[r]);n&&(t+=n+" ")}else if(we(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const uo="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",co=cs(uo);function Ki(e){return!!e||e===""}function fo(e,t){if(e.length!==t.length)return!1;let r=!0;for(let n=0;r&&n<e.length;n++)r=rn(e[n],t[n]);return r}function rn(e,t){if(e===t)return!0;let r=Us(e),n=Us(t);if(r||n)return r&&n?e.getTime()===t.getTime():!1;if(r=mt(e),n=mt(t),r||n)return e===t;if(r=Y(e),n=Y(t),r||n)return r&&n?fo(e,t):!1;if(r=we(e),n=we(t),r||n){if(!r||!n)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const a in e){const o=e.hasOwnProperty(a),l=t.hasOwnProperty(a);if(o&&!l||!o&&l||!rn(e[a],t[a]))return!1}}return String(e)===String(t)}const Vi=e=>!!(e&&e.__v_isRef===!0),tr=e=>_e(e)?e:e==null?"":Y(e)||we(e)&&(e.toString===ji||!Z(e.toString))?Vi(e)?tr(e.value):JSON.stringify(e,zi,2):String(e),zi=(e,t)=>Vi(t)?zi(e,t.value):ar(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,s],i)=>(r[Sn(n,i)+" =>"]=s,r),{})}:Di(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>Sn(r))}:mt(t)?Sn(t):we(t)&&!Y(t)&&!Ui(t)?String(t):t,Sn=(e,t="")=>{var r;return mt(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Xe;class ho{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Xe,!t&&Xe&&(this.index=(Xe.scopes||(Xe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=Xe;try{return Xe=this,t()}finally{Xe=r}}}on(){Xe=this}off(){Xe=this.parent}stop(t){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function po(){return Xe}let ye;const Fn=new WeakSet;class Wi{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Xe&&Xe.active&&Xe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Fn.has(this)&&(Fn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Yi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Hs(this),Ji(this);const t=ye,r=lt;ye=this,lt=!0;try{return this.fn()}finally{Zi(this),ye=t,lt=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)vs(t);this.deps=this.depsTail=void 0,Hs(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Fn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){zn(this)&&this.run()}get dirty(){return zn(this)}}let Gi=0,Er,Cr;function Yi(e,t=!1){if(e.flags|=8,t){e.next=Cr,Cr=e;return}e.next=Er,Er=e}function gs(){Gi++}function ms(){if(--Gi>0)return;if(Cr){let t=Cr;for(Cr=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;Er;){let t=Er;for(Er=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=r}}if(e)throw e}function Ji(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Zi(e){let t,r=e.depsTail,n=r;for(;n;){const s=n.prevDep;n.version===-1?(n===r&&(r=s),vs(n),go(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=s}e.deps=t,e.depsTail=r}function zn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Xi(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Xi(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Mr))return;e.globalVersion=Mr;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!zn(e)){e.flags&=-3;return}const r=ye,n=lt;ye=e,lt=!0;try{Ji(e);const s=e.fn(e._value);(t.version===0||$t(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{ye=r,lt=n,Zi(e),e.flags&=-3}}function vs(e,t=!1){const{dep:r,prevSub:n,nextSub:s}=e;if(n&&(n.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=n,e.nextSub=void 0),r.subs===e&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)vs(i,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function go(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let lt=!0;const Qi=[];function Bt(){Qi.push(lt),lt=!1}function It(){const e=Qi.pop();lt=e===void 0?!0:e}function Hs(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=ye;ye=void 0;try{t()}finally{ye=r}}}let Mr=0;class mo{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ys{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!ye||!lt||ye===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==ye)r=this.activeLink=new mo(ye,this),ye.deps?(r.prevDep=ye.depsTail,ye.depsTail.nextDep=r,ye.depsTail=r):ye.deps=ye.depsTail=r,ea(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=ye.depsTail,r.nextDep=void 0,ye.depsTail.nextDep=r,ye.depsTail=r,ye.deps===r&&(ye.deps=n)}return r}trigger(t){this.version++,Mr++,this.notify(t)}notify(t){gs();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{ms()}}}function ea(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)ea(n)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const Wn=new WeakMap,Kt=Symbol(""),Gn=Symbol(""),Or=Symbol("");function Re(e,t,r){if(lt&&ye){let n=Wn.get(e);n||Wn.set(e,n=new Map);let s=n.get(r);s||(n.set(r,s=new ys),s.map=n,s.key=r),s.track()}}function bt(e,t,r,n,s,i){const a=Wn.get(e);if(!a){Mr++;return}const o=l=>{l&&l.trigger()};if(gs(),t==="clear")a.forEach(o);else{const l=Y(e),f=l&&ps(r);if(l&&r==="length"){const c=Number(n);a.forEach((h,y)=>{(y==="length"||y===Or||!mt(y)&&y>=c)&&o(h)})}else switch((r!==void 0||a.has(void 0))&&o(a.get(r)),f&&o(a.get(Or)),t){case"add":l?f&&o(a.get("length")):(o(a.get(Kt)),ar(e)&&o(a.get(Gn)));break;case"delete":l||(o(a.get(Kt)),ar(e)&&o(a.get(Gn)));break;case"set":ar(e)&&o(a.get(Kt));break}}ms()}function er(e){const t=oe(e);return t===e?t:(Re(t,"iterate",Or),st(e)?t:t.map(Te))}function yn(e){return Re(e=oe(e),"iterate",Or),e}const vo={__proto__:null,[Symbol.iterator](){return Mn(this,Symbol.iterator,Te)},concat(...e){return er(this).concat(...e.map(t=>Y(t)?er(t):t))},entries(){return Mn(this,"entries",e=>(e[1]=Te(e[1]),e))},every(e,t){return wt(this,"every",e,t,void 0,arguments)},filter(e,t){return wt(this,"filter",e,t,r=>r.map(Te),arguments)},find(e,t){return wt(this,"find",e,t,Te,arguments)},findIndex(e,t){return wt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return wt(this,"findLast",e,t,Te,arguments)},findLastIndex(e,t){return wt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return wt(this,"forEach",e,t,void 0,arguments)},includes(...e){return On(this,"includes",e)},indexOf(...e){return On(this,"indexOf",e)},join(e){return er(this).join(e)},lastIndexOf(...e){return On(this,"lastIndexOf",e)},map(e,t){return wt(this,"map",e,t,void 0,arguments)},pop(){return vr(this,"pop")},push(...e){return vr(this,"push",e)},reduce(e,...t){return Ks(this,"reduce",e,t)},reduceRight(e,...t){return Ks(this,"reduceRight",e,t)},shift(){return vr(this,"shift")},some(e,t){return wt(this,"some",e,t,void 0,arguments)},splice(...e){return vr(this,"splice",e)},toReversed(){return er(this).toReversed()},toSorted(e){return er(this).toSorted(e)},toSpliced(...e){return er(this).toSpliced(...e)},unshift(...e){return vr(this,"unshift",e)},values(){return Mn(this,"values",Te)}};function Mn(e,t,r){const n=yn(e),s=n[t]();return n!==e&&!st(e)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=r(i.value)),i}),s}const yo=Array.prototype;function wt(e,t,r,n,s,i){const a=yn(e),o=a!==e&&!st(e),l=a[t];if(l!==yo[t]){const h=l.apply(e,i);return o?Te(h):h}let f=r;a!==e&&(o?f=function(h,y){return r.call(this,Te(h),y,e)}:r.length>2&&(f=function(h,y){return r.call(this,h,y,e)}));const c=l.call(a,f,n);return o&&s?s(c):c}function Ks(e,t,r,n){const s=yn(e);let i=r;return s!==e&&(st(e)?r.length>3&&(i=function(a,o,l){return r.call(this,a,o,l,e)}):i=function(a,o,l){return r.call(this,a,Te(o),l,e)}),s[t](i,...n)}function On(e,t,r){const n=oe(e);Re(n,"iterate",Or);const s=n[t](...r);return(s===-1||s===!1)&&_s(r[0])?(r[0]=oe(r[0]),n[t](...r)):s}function vr(e,t,r=[]){Bt(),gs();const n=oe(e)[t].apply(e,r);return ms(),It(),n}const wo=cs("__proto__,__v_isRef,__isVue"),ta=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(mt));function xo(e){mt(e)||(e=String(e));const t=oe(this);return Re(t,"has",e),t.hasOwnProperty(e)}class ra{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){const s=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(s?i?Oo:aa:i?ia:sa).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const a=Y(t);if(!s){let l;if(a&&(l=vo[r]))return l;if(r==="hasOwnProperty")return xo}const o=Reflect.get(t,r,De(t)?t:n);return(mt(r)?ta.has(r):wo(r))||(s||Re(t,"get",r),i)?o:De(o)?a&&ps(r)?o:o.value:we(o)?s?oa(o):xs(o):o}}class na extends ra{constructor(t=!1){super(!1,t)}set(t,r,n,s){let i=t[r];if(!this._isShallow){const l=zt(i);if(!st(n)&&!zt(n)&&(i=oe(i),n=oe(n)),!Y(t)&&De(i)&&!De(n))return l?!1:(i.value=n,!0)}const a=Y(t)&&ps(r)?Number(r)<t.length:le(t,r),o=Reflect.set(t,r,n,De(t)?t:s);return t===oe(s)&&(a?$t(n,i)&&bt(t,"set",r,n):bt(t,"add",r,n)),o}deleteProperty(t,r){const n=le(t,r);t[r];const s=Reflect.deleteProperty(t,r);return s&&n&&bt(t,"delete",r,void 0),s}has(t,r){const n=Reflect.has(t,r);return(!mt(r)||!ta.has(r))&&Re(t,"has",r),n}ownKeys(t){return Re(t,"iterate",Y(t)?"length":Kt),Reflect.ownKeys(t)}}class bo extends ra{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const _o=new na,Eo=new bo,Co=new na(!0);const Yn=e=>e,Lr=e=>Reflect.getPrototypeOf(e);function Ao(e,t,r){return function(...n){const s=this.__v_raw,i=oe(s),a=ar(i),o=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,f=s[e](...n),c=r?Yn:t?Jn:Te;return!t&&Re(i,"iterate",l?Gn:Kt),{next(){const{value:h,done:y}=f.next();return y?{value:h,done:y}:{value:o?[c(h[0]),c(h[1])]:c(h),done:y}},[Symbol.iterator](){return this}}}}function jr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Po(e,t){const r={get(s){const i=this.__v_raw,a=oe(i),o=oe(s);e||($t(s,o)&&Re(a,"get",s),Re(a,"get",o));const{has:l}=Lr(a),f=t?Yn:e?Jn:Te;if(l.call(a,s))return f(i.get(s));if(l.call(a,o))return f(i.get(o));i!==a&&i.get(s)},get size(){const s=this.__v_raw;return!e&&Re(oe(s),"iterate",Kt),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,a=oe(i),o=oe(s);return e||($t(s,o)&&Re(a,"has",s),Re(a,"has",o)),s===o?i.has(s):i.has(s)||i.has(o)},forEach(s,i){const a=this,o=a.__v_raw,l=oe(o),f=t?Yn:e?Jn:Te;return!e&&Re(l,"iterate",Kt),o.forEach((c,h)=>s.call(i,f(c),f(h),a))}};return Me(r,e?{add:jr("add"),set:jr("set"),delete:jr("delete"),clear:jr("clear")}:{add(s){!t&&!st(s)&&!zt(s)&&(s=oe(s));const i=oe(this);return Lr(i).has.call(i,s)||(i.add(s),bt(i,"add",s,s)),this},set(s,i){!t&&!st(i)&&!zt(i)&&(i=oe(i));const a=oe(this),{has:o,get:l}=Lr(a);let f=o.call(a,s);f||(s=oe(s),f=o.call(a,s));const c=l.call(a,s);return a.set(s,i),f?$t(i,c)&&bt(a,"set",s,i):bt(a,"add",s,i),this},delete(s){const i=oe(this),{has:a,get:o}=Lr(i);let l=a.call(i,s);l||(s=oe(s),l=a.call(i,s)),o&&o.call(i,s);const f=i.delete(s);return l&&bt(i,"delete",s,void 0),f},clear(){const s=oe(this),i=s.size!==0,a=s.clear();return i&&bt(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=Ao(s,e,t)}),r}function ws(e,t){const r=Po(e,t);return(n,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?n:Reflect.get(le(r,s)&&s in n?r:n,s,i)}const So={get:ws(!1,!1)},Fo={get:ws(!1,!0)},Mo={get:ws(!0,!1)};const sa=new WeakMap,ia=new WeakMap,aa=new WeakMap,Oo=new WeakMap;function $o(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ko(e){return e.__v_skip||!Object.isExtensible(e)?0:$o(ro(e))}function xs(e){return zt(e)?e:bs(e,!1,_o,So,sa)}function Bo(e){return bs(e,!1,Co,Fo,ia)}function oa(e){return bs(e,!0,Eo,Mo,aa)}function bs(e,t,r,n,s){if(!we(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const a=ko(e);if(a===0)return e;const o=new Proxy(e,a===2?n:r);return s.set(e,o),o}function or(e){return zt(e)?or(e.__v_raw):!!(e&&e.__v_isReactive)}function zt(e){return!!(e&&e.__v_isReadonly)}function st(e){return!!(e&&e.__v_isShallow)}function _s(e){return e?!!e.__v_raw:!1}function oe(e){const t=e&&e.__v_raw;return t?oe(t):e}function Io(e){return!le(e,"__v_skip")&&Object.isExtensible(e)&&Hi(e,"__v_skip",!0),e}const Te=e=>we(e)?xs(e):e,Jn=e=>we(e)?oa(e):e;function De(e){return e?e.__v_isRef===!0:!1}function _t(e){return No(e,!1)}function No(e,t){return De(e)?e:new Ro(e,t)}class Ro{constructor(t,r){this.dep=new ys,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:oe(t),this._value=r?t:Te(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,n=this.__v_isShallow||st(t)||zt(t);t=n?t:oe(t),$t(t,r)&&(this._rawValue=t,this._value=n?t:Te(t),this.dep.trigger())}}function Zn(e){return De(e)?e.value:e}const To={get:(e,t,r)=>t==="__v_raw"?e:Zn(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const s=e[t];return De(s)&&!De(r)?(s.value=r,!0):Reflect.set(e,t,r,n)}};function la(e){return or(e)?e:new Proxy(e,To)}class Do{constructor(t,r,n){this.fn=t,this.setter=r,this._value=void 0,this.dep=new ys(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Mr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&ye!==this)return Yi(this,!0),!0}get value(){const t=this.dep.track();return Xi(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Lo(e,t,r=!1){let n,s;return Z(e)?n=e:(n=e.get,s=e.set),new Do(n,s,r)}const Ur={},nn=new WeakMap;let Lt;function jo(e,t=!1,r=Lt){if(r){let n=nn.get(r);n||nn.set(r,n=[]),n.push(e)}}function Uo(e,t,r=ge){const{immediate:n,deep:s,once:i,scheduler:a,augmentJob:o,call:l}=r,f=d=>s?d:st(d)||s===!1||s===0?Et(d,1):Et(d);let c,h,y,b,$=!1,I=!1;if(De(e)?(h=()=>e.value,$=st(e)):or(e)?(h=()=>f(e),$=!0):Y(e)?(I=!0,$=e.some(d=>or(d)||st(d)),h=()=>e.map(d=>{if(De(d))return d.value;if(or(d))return f(d);if(Z(d))return l?l(d,2):d()})):Z(e)?t?h=l?()=>l(e,2):e:h=()=>{if(y){Bt();try{y()}finally{It()}}const d=Lt;Lt=c;try{return l?l(e,3,[b]):e(b)}finally{Lt=d}}:h=dt,t&&s){const d=h,v=s===!0?1/0:s;h=()=>Et(d(),v)}const q=po(),j=()=>{c.stop(),q&&hs(q.effects,c)};if(i&&t){const d=t;t=(...v)=>{d(...v),j()}}let m=I?new Array(e.length).fill(Ur):Ur;const p=d=>{if(!(!(c.flags&1)||!c.dirty&&!d))if(t){const v=c.run();if(s||$||(I?v.some((x,E)=>$t(x,m[E])):$t(v,m))){y&&y();const x=Lt;Lt=c;try{const E=[v,m===Ur?void 0:I&&m[0]===Ur?[]:m,b];l?l(t,3,E):t(...E),m=v}finally{Lt=x}}}else c.run()};return o&&o(p),c=new Wi(h),c.scheduler=a?()=>a(p,!1):p,b=d=>jo(d,!1,c),y=c.onStop=()=>{const d=nn.get(c);if(d){if(l)l(d,4);else for(const v of d)v();nn.delete(c)}},t?n?p(!0):m=c.run():a?a(p.bind(null,!0),!0):c.run(),j.pause=c.pause.bind(c),j.resume=c.resume.bind(c),j.stop=j,j}function Et(e,t=1/0,r){if(t<=0||!we(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,De(e))Et(e.value,t,r);else if(Y(e))for(let n=0;n<e.length;n++)Et(e[n],t,r);else if(Di(e)||ar(e))e.forEach(n=>{Et(n,t,r)});else if(Ui(e)){for(const n in e)Et(e[n],t,r);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Et(e[n],t,r)}return e}/**
* @vue/runtime-core v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Rr(e,t,r,n){try{return n?e(...n):e()}catch(s){wn(s,t,r)}}function vt(e,t,r,n){if(Z(e)){const s=Rr(e,t,r,n);return s&&Li(s)&&s.catch(i=>{wn(i,t,r)}),s}if(Y(e)){const s=[];for(let i=0;i<e.length;i++)s.push(vt(e[i],t,r,n));return s}}function wn(e,t,r,n=!0){const s=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||ge;if(t){let o=t.parent;const l=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${r}`;for(;o;){const c=o.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](e,l,f)===!1)return}o=o.parent}if(i){Bt(),Rr(i,null,10,[e,l,f]),It();return}}qo(e,r,s,n,a)}function qo(e,t,r,n=!0,s=!1){if(s)throw e;console.error(e)}const Ue=[];let ft=-1;const lr=[];let Mt=null,rr=0;const ua=Promise.resolve();let sn=null;function Ho(e){const t=sn||ua;return e?t.then(this?e.bind(this):e):t}function Ko(e){let t=ft+1,r=Ue.length;for(;t<r;){const n=t+r>>>1,s=Ue[n],i=$r(s);i<e||i===e&&s.flags&2?t=n+1:r=n}return t}function Es(e){if(!(e.flags&1)){const t=$r(e),r=Ue[Ue.length-1];!r||!(e.flags&2)&&t>=$r(r)?Ue.push(e):Ue.splice(Ko(t),0,e),e.flags|=1,ca()}}function ca(){sn||(sn=ua.then(ha))}function Vo(e){Y(e)?lr.push(...e):Mt&&e.id===-1?Mt.splice(rr+1,0,e):e.flags&1||(lr.push(e),e.flags|=1),ca()}function Vs(e,t,r=ft+1){for(;r<Ue.length;r++){const n=Ue[r];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;Ue.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function fa(e){if(lr.length){const t=[...new Set(lr)].sort((r,n)=>$r(r)-$r(n));if(lr.length=0,Mt){Mt.push(...t);return}for(Mt=t,rr=0;rr<Mt.length;rr++){const r=Mt[rr];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Mt=null,rr=0}}const $r=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ha(e){try{for(ft=0;ft<Ue.length;ft++){const t=Ue[ft];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Rr(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ft<Ue.length;ft++){const t=Ue[ft];t&&(t.flags&=-2)}ft=-1,Ue.length=0,fa(),sn=null,(Ue.length||lr.length)&&ha()}}let nt=null,pa=null;function an(e){const t=nt;return nt=e,pa=e&&e.type.__scopeId||null,t}function zo(e,t=nt,r){if(!t||e._n)return e;const n=(...s)=>{n._d&&Qs(-1);const i=an(t);let a;try{a=e(...s)}finally{an(i),n._d&&Qs(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function qr(e,t){if(nt===null)return e;const r=En(nt),n=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,a,o,l=ge]=t[s];i&&(Z(i)&&(i={mounted:i,updated:i}),i.deep&&Et(a),n.push({dir:i,instance:r,value:a,oldValue:void 0,arg:o,modifiers:l}))}return e}function Nt(e,t,r,n){const s=e.dirs,i=t&&t.dirs;for(let a=0;a<s.length;a++){const o=s[a];i&&(o.oldValue=i[a].value);let l=o.dir[n];l&&(Bt(),vt(l,r,8,[e.el,o,e,t]),It())}}const Wo=Symbol("_vte"),Go=e=>e.__isTeleport;function Cs(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Cs(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Yo(e,t){return Z(e)?Me({name:e.name},t,{setup:e}):e}function da(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Xn(e,t,r,n,s=!1){if(Y(e)){e.forEach(($,I)=>Xn($,t&&(Y(t)?t[I]:t),r,n,s));return}if(Ar(n)&&!s)return;const i=n.shapeFlag&4?En(n.component):n.el,a=s?null:i,{i:o,r:l}=e,f=t&&t.r,c=o.refs===ge?o.refs={}:o.refs,h=o.setupState,y=oe(h),b=h===ge?()=>!1:$=>le(y,$);if(f!=null&&f!==l&&(_e(f)?(c[f]=null,b(f)&&(h[f]=null)):De(f)&&(f.value=null)),Z(l))Rr(l,o,12,[a,c]);else{const $=_e(l),I=De(l);if($||I){const q=()=>{if(e.f){const j=$?b(l)?h[l]:c[l]:l.value;s?Y(j)&&hs(j,i):Y(j)?j.includes(i)||j.push(i):$?(c[l]=[i],b(l)&&(h[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else $?(c[l]=a,b(l)&&(h[l]=a)):I&&(l.value=a,e.k&&(c[e.k]=a))};a?(q.id=-1,Ze(q,r)):q()}}}mn().requestIdleCallback;mn().cancelIdleCallback;const Ar=e=>!!e.type.__asyncLoader,ga=e=>e.type.__isKeepAlive;function Jo(e,t){ma(e,"a",t)}function Zo(e,t){ma(e,"da",t)}function ma(e,t,r=qe){const n=e.__wdc||(e.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(xn(t,n,r),r){let s=r.parent;for(;s&&s.parent;)ga(s.parent.vnode)&&Xo(n,t,r,s),s=s.parent}}function Xo(e,t,r,n){const s=xn(t,e,n,!0);va(()=>{hs(n[t],s)},r)}function xn(e,t,r=qe,n=!1){if(r){const s=r[e]||(r[e]=[]),i=t.__weh||(t.__weh=(...a)=>{Bt();const o=Tr(r),l=vt(t,r,e,a);return o(),It(),l});return n?s.unshift(i):s.push(i),i}}const Pt=e=>(t,r=qe)=>{(!Br||e==="sp")&&xn(e,(...n)=>t(...n),r)},Qo=Pt("bm"),el=Pt("m"),tl=Pt("bu"),rl=Pt("u"),nl=Pt("bum"),va=Pt("um"),sl=Pt("sp"),il=Pt("rtg"),al=Pt("rtc");function ol(e,t=qe){xn("ec",e,t)}const ll=Symbol.for("v-ndc");function ul(e,t,r,n){let s;const i=r,a=Y(e);if(a||_e(e)){const o=a&&or(e);let l=!1;o&&(l=!st(e),e=yn(e)),s=new Array(e.length);for(let f=0,c=e.length;f<c;f++)s[f]=t(l?Te(e[f]):e[f],f,void 0,i)}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i)}else if(we(e))if(e[Symbol.iterator])s=Array.from(e,(o,l)=>t(o,l,void 0,i));else{const o=Object.keys(e);s=new Array(o.length);for(let l=0,f=o.length;l<f;l++){const c=o[l];s[l]=t(e[c],c,l,i)}}else s=[];return s}const Qn=e=>e?Da(e)?En(e):Qn(e.parent):null,Pr=Me(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Qn(e.parent),$root:e=>Qn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>As(e),$forceUpdate:e=>e.f||(e.f=()=>{Es(e.update)}),$nextTick:e=>e.n||(e.n=Ho.bind(e.proxy)),$watch:e=>$l.bind(e)}),$n=(e,t)=>e!==ge&&!e.__isScriptSetup&&le(e,t),cl={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:s,props:i,accessCache:a,type:o,appContext:l}=e;let f;if(t[0]!=="$"){const b=a[t];if(b!==void 0)switch(b){case 1:return n[t];case 2:return s[t];case 4:return r[t];case 3:return i[t]}else{if($n(n,t))return a[t]=1,n[t];if(s!==ge&&le(s,t))return a[t]=2,s[t];if((f=e.propsOptions[0])&&le(f,t))return a[t]=3,i[t];if(r!==ge&&le(r,t))return a[t]=4,r[t];es&&(a[t]=0)}}const c=Pr[t];let h,y;if(c)return t==="$attrs"&&Re(e.attrs,"get",""),c(e);if((h=o.__cssModules)&&(h=h[t]))return h;if(r!==ge&&le(r,t))return a[t]=4,r[t];if(y=l.config.globalProperties,le(y,t))return y[t]},set({_:e},t,r){const{data:n,setupState:s,ctx:i}=e;return $n(s,t)?(s[t]=r,!0):n!==ge&&le(n,t)?(n[t]=r,!0):le(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:s,propsOptions:i}},a){let o;return!!r[a]||e!==ge&&le(e,a)||$n(t,a)||(o=i[0])&&le(o,a)||le(n,a)||le(Pr,a)||le(s.config.globalProperties,a)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:le(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function zs(e){return Y(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let es=!0;function fl(e){const t=As(e),r=e.proxy,n=e.ctx;es=!1,t.beforeCreate&&Ws(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:a,watch:o,provide:l,inject:f,created:c,beforeMount:h,mounted:y,beforeUpdate:b,updated:$,activated:I,deactivated:q,beforeDestroy:j,beforeUnmount:m,destroyed:p,unmounted:d,render:v,renderTracked:x,renderTriggered:E,errorCaptured:M,serverPrefetch:A,expose:H,inheritAttrs:K,components:X,directives:pe,filters:Ae}=t;if(f&&hl(f,n,null),a)for(const ue in a){const V=a[ue];Z(V)&&(n[ue]=V.bind(r))}if(s){const ue=s.call(r,r);we(ue)&&(e.data=xs(ue))}if(es=!0,i)for(const ue in i){const V=i[ue],ce=Z(V)?V.bind(r,r):Z(V.get)?V.get.bind(r,r):dt,Pe=!Z(V)&&Z(V.set)?V.set.bind(r):dt,$e=ja({get:ce,set:Pe});Object.defineProperty(n,ue,{enumerable:!0,configurable:!0,get:()=>$e.value,set:se=>$e.value=se})}if(o)for(const ue in o)ya(o[ue],n,r,ue);if(l){const ue=Z(l)?l.call(r):l;Reflect.ownKeys(ue).forEach(V=>{yl(V,ue[V])})}c&&Ws(c,e,"c");function xe(ue,V){Y(V)?V.forEach(ce=>ue(ce.bind(r))):V&&ue(V.bind(r))}if(xe(Qo,h),xe(el,y),xe(tl,b),xe(rl,$),xe(Jo,I),xe(Zo,q),xe(ol,M),xe(al,x),xe(il,E),xe(nl,m),xe(va,d),xe(sl,A),Y(H))if(H.length){const ue=e.exposed||(e.exposed={});H.forEach(V=>{Object.defineProperty(ue,V,{get:()=>r[V],set:ce=>r[V]=ce})})}else e.exposed||(e.exposed={});v&&e.render===dt&&(e.render=v),K!=null&&(e.inheritAttrs=K),X&&(e.components=X),pe&&(e.directives=pe),A&&da(e)}function hl(e,t,r=dt){Y(e)&&(e=ts(e));for(const n in e){const s=e[n];let i;we(s)?"default"in s?i=Jr(s.from||n,s.default,!0):i=Jr(s.from||n):i=Jr(s),De(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):t[n]=i}}function Ws(e,t,r){vt(Y(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function ya(e,t,r,n){let s=n.includes(".")?ka(r,n):()=>r[n];if(_e(e)){const i=t[e];Z(i)&&Zr(s,i)}else if(Z(e))Zr(s,e.bind(r));else if(we(e))if(Y(e))e.forEach(i=>ya(i,t,r,n));else{const i=Z(e.handler)?e.handler.bind(r):t[e.handler];Z(i)&&Zr(s,i,e)}}function As(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,o=i.get(t);let l;return o?l=o:!s.length&&!r&&!n?l=t:(l={},s.length&&s.forEach(f=>on(l,f,a,!0)),on(l,t,a)),we(t)&&i.set(t,l),l}function on(e,t,r,n=!1){const{mixins:s,extends:i}=t;i&&on(e,i,r,!0),s&&s.forEach(a=>on(e,a,r,!0));for(const a in t)if(!(n&&a==="expose")){const o=pl[a]||r&&r[a];e[a]=o?o(e[a],t[a]):t[a]}return e}const pl={data:Gs,props:Ys,emits:Ys,methods:wr,computed:wr,beforeCreate:je,created:je,beforeMount:je,mounted:je,beforeUpdate:je,updated:je,beforeDestroy:je,beforeUnmount:je,destroyed:je,unmounted:je,activated:je,deactivated:je,errorCaptured:je,serverPrefetch:je,components:wr,directives:wr,watch:gl,provide:Gs,inject:dl};function Gs(e,t){return t?e?function(){return Me(Z(e)?e.call(this,this):e,Z(t)?t.call(this,this):t)}:t:e}function dl(e,t){return wr(ts(e),ts(t))}function ts(e){if(Y(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function je(e,t){return e?[...new Set([].concat(e,t))]:t}function wr(e,t){return e?Me(Object.create(null),e,t):t}function Ys(e,t){return e?Y(e)&&Y(t)?[...new Set([...e,...t])]:Me(Object.create(null),zs(e),zs(t??{})):t}function gl(e,t){if(!e)return t;if(!t)return e;const r=Me(Object.create(null),e);for(const n in t)r[n]=je(e[n],t[n]);return r}function wa(){return{app:null,config:{isNativeTag:eo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ml=0;function vl(e,t){return function(n,s=null){Z(n)||(n=Me({},n)),s!=null&&!we(s)&&(s=null);const i=wa(),a=new WeakSet,o=[];let l=!1;const f=i.app={_uid:ml++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:Zl,get config(){return i.config},set config(c){},use(c,...h){return a.has(c)||(c&&Z(c.install)?(a.add(c),c.install(f,...h)):Z(c)&&(a.add(c),c(f,...h))),f},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),f},component(c,h){return h?(i.components[c]=h,f):i.components[c]},directive(c,h){return h?(i.directives[c]=h,f):i.directives[c]},mount(c,h,y){if(!l){const b=f._ceVNode||Ke(n,s);return b.appContext=i,y===!0?y="svg":y===!1&&(y=void 0),h&&t?t(b,c):e(b,c,y),l=!0,f._container=c,c.__vue_app__=f,En(b.component)}},onUnmount(c){o.push(c)},unmount(){l&&(vt(o,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(c,h){return i.provides[c]=h,f},runWithContext(c){const h=ur;ur=f;try{return c()}finally{ur=h}}};return f}}let ur=null;function yl(e,t){if(qe){let r=qe.provides;const n=qe.parent&&qe.parent.provides;n===r&&(r=qe.provides=Object.create(n)),r[e]=t}}function Jr(e,t,r=!1){const n=qe||nt;if(n||ur){const s=ur?ur._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return r&&Z(t)?t.call(n&&n.proxy):t}}const xa={},ba=()=>Object.create(xa),_a=e=>Object.getPrototypeOf(e)===xa;function wl(e,t,r,n=!1){const s={},i=ba();e.propsDefaults=Object.create(null),Ea(e,t,s,i);for(const a in e.propsOptions[0])a in s||(s[a]=void 0);r?e.props=n?s:Bo(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function xl(e,t,r,n){const{props:s,attrs:i,vnode:{patchFlag:a}}=e,o=oe(s),[l]=e.propsOptions;let f=!1;if((n||a>0)&&!(a&16)){if(a&8){const c=e.vnode.dynamicProps;for(let h=0;h<c.length;h++){let y=c[h];if(bn(e.emitsOptions,y))continue;const b=t[y];if(l)if(le(i,y))b!==i[y]&&(i[y]=b,f=!0);else{const $=kt(y);s[$]=rs(l,o,$,b,e,!1)}else b!==i[y]&&(i[y]=b,f=!0)}}}else{Ea(e,t,s,i)&&(f=!0);let c;for(const h in o)(!t||!le(t,h)&&((c=Yt(h))===h||!le(t,c)))&&(l?r&&(r[h]!==void 0||r[c]!==void 0)&&(s[h]=rs(l,o,h,void 0,e,!0)):delete s[h]);if(i!==o)for(const h in i)(!t||!le(t,h))&&(delete i[h],f=!0)}f&&bt(e.attrs,"set","")}function Ea(e,t,r,n){const[s,i]=e.propsOptions;let a=!1,o;if(t)for(let l in t){if(_r(l))continue;const f=t[l];let c;s&&le(s,c=kt(l))?!i||!i.includes(c)?r[c]=f:(o||(o={}))[c]=f:bn(e.emitsOptions,l)||(!(l in n)||f!==n[l])&&(n[l]=f,a=!0)}if(i){const l=oe(r),f=o||ge;for(let c=0;c<i.length;c++){const h=i[c];r[h]=rs(s,l,h,f[h],e,!le(f,h))}}return a}function rs(e,t,r,n,s,i){const a=e[r];if(a!=null){const o=le(a,"default");if(o&&n===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&Z(l)){const{propsDefaults:f}=s;if(r in f)n=f[r];else{const c=Tr(s);n=f[r]=l.call(null,t),c()}}else n=l;s.ce&&s.ce._setProp(r,n)}a[0]&&(i&&!o?n=!1:a[1]&&(n===""||n===Yt(r))&&(n=!0))}return n}const bl=new WeakMap;function Ca(e,t,r=!1){const n=r?bl:t.propsCache,s=n.get(e);if(s)return s;const i=e.props,a={},o=[];let l=!1;if(!Z(e)){const c=h=>{l=!0;const[y,b]=Ca(h,t,!0);Me(a,y),b&&o.push(...b)};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return we(e)&&n.set(e,ir),ir;if(Y(i))for(let c=0;c<i.length;c++){const h=kt(i[c]);Js(h)&&(a[h]=ge)}else if(i)for(const c in i){const h=kt(c);if(Js(h)){const y=i[c],b=a[h]=Y(y)||Z(y)?{type:y}:Me({},y),$=b.type;let I=!1,q=!0;if(Y($))for(let j=0;j<$.length;++j){const m=$[j],p=Z(m)&&m.name;if(p==="Boolean"){I=!0;break}else p==="String"&&(q=!1)}else I=Z($)&&$.name==="Boolean";b[0]=I,b[1]=q,(I||le(b,"default"))&&o.push(h)}}const f=[a,o];return we(e)&&n.set(e,f),f}function Js(e){return e[0]!=="$"&&!_r(e)}const Aa=e=>e[0]==="_"||e==="$stable",Ps=e=>Y(e)?e.map(pt):[pt(e)],_l=(e,t,r)=>{if(t._n)return t;const n=zo((...s)=>Ps(t(...s)),r);return n._c=!1,n},Pa=(e,t,r)=>{const n=e._ctx;for(const s in e){if(Aa(s))continue;const i=e[s];if(Z(i))t[s]=_l(s,i,n);else if(i!=null){const a=Ps(i);t[s]=()=>a}}},Sa=(e,t)=>{const r=Ps(t);e.slots.default=()=>r},Fa=(e,t,r)=>{for(const n in t)(r||n!=="_")&&(e[n]=t[n])},El=(e,t,r)=>{const n=e.slots=ba();if(e.vnode.shapeFlag&32){const s=t._;s?(Fa(n,t,r),r&&Hi(n,"_",s,!0)):Pa(t,n)}else t&&Sa(e,t)},Cl=(e,t,r)=>{const{vnode:n,slots:s}=e;let i=!0,a=ge;if(n.shapeFlag&32){const o=t._;o?r&&o===1?i=!1:Fa(s,t,r):(i=!t.$stable,Pa(t,s)),a=t}else t&&(Sa(e,t),a={default:1});if(i)for(const o in s)!Aa(o)&&a[o]==null&&delete s[o]},Ze=Dl;function Al(e){return Pl(e)}function Pl(e,t){const r=mn();r.__VUE__=!0;const{insert:n,remove:s,patchProp:i,createElement:a,createText:o,createComment:l,setText:f,setElementText:c,parentNode:h,nextSibling:y,setScopeId:b=dt,insertStaticContent:$}=e,I=(g,w,C,k=null,S=null,O=null,T=void 0,R=null,N=!!w.dynamicChildren)=>{if(g===w)return;g&&!yr(g,w)&&(k=He(g),se(g,S,O,!0),g=null),w.patchFlag===-2&&(N=!1,w.dynamicChildren=null);const{type:B,ref:W,shapeFlag:L}=w;switch(B){case _n:q(g,w,C,k);break;case Wt:j(g,w,C,k);break;case In:g==null&&m(w,C,k,T);break;case ht:X(g,w,C,k,S,O,T,R,N);break;default:L&1?v(g,w,C,k,S,O,T,R,N):L&6?pe(g,w,C,k,S,O,T,R,N):(L&64||L&128)&&B.process(g,w,C,k,S,O,T,R,N,We)}W!=null&&S&&Xn(W,g&&g.ref,O,w||g,!w)},q=(g,w,C,k)=>{if(g==null)n(w.el=o(w.children),C,k);else{const S=w.el=g.el;w.children!==g.children&&f(S,w.children)}},j=(g,w,C,k)=>{g==null?n(w.el=l(w.children||""),C,k):w.el=g.el},m=(g,w,C,k)=>{[g.el,g.anchor]=$(g.children,w,C,k,g.el,g.anchor)},p=({el:g,anchor:w},C,k)=>{let S;for(;g&&g!==w;)S=y(g),n(g,C,k),g=S;n(w,C,k)},d=({el:g,anchor:w})=>{let C;for(;g&&g!==w;)C=y(g),s(g),g=C;s(w)},v=(g,w,C,k,S,O,T,R,N)=>{w.type==="svg"?T="svg":w.type==="math"&&(T="mathml"),g==null?x(w,C,k,S,O,T,R,N):A(g,w,S,O,T,R,N)},x=(g,w,C,k,S,O,T,R)=>{let N,B;const{props:W,shapeFlag:L,transition:z,dirs:J}=g;if(N=g.el=a(g.type,O,W&&W.is,W),L&8?c(N,g.children):L&16&&M(g.children,N,null,k,S,kn(g,O),T,R),J&&Nt(g,null,k,"created"),E(N,g,g.scopeId,T,k),W){for(const ve in W)ve!=="value"&&!_r(ve)&&i(N,ve,null,W[ve],O,k);"value"in W&&i(N,"value",null,W.value,O),(B=W.onVnodeBeforeMount)&&ct(B,k,g)}J&&Nt(g,null,k,"beforeMount");const ie=Sl(S,z);ie&&z.beforeEnter(N),n(N,w,C),((B=W&&W.onVnodeMounted)||ie||J)&&Ze(()=>{B&&ct(B,k,g),ie&&z.enter(N),J&&Nt(g,null,k,"mounted")},S)},E=(g,w,C,k,S)=>{if(C&&b(g,C),k)for(let O=0;O<k.length;O++)b(g,k[O]);if(S){let O=S.subTree;if(w===O||Ia(O.type)&&(O.ssContent===w||O.ssFallback===w)){const T=S.vnode;E(g,T,T.scopeId,T.slotScopeIds,S.parent)}}},M=(g,w,C,k,S,O,T,R,N=0)=>{for(let B=N;B<g.length;B++){const W=g[B]=R?Ot(g[B]):pt(g[B]);I(null,W,w,C,k,S,O,T,R)}},A=(g,w,C,k,S,O,T)=>{const R=w.el=g.el;let{patchFlag:N,dynamicChildren:B,dirs:W}=w;N|=g.patchFlag&16;const L=g.props||ge,z=w.props||ge;let J;if(C&&Rt(C,!1),(J=z.onVnodeBeforeUpdate)&&ct(J,C,w,g),W&&Nt(w,g,C,"beforeUpdate"),C&&Rt(C,!0),(L.innerHTML&&z.innerHTML==null||L.textContent&&z.textContent==null)&&c(R,""),B?H(g.dynamicChildren,B,R,C,k,kn(w,S),O):T||V(g,w,R,null,C,k,kn(w,S),O,!1),N>0){if(N&16)K(R,L,z,C,S);else if(N&2&&L.class!==z.class&&i(R,"class",null,z.class,S),N&4&&i(R,"style",L.style,z.style,S),N&8){const ie=w.dynamicProps;for(let ve=0;ve<ie.length;ve++){const fe=ie[ve],Ge=L[fe],Ie=z[fe];(Ie!==Ge||fe==="value")&&i(R,fe,Ge,Ie,S,C)}}N&1&&g.children!==w.children&&c(R,w.children)}else!T&&B==null&&K(R,L,z,C,S);((J=z.onVnodeUpdated)||W)&&Ze(()=>{J&&ct(J,C,w,g),W&&Nt(w,g,C,"updated")},k)},H=(g,w,C,k,S,O,T)=>{for(let R=0;R<w.length;R++){const N=g[R],B=w[R],W=N.el&&(N.type===ht||!yr(N,B)||N.shapeFlag&70)?h(N.el):C;I(N,B,W,null,k,S,O,T,!0)}},K=(g,w,C,k,S)=>{if(w!==C){if(w!==ge)for(const O in w)!_r(O)&&!(O in C)&&i(g,O,w[O],null,S,k);for(const O in C){if(_r(O))continue;const T=C[O],R=w[O];T!==R&&O!=="value"&&i(g,O,R,T,S,k)}"value"in C&&i(g,"value",w.value,C.value,S)}},X=(g,w,C,k,S,O,T,R,N)=>{const B=w.el=g?g.el:o(""),W=w.anchor=g?g.anchor:o("");let{patchFlag:L,dynamicChildren:z,slotScopeIds:J}=w;J&&(R=R?R.concat(J):J),g==null?(n(B,C,k),n(W,C,k),M(w.children||[],C,W,S,O,T,R,N)):L>0&&L&64&&z&&g.dynamicChildren?(H(g.dynamicChildren,z,C,S,O,T,R),(w.key!=null||S&&w===S.subTree)&&Ma(g,w,!0)):V(g,w,C,W,S,O,T,R,N)},pe=(g,w,C,k,S,O,T,R,N)=>{w.slotScopeIds=R,g==null?w.shapeFlag&512?S.ctx.activate(w,C,k,T,N):Ae(w,C,k,S,O,T,N):it(g,w,N)},Ae=(g,w,C,k,S,O,T)=>{const R=g.component=Vl(g,k,S);if(ga(g)&&(R.ctx.renderer=We),zl(R,!1,T),R.asyncDep){if(S&&S.registerDep(R,xe,T),!g.el){const N=R.subTree=Ke(Wt);j(null,N,w,C)}}else xe(R,g,w,C,S,O,T)},it=(g,w,C)=>{const k=w.component=g.component;if(Rl(g,w,C))if(k.asyncDep&&!k.asyncResolved){ue(k,w,C);return}else k.next=w,k.update();else w.el=g.el,k.vnode=w},xe=(g,w,C,k,S,O,T)=>{const R=()=>{if(g.isMounted){let{next:L,bu:z,u:J,parent:ie,vnode:ve}=g;{const Ye=Oa(g);if(Ye){L&&(L.el=ve.el,ue(g,L,T)),Ye.asyncDep.then(()=>{g.isUnmounted||R()});return}}let fe=L,Ge;Rt(g,!1),L?(L.el=ve.el,ue(g,L,T)):L=ve,z&&Yr(z),(Ge=L.props&&L.props.onVnodeBeforeUpdate)&&ct(Ge,ie,L,ve),Rt(g,!0);const Ie=Bn(g),ot=g.subTree;g.subTree=Ie,I(ot,Ie,h(ot.el),He(ot),g,S,O),L.el=Ie.el,fe===null&&Tl(g,Ie.el),J&&Ze(J,S),(Ge=L.props&&L.props.onVnodeUpdated)&&Ze(()=>ct(Ge,ie,L,ve),S)}else{let L;const{el:z,props:J}=w,{bm:ie,m:ve,parent:fe,root:Ge,type:Ie}=g,ot=Ar(w);if(Rt(g,!1),ie&&Yr(ie),!ot&&(L=J&&J.onVnodeBeforeMount)&&ct(L,fe,w),Rt(g,!0),z&&Qt){const Ye=()=>{g.subTree=Bn(g),Qt(z,g.subTree,g,S,null)};ot&&Ie.__asyncHydrate?Ie.__asyncHydrate(z,g,Ye):Ye()}else{Ge.ce&&Ge.ce._injectChildStyle(Ie);const Ye=g.subTree=Bn(g);I(null,Ye,C,k,g,S,O),w.el=Ye.el}if(ve&&Ze(ve,S),!ot&&(L=J&&J.onVnodeMounted)){const Ye=w;Ze(()=>ct(L,fe,Ye),S)}(w.shapeFlag&256||fe&&Ar(fe.vnode)&&fe.vnode.shapeFlag&256)&&g.a&&Ze(g.a,S),g.isMounted=!0,w=C=k=null}};g.scope.on();const N=g.effect=new Wi(R);g.scope.off();const B=g.update=N.run.bind(N),W=g.job=N.runIfDirty.bind(N);W.i=g,W.id=g.uid,N.scheduler=()=>Es(W),Rt(g,!0),B()},ue=(g,w,C)=>{w.component=g;const k=g.vnode.props;g.vnode=w,g.next=null,xl(g,w.props,k,C),Cl(g,w.children,C),Bt(),Vs(g),It()},V=(g,w,C,k,S,O,T,R,N=!1)=>{const B=g&&g.children,W=g?g.shapeFlag:0,L=w.children,{patchFlag:z,shapeFlag:J}=w;if(z>0){if(z&128){Pe(B,L,C,k,S,O,T,R,N);return}else if(z&256){ce(B,L,C,k,S,O,T,R,N);return}}J&8?(W&16&&Le(B,S,O),L!==B&&c(C,L)):W&16?J&16?Pe(B,L,C,k,S,O,T,R,N):Le(B,S,O,!0):(W&8&&c(C,""),J&16&&M(L,C,k,S,O,T,R,N))},ce=(g,w,C,k,S,O,T,R,N)=>{g=g||ir,w=w||ir;const B=g.length,W=w.length,L=Math.min(B,W);let z;for(z=0;z<L;z++){const J=w[z]=N?Ot(w[z]):pt(w[z]);I(g[z],J,C,null,S,O,T,R,N)}B>W?Le(g,S,O,!0,!1,L):M(w,C,k,S,O,T,R,N,L)},Pe=(g,w,C,k,S,O,T,R,N)=>{let B=0;const W=w.length;let L=g.length-1,z=W-1;for(;B<=L&&B<=z;){const J=g[B],ie=w[B]=N?Ot(w[B]):pt(w[B]);if(yr(J,ie))I(J,ie,C,null,S,O,T,R,N);else break;B++}for(;B<=L&&B<=z;){const J=g[L],ie=w[z]=N?Ot(w[z]):pt(w[z]);if(yr(J,ie))I(J,ie,C,null,S,O,T,R,N);else break;L--,z--}if(B>L){if(B<=z){const J=z+1,ie=J<W?w[J].el:k;for(;B<=z;)I(null,w[B]=N?Ot(w[B]):pt(w[B]),C,ie,S,O,T,R,N),B++}}else if(B>z)for(;B<=L;)se(g[B],S,O,!0),B++;else{const J=B,ie=B,ve=new Map;for(B=ie;B<=z;B++){const Je=w[B]=N?Ot(w[B]):pt(w[B]);Je.key!=null&&ve.set(Je.key,B)}let fe,Ge=0;const Ie=z-ie+1;let ot=!1,Ye=0;const mr=new Array(Ie);for(B=0;B<Ie;B++)mr[B]=0;for(B=J;B<=L;B++){const Je=g[B];if(Ge>=Ie){se(Je,S,O,!0);continue}let ut;if(Je.key!=null)ut=ve.get(Je.key);else for(fe=ie;fe<=z;fe++)if(mr[fe-ie]===0&&yr(Je,w[fe])){ut=fe;break}ut===void 0?se(Je,S,O,!0):(mr[ut-ie]=B+1,ut>=Ye?Ye=ut:ot=!0,I(Je,w[ut],C,null,S,O,T,R,N),Ge++)}const Ls=ot?Fl(mr):ir;for(fe=Ls.length-1,B=Ie-1;B>=0;B--){const Je=ie+B,ut=w[Je],js=Je+1<W?w[Je+1].el:k;mr[B]===0?I(null,ut,C,js,S,O,T,R,N):ot&&(fe<0||B!==Ls[fe]?$e(ut,C,js,2):fe--)}}},$e=(g,w,C,k,S=null)=>{const{el:O,type:T,transition:R,children:N,shapeFlag:B}=g;if(B&6){$e(g.component.subTree,w,C,k);return}if(B&128){g.suspense.move(w,C,k);return}if(B&64){T.move(g,w,C,We);return}if(T===ht){n(O,w,C);for(let L=0;L<N.length;L++)$e(N[L],w,C,k);n(g.anchor,w,C);return}if(T===In){p(g,w,C);return}if(k!==2&&B&1&&R)if(k===0)R.beforeEnter(O),n(O,w,C),Ze(()=>R.enter(O),S);else{const{leave:L,delayLeave:z,afterLeave:J}=R,ie=()=>n(O,w,C),ve=()=>{L(O,()=>{ie(),J&&J()})};z?z(O,ie,ve):ve()}else n(O,w,C)},se=(g,w,C,k=!1,S=!1)=>{const{type:O,props:T,ref:R,children:N,dynamicChildren:B,shapeFlag:W,patchFlag:L,dirs:z,cacheIndex:J}=g;if(L===-2&&(S=!1),R!=null&&Xn(R,null,C,g,!0),J!=null&&(w.renderCache[J]=void 0),W&256){w.ctx.deactivate(g);return}const ie=W&1&&z,ve=!Ar(g);let fe;if(ve&&(fe=T&&T.onVnodeBeforeUnmount)&&ct(fe,w,g),W&6)ze(g.component,C,k);else{if(W&128){g.suspense.unmount(C,k);return}ie&&Nt(g,null,w,"beforeUnmount"),W&64?g.type.remove(g,w,C,We,k):B&&!B.hasOnce&&(O!==ht||L>0&&L&64)?Le(B,w,C,!1,!0):(O===ht&&L&384||!S&&W&16)&&Le(N,w,C),k&&Xt(g)}(ve&&(fe=T&&T.onVnodeUnmounted)||ie)&&Ze(()=>{fe&&ct(fe,w,g),ie&&Nt(g,null,w,"unmounted")},C)},Xt=g=>{const{type:w,el:C,anchor:k,transition:S}=g;if(w===ht){Ee(C,k);return}if(w===In){d(g);return}const O=()=>{s(C),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(g.shapeFlag&1&&S&&!S.persisted){const{leave:T,delayLeave:R}=S,N=()=>T(C,O);R?R(g.el,O,N):N()}else O()},Ee=(g,w)=>{let C;for(;g!==w;)C=y(g),s(g),g=C;s(w)},ze=(g,w,C)=>{const{bum:k,scope:S,job:O,subTree:T,um:R,m:N,a:B}=g;Zs(N),Zs(B),k&&Yr(k),S.stop(),O&&(O.flags|=8,se(T,g,w,C)),R&&Ze(R,w),Ze(()=>{g.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},Le=(g,w,C,k=!1,S=!1,O=0)=>{for(let T=O;T<g.length;T++)se(g[T],w,C,k,S)},He=g=>{if(g.shapeFlag&6)return He(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const w=y(g.anchor||g.el),C=w&&w[Wo];return C?y(C):w};let at=!1;const St=(g,w,C)=>{g==null?w._vnode&&se(w._vnode,null,null,!0):I(w._vnode||null,g,w,null,null,null,C),w._vnode=g,at||(at=!0,Vs(),fa(),at=!1)},We={p:I,um:se,m:$e,r:Xt,mt:Ae,mc:M,pc:V,pbc:H,n:He,o:e};let tt,Qt;return{render:St,hydrate:tt,createApp:vl(St,tt)}}function kn({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function Rt({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Sl(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ma(e,t,r=!1){const n=e.children,s=t.children;if(Y(n)&&Y(s))for(let i=0;i<n.length;i++){const a=n[i];let o=s[i];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=s[i]=Ot(s[i]),o.el=a.el),!r&&o.patchFlag!==-2&&Ma(a,o)),o.type===_n&&(o.el=a.el)}}function Fl(e){const t=e.slice(),r=[0];let n,s,i,a,o;const l=e.length;for(n=0;n<l;n++){const f=e[n];if(f!==0){if(s=r[r.length-1],e[s]<f){t[n]=s,r.push(n);continue}for(i=0,a=r.length-1;i<a;)o=i+a>>1,e[r[o]]<f?i=o+1:a=o;f<e[r[i]]&&(i>0&&(t[n]=r[i-1]),r[i]=n)}}for(i=r.length,a=r[i-1];i-- >0;)r[i]=a,a=t[a];return r}function Oa(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Oa(t)}function Zs(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Ml=Symbol.for("v-scx"),Ol=()=>Jr(Ml);function Zr(e,t,r){return $a(e,t,r)}function $a(e,t,r=ge){const{immediate:n,deep:s,flush:i,once:a}=r,o=Me({},r),l=t&&n||!t&&i!=="post";let f;if(Br){if(i==="sync"){const b=Ol();f=b.__watcherHandles||(b.__watcherHandles=[])}else if(!l){const b=()=>{};return b.stop=dt,b.resume=dt,b.pause=dt,b}}const c=qe;o.call=(b,$,I)=>vt(b,c,$,I);let h=!1;i==="post"?o.scheduler=b=>{Ze(b,c&&c.suspense)}:i!=="sync"&&(h=!0,o.scheduler=(b,$)=>{$?b():Es(b)}),o.augmentJob=b=>{t&&(b.flags|=4),h&&(b.flags|=2,c&&(b.id=c.uid,b.i=c))};const y=Uo(e,t,o);return Br&&(f?f.push(y):l&&y()),y}function $l(e,t,r){const n=this.proxy,s=_e(e)?e.includes(".")?ka(n,e):()=>n[e]:e.bind(n,n);let i;Z(t)?i=t:(i=t.handler,r=t);const a=Tr(this),o=$a(s,i.bind(n),r);return a(),o}function ka(e,t){const r=t.split(".");return()=>{let n=e;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}const kl=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${kt(t)}Modifiers`]||e[`${Yt(t)}Modifiers`];function Bl(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||ge;let s=r;const i=t.startsWith("update:"),a=i&&kl(n,t.slice(7));a&&(a.trim&&(s=r.map(c=>_e(c)?c.trim():c)),a.number&&(s=r.map(Vn)));let o,l=n[o=Pn(t)]||n[o=Pn(kt(t))];!l&&i&&(l=n[o=Pn(Yt(t))]),l&&vt(l,e,6,s);const f=n[o+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,vt(f,e,6,s)}}function Ba(e,t,r=!1){const n=t.emitsCache,s=n.get(e);if(s!==void 0)return s;const i=e.emits;let a={},o=!1;if(!Z(e)){const l=f=>{const c=Ba(f,t,!0);c&&(o=!0,Me(a,c))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!o?(we(e)&&n.set(e,null),null):(Y(i)?i.forEach(l=>a[l]=null):Me(a,i),we(e)&&n.set(e,a),a)}function bn(e,t){return!e||!dn(t)?!1:(t=t.slice(2).replace(/Once$/,""),le(e,t[0].toLowerCase()+t.slice(1))||le(e,Yt(t))||le(e,t))}function Bn(e){const{type:t,vnode:r,proxy:n,withProxy:s,propsOptions:[i],slots:a,attrs:o,emit:l,render:f,renderCache:c,props:h,data:y,setupState:b,ctx:$,inheritAttrs:I}=e,q=an(e);let j,m;try{if(r.shapeFlag&4){const d=s||n,v=d;j=pt(f.call(v,d,c,h,b,y,$)),m=o}else{const d=t;j=pt(d.length>1?d(h,{attrs:o,slots:a,emit:l}):d(h,null)),m=t.props?o:Il(o)}}catch(d){Sr.length=0,wn(d,e,1),j=Ke(Wt)}let p=j;if(m&&I!==!1){const d=Object.keys(m),{shapeFlag:v}=p;d.length&&v&7&&(i&&d.some(fs)&&(m=Nl(m,i)),p=gr(p,m,!1,!0))}return r.dirs&&(p=gr(p,null,!1,!0),p.dirs=p.dirs?p.dirs.concat(r.dirs):r.dirs),r.transition&&Cs(p,r.transition),j=p,an(q),j}const Il=e=>{let t;for(const r in e)(r==="class"||r==="style"||dn(r))&&((t||(t={}))[r]=e[r]);return t},Nl=(e,t)=>{const r={};for(const n in e)(!fs(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function Rl(e,t,r){const{props:n,children:s,component:i}=e,{props:a,children:o,patchFlag:l}=t,f=i.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?Xs(n,a,f):!!a;if(l&8){const c=t.dynamicProps;for(let h=0;h<c.length;h++){const y=c[h];if(a[y]!==n[y]&&!bn(f,y))return!0}}}else return(s||o)&&(!o||!o.$stable)?!0:n===a?!1:n?a?Xs(n,a,f):!0:!!a;return!1}function Xs(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(t[i]!==e[i]&&!bn(r,i))return!0}return!1}function Tl({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const Ia=e=>e.__isSuspense;function Dl(e,t){t&&t.pendingBranch?Y(e)?t.effects.push(...e):t.effects.push(e):Vo(e)}const ht=Symbol.for("v-fgt"),_n=Symbol.for("v-txt"),Wt=Symbol.for("v-cmt"),In=Symbol.for("v-stc"),Sr=[];let Qe=null;function jt(e=!1){Sr.push(Qe=e?null:[])}function Ll(){Sr.pop(),Qe=Sr[Sr.length-1]||null}let kr=1;function Qs(e){kr+=e,e<0&&Qe&&(Qe.hasOnce=!0)}function Na(e){return e.dynamicChildren=kr>0?Qe||ir:null,Ll(),kr>0&&Qe&&Qe.push(e),e}function xr(e,t,r,n,s,i){return Na(ee(e,t,r,n,s,i,!0))}function Ra(e,t,r,n,s){return Na(Ke(e,t,r,n,s,!0))}function ln(e){return e?e.__v_isVNode===!0:!1}function yr(e,t){return e.type===t.type&&e.key===t.key}const Ta=({key:e})=>e??null,Xr=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?_e(e)||De(e)||Z(e)?{i:nt,r:e,k:t,f:!!r}:e:null);function ee(e,t=null,r=null,n=0,s=null,i=e===ht?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ta(t),ref:t&&Xr(t),scopeId:pa,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:nt};return o?(Ss(l,r),i&128&&e.normalize(l)):r&&(l.shapeFlag|=_e(r)?8:16),kr>0&&!a&&Qe&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Qe.push(l),l}const Ke=jl;function jl(e,t=null,r=null,n=0,s=null,i=!1){if((!e||e===ll)&&(e=Wt),ln(e)){const o=gr(e,t,!0);return r&&Ss(o,r),kr>0&&!i&&Qe&&(o.shapeFlag&6?Qe[Qe.indexOf(e)]=o:Qe.push(o)),o.patchFlag=-2,o}if(Jl(e)&&(e=e.__vccOpts),t){t=Ul(t);let{class:o,style:l}=t;o&&!_e(o)&&(t.class=vn(o)),we(l)&&(_s(l)&&!Y(l)&&(l=Me({},l)),t.style=ds(l))}const a=_e(e)?1:Ia(e)?128:Go(e)?64:we(e)?4:Z(e)?2:0;return ee(e,t,r,n,s,a,i,!0)}function Ul(e){return e?_s(e)||_a(e)?Me({},e):e:null}function gr(e,t,r=!1,n=!1){const{props:s,ref:i,patchFlag:a,children:o,transition:l}=e,f=t?ql(s||{},t):s,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Ta(f),ref:t&&t.ref?r&&i?Y(i)?i.concat(Xr(t)):[i,Xr(t)]:Xr(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ht?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&gr(e.ssContent),ssFallback:e.ssFallback&&gr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&Cs(c,l.clone(c)),c}function cr(e=" ",t=0){return Ke(_n,null,e,t)}function ei(e="",t=!1){return t?(jt(),Ra(Wt,null,e)):Ke(Wt,null,e)}function pt(e){return e==null||typeof e=="boolean"?Ke(Wt):Y(e)?Ke(ht,null,e.slice()):ln(e)?Ot(e):Ke(_n,null,String(e))}function Ot(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:gr(e)}function Ss(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Y(t))r=16;else if(typeof t=="object")if(n&65){const s=t.default;s&&(s._c&&(s._d=!1),Ss(e,s()),s._c&&(s._d=!0));return}else{r=32;const s=t._;!s&&!_a(t)?t._ctx=nt:s===3&&nt&&(nt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Z(t)?(t={default:t,_ctx:nt},r=32):(t=String(t),n&64?(r=16,t=[cr(t)]):r=8);e.children=t,e.shapeFlag|=r}function ql(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const s in n)if(s==="class")t.class!==n.class&&(t.class=vn([t.class,n.class]));else if(s==="style")t.style=ds([t.style,n.style]);else if(dn(s)){const i=t[s],a=n[s];a&&i!==a&&!(Y(i)&&i.includes(a))&&(t[s]=i?[].concat(i,a):a)}else s!==""&&(t[s]=n[s])}return t}function ct(e,t,r,n=null){vt(e,t,7,[r,n])}const Hl=wa();let Kl=0;function Vl(e,t,r){const n=e.type,s=(t?t.appContext:e.appContext)||Hl,i={uid:Kl++,vnode:e,type:n,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ho(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ca(n,s),emitsOptions:Ba(n,s),emit:null,emitted:null,propsDefaults:ge,inheritAttrs:n.inheritAttrs,ctx:ge,data:ge,props:ge,attrs:ge,slots:ge,refs:ge,setupState:ge,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Bl.bind(null,i),e.ce&&e.ce(i),i}let qe=null,un,ns;{const e=mn(),t=(r,n)=>{let s;return(s=e[r])||(s=e[r]=[]),s.push(n),i=>{s.length>1?s.forEach(a=>a(i)):s[0](i)}};un=t("__VUE_INSTANCE_SETTERS__",r=>qe=r),ns=t("__VUE_SSR_SETTERS__",r=>Br=r)}const Tr=e=>{const t=qe;return un(e),e.scope.on(),()=>{e.scope.off(),un(t)}},ti=()=>{qe&&qe.scope.off(),un(null)};function Da(e){return e.vnode.shapeFlag&4}let Br=!1;function zl(e,t=!1,r=!1){t&&ns(t);const{props:n,children:s}=e.vnode,i=Da(e);wl(e,n,i,t),El(e,s,r);const a=i?Wl(e,t):void 0;return t&&ns(!1),a}function Wl(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,cl);const{setup:n}=r;if(n){Bt();const s=e.setupContext=n.length>1?Yl(e):null,i=Tr(e),a=Rr(n,e,0,[e.props,s]),o=Li(a);if(It(),i(),(o||e.sp)&&!Ar(e)&&da(e),o){if(a.then(ti,ti),t)return a.then(l=>{ri(e,l,t)}).catch(l=>{wn(l,e,0)});e.asyncDep=a}else ri(e,a,t)}else La(e,t)}function ri(e,t,r){Z(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:we(t)&&(e.setupState=la(t)),La(e,r)}let ni;function La(e,t,r){const n=e.type;if(!e.render){if(!t&&ni&&!n.render){const s=n.template||As(e).template;if(s){const{isCustomElement:i,compilerOptions:a}=e.appContext.config,{delimiters:o,compilerOptions:l}=n,f=Me(Me({isCustomElement:i,delimiters:o},a),l);n.render=ni(s,f)}}e.render=n.render||dt}{const s=Tr(e);Bt();try{fl(e)}finally{It(),s()}}}const Gl={get(e,t){return Re(e,"get",""),e[t]}};function Yl(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,Gl),slots:e.slots,emit:e.emit,expose:t}}function En(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(la(Io(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Pr)return Pr[r](e)},has(t,r){return r in t||r in Pr}})):e.proxy}function Jl(e){return Z(e)&&"__vccOpts"in e}const ja=(e,t)=>Lo(e,t,Br);function Tt(e,t,r){const n=arguments.length;return n===2?we(t)&&!Y(t)?ln(t)?Ke(e,null,[t]):Ke(e,t):Ke(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&ln(r)&&(r=[r]),Ke(e,t,r))}const Zl="3.5.12";/**
* @vue/runtime-dom v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ss;const si=typeof window<"u"&&window.trustedTypes;if(si)try{ss=si.createPolicy("vue",{createHTML:e=>e})}catch{}const Ua=ss?e=>ss.createHTML(e):e=>e,Xl="http://www.w3.org/2000/svg",Ql="http://www.w3.org/1998/Math/MathML",xt=typeof document<"u"?document:null,ii=xt&&xt.createElement("template"),eu={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const s=t==="svg"?xt.createElementNS(Xl,e):t==="mathml"?xt.createElementNS(Ql,e):r?xt.createElement(e,{is:r}):xt.createElement(e);return e==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:e=>xt.createTextNode(e),createComment:e=>xt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>xt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,s,i){const a=r?r.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),r),!(s===i||!(s=s.nextSibling)););else{ii.innerHTML=Ua(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const o=ii.content;if(n==="svg"||n==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}t.insertBefore(o,r)}return[a?a.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},tu=Symbol("_vtc");function ru(e,t,r){const n=e[tu];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const ai=Symbol("_vod"),nu=Symbol("_vsh"),su=Symbol(""),iu=/(^|;)\s*display\s*:/;function au(e,t,r){const n=e.style,s=_e(r);let i=!1;if(r&&!s){if(t)if(_e(t))for(const a of t.split(";")){const o=a.slice(0,a.indexOf(":")).trim();r[o]==null&&Qr(n,o,"")}else for(const a in t)r[a]==null&&Qr(n,a,"");for(const a in r)a==="display"&&(i=!0),Qr(n,a,r[a])}else if(s){if(t!==r){const a=n[su];a&&(r+=";"+a),n.cssText=r,i=iu.test(r)}}else t&&e.removeAttribute("style");ai in e&&(e[ai]=i?n.display:"",e[nu]&&(n.display="none"))}const oi=/\s*!important$/;function Qr(e,t,r){if(Y(r))r.forEach(n=>Qr(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=ou(e,t);oi.test(r)?e.setProperty(Yt(n),r.replace(oi,""),"important"):e[n]=r}}const li=["Webkit","Moz","ms"],Nn={};function ou(e,t){const r=Nn[t];if(r)return r;let n=kt(t);if(n!=="filter"&&n in e)return Nn[t]=n;n=qi(n);for(let s=0;s<li.length;s++){const i=li[s]+n;if(i in e)return Nn[t]=i}return t}const ui="http://www.w3.org/1999/xlink";function ci(e,t,r,n,s,i=co(t)){n&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(ui,t.slice(6,t.length)):e.setAttributeNS(ui,t,r):r==null||i&&!Ki(r)?e.removeAttribute(t):e.setAttribute(t,i?"":mt(r)?String(r):r)}function fi(e,t,r,n,s){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?Ua(r):r);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const o=i==="OPTION"?e.getAttribute("value")||"":e.value,l=r==null?e.type==="checkbox"?"on":"":String(r);(o!==l||!("_value"in e))&&(e.value=l),r==null&&e.removeAttribute(t),e._value=r;return}let a=!1;if(r===""||r==null){const o=typeof e[t];o==="boolean"?r=Ki(r):r==null&&o==="string"?(r="",a=!0):o==="number"&&(r=0,a=!0)}try{e[t]=r}catch{}a&&e.removeAttribute(s||t)}function Ut(e,t,r,n){e.addEventListener(t,r,n)}function lu(e,t,r,n){e.removeEventListener(t,r,n)}const hi=Symbol("_vei");function uu(e,t,r,n,s=null){const i=e[hi]||(e[hi]={}),a=i[t];if(n&&a)a.value=n;else{const[o,l]=cu(t);if(n){const f=i[t]=pu(n,s);Ut(e,o,f,l)}else a&&(lu(e,o,a,l),i[t]=void 0)}}const pi=/(?:Once|Passive|Capture)$/;function cu(e){let t;if(pi.test(e)){t={};let n;for(;n=e.match(pi);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Yt(e.slice(2)),t]}let Rn=0;const fu=Promise.resolve(),hu=()=>Rn||(fu.then(()=>Rn=0),Rn=Date.now());function pu(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;vt(du(n,r.value),t,5,[n])};return r.value=e,r.attached=hu(),r}function du(e,t){if(Y(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>s=>!s._stopped&&n&&n(s))}else return t}const di=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,gu=(e,t,r,n,s,i)=>{const a=s==="svg";t==="class"?ru(e,n,a):t==="style"?au(e,r,n):dn(t)?fs(t)||uu(e,t,r,n,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):mu(e,t,n,a))?(fi(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ci(e,t,n,a,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!_e(n))?fi(e,kt(t),n,i,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),ci(e,t,n,a))};function mu(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&di(t)&&Z(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return di(t)&&_e(r)?!1:t in e}const cn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Y(t)?r=>Yr(t,r):t};function vu(e){e.target.composing=!0}function gi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const fr=Symbol("_assign"),mi={created(e,{modifiers:{lazy:t,trim:r,number:n}},s){e[fr]=cn(s);const i=n||s.props&&s.props.type==="number";Ut(e,t?"change":"input",a=>{if(a.target.composing)return;let o=e.value;r&&(o=o.trim()),i&&(o=Vn(o)),e[fr](o)}),r&&Ut(e,"change",()=>{e.value=e.value.trim()}),t||(Ut(e,"compositionstart",vu),Ut(e,"compositionend",gi),Ut(e,"change",gi))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:n,trim:s,number:i}},a){if(e[fr]=cn(a),e.composing)return;const o=(i||e.type==="number")&&!/^0\d/.test(e.value)?Vn(e.value):e.value,l=t??"";o!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===r||s&&e.value.trim()===l)||(e.value=l))}},vi={created(e,{value:t},r){e.checked=rn(t,r.props.value),e[fr]=cn(r),Ut(e,"change",()=>{e[fr](yu(e))})},beforeUpdate(e,{value:t,oldValue:r},n){e[fr]=cn(n),t!==r&&(e.checked=rn(t,n.props.value))}};function yu(e){return"_value"in e?e._value:e.value}const wu=Me({patchProp:gu},eu);let yi;function xu(){return yi||(yi=Al(wu))}const bu=(...e)=>{const t=xu().createApp(...e),{mount:r}=t;return t.mount=n=>{const s=Eu(n);if(!s)return;const i=t._component;!Z(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=r(s,!1,_u(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},t};function _u(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Eu(e){return _e(e)?document.querySelector(e):e}function he(e,t,r){let n=r.value;return{configurable:!0,get(){const s=n.bind(this);return Object.defineProperty(this,t,{configurable:!0,writable:!0,value:s}),s},set(s){n=s}}}class At extends Error{name="AiScript";info;pos;constructor(t,r){super(t),this.info=r,Error.captureStackTrace&&Error.captureStackTrace(this,At)}}class wi extends At{name="Internal";constructor(t){const r=String(t?.message??t);super(r,t)}}class re extends At{pos;name="Syntax";constructor(t,r,n){super(`${t} (Line ${r.line}, Column ${r.column})`,n),this.pos=r}}class Tn extends At{pos;name="Namespace";constructor(t,r,n){super(`${t} (Line ${r.line}, Column ${r.column})`,n),this.pos=r}}class ne extends At{name="Runtime";constructor(t,r){super(t,r)}}class xi extends ne{constructor(t,r){super(t,r)}}class Cu extends ne{name="";constructor(t,r){super(t,r)}}class bi extends At{name="Host";constructor(t,r){super(t,r)}}const Au=["def","return","each","for","loop","break","continue","assign","addAssign","subAssign"];function Pu(e){return Au.includes(e.type)}var yt=function(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i};class Ve{parent;layerdStates;name;opts={};nsName;constructor(t=[],r,n,s){this.layerdStates=t,this.parent=r,this.name=n||(t.length===1?"<root>":"<anonymous>"),this.nsName=s}log(t,r){this.parent?this.parent.log(t,r):this.opts.log&&this.opts.log(t,r)}onUpdated(t,r){this.parent?this.parent.onUpdated(t,r):this.opts.onUpdated&&this.opts.onUpdated(t,r)}createChildScope(t=new Map,r){const n=[t,...this.layerdStates];return new Ve(n,this,r)}createChildNamespaceScope(t,r=new Map,n){const s=[r,...this.layerdStates];return new Ve(s,this,n,t)}get(t){for(const r of this.layerdStates)if(r.has(t)){const n=r.get(t).value;return this.log("read",{var:t,val:n}),n}throw new ne(`No such variable '${t}' in scope '${this.name}'`,{scope:this.layerdStates})}getNsPrefix(){return this.parent==null||this.nsName==null?"":this.parent.getNsPrefix()+this.nsName+":"}exists(t){for(const r of this.layerdStates)if(r.has(t))return this.log("exists",{var:t}),!0;return this.log("not exists",{var:t}),!1}getAll(){const t=this.layerdStates.reduce((r,n)=>[...r,...n],[]);return new Map(t)}add(t,r){this.log("add",{var:t,val:r});const n=this.layerdStates[0];if(n.has(t))throw new ne(`Variable '${t}' already exists in scope '${this.name}'`,{scope:this.layerdStates});n.set(t,r),this.parent==null?this.onUpdated(t,r.value):this.nsName!=null&&this.parent.add(this.nsName+":"+t,r)}assign(t,r){let n=1;for(const s of this.layerdStates){if(s.has(t)){const i=s.get(t);if(!i.isMutable)throw new ne(`Cannot assign to an immutable variable ${t}.`);i.value=r,this.log("assign",{var:t,val:r}),n===this.layerdStates.length&&this.onUpdated(t,r);return}n++}throw new ne(`No such variable '${t}' in scope '${this.name}'`,{scope:this.layerdStates})}}yt([he],Ve.prototype,"log",null);yt([he],Ve.prototype,"onUpdated",null);yt([he],Ve.prototype,"createChildScope",null);yt([he],Ve.prototype,"createChildNamespaceScope",null);yt([he],Ve.prototype,"get",null);yt([he],Ve.prototype,"getNsPrefix",null);yt([he],Ve.prototype,"exists",null);yt([he],Ve.prototype,"getAll",null);yt([he],Ve.prototype,"add",null);yt([he],Ve.prototype,"assign",null);var ke=[];for(var Dn=0;Dn<256;++Dn)ke.push((Dn+256).toString(16).slice(1));function Su(e,t=0){return(ke[e[t+0]]+ke[e[t+1]]+ke[e[t+2]]+ke[e[t+3]]+"-"+ke[e[t+4]]+ke[e[t+5]]+"-"+ke[e[t+6]]+ke[e[t+7]]+"-"+ke[e[t+8]]+ke[e[t+9]]+"-"+ke[e[t+10]]+ke[e[t+11]]+ke[e[t+12]]+ke[e[t+13]]+ke[e[t+14]]+ke[e[t+15]]).toLowerCase()}var Hr,Fu=new Uint8Array(16);function Mu(){if(!Hr&&(Hr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Hr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hr(Fu)}var Ou=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const _i={randomUUID:Ou};function $u(e,t,r){if(_i.randomUUID&&!t&&!e)return _i.randomUUID();e=e||{};var n=e.random||(e.rng||Mu)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Su(n)}const G={type:"null"},Se={type:"bool",value:!0},Fe={type:"bool",value:!1},F=e=>({type:"num",value:e}),te=e=>({type:"str",value:e}),Vt=e=>({type:"bool",value:e}),fn=e=>({type:"obj",value:e}),de=e=>({type:"arr",value:e}),ku=(e,t,r)=>({type:"fn",params:e,statements:t,scope:r}),_=e=>({type:"fn",native:e}),Bu=e=>({type:"return",value:e}),Iu=()=>({type:"break",value:null}),Nu=()=>({type:"continue",value:null}),Ru=e=>e.type==="return"?e.value:e,en=(e,t)=>({type:"error",value:e,info:t});function Ne(e){if(e==null)throw new ne("Expect anything, but got nothing.")}function Be(e){if(e==null)throw new ne("Expect boolean, but got nothing.");if(e.type!=="bool")throw new ne(`Expect boolean, but got ${e.type}.`)}function be(e){if(e==null)throw new ne("Expect function, but got nothing.");if(e.type!=="fn")throw new ne(`Expect function, but got ${e.type}.`)}function ae(e){if(e==null)throw new ne("Expect string, but got nothing.");if(e.type!=="str")throw new ne(`Expect string, but got ${e.type}.`)}function P(e){if(e==null)throw new ne("Expect number, but got nothing.");if(e.type!=="num")throw new ne(`Expect number, but got ${e.type}.`)}function rt(e){if(e==null)throw new ne("Expect object, but got nothing.");if(e.type!=="obj")throw new ne(`Expect object, but got ${e.type}.`)}function Ct(e){if(e==null)throw new ne("Expect array, but got nothing.");if(e.type!=="arr")throw new ne(`Expect array, but got ${e.type}.`)}function Ei(e){return e.type==="fn"}function Ln(e){return e.type==="obj"}function hn(e){return e.type==="arr"}function hr(e,t){return e.type==="fn"&&t.type==="fn"?e.native&&t.native?e.native===t.native:e===t:e.type==="fn"||t.type==="fn"?!1:e.type==="null"&&t.type==="null"?!0:e.type==="null"||t.type==="null"?!1:e.value===t.value}function is(e,t=!1){if(t){if(e.type==="num")return e.value.toString();if(e.type==="bool")return e.value?"true":"false";if(e.type==="str")return`"${e.value}"`;if(e.type==="arr")return`[${e.value.map(n=>is(n,!0)).join(", ")}]`;if(e.type==="null")return"(null)"}const r=e.type==="num"||e.type==="bool"?e.value:e.type==="str"?`"${e.value}"`:e.type==="fn"||e.type==="obj"?"...":e.type==="null"?"":null;return`${e.type}<${r}>`}function as(e){switch(e.type){case"fn":return"<function>";case"arr":return e.value.map(t=>as(t));case"bool":return e.value;case"null":return null;case"num":return e.value;case"obj":{const t={};for(const[r,n]of e.value.entries())t[r]=as(n);return t}case"str":return e.value;default:throw new Error(`Unrecognized value type: ${e.type}`)}}function os(e){if(e===null)return G;if(typeof e=="boolean")return Vt(e);if(typeof e=="string")return te(e);if(typeof e=="number")return F(e);if(Array.isArray(e))return de(e.map(t=>os(t)));if(typeof e=="object"){const t=new Map;for(const[r,n]of Object.entries(e))t.set(r,os(n));return fn(t)}return G}function pr(e,t=!1,r=new Set){if((e.type==="arr"||e.type==="obj")&&r.has(e.value))return"...";if(t&&e.type==="str")return'"'+e.value.replace(/["\\\r\n]/g,n=>`\\${n}`)+'"';if(e.type==="str")return e.value;if(e.type==="num")return e.value.toString();if(e.type==="arr"){r.add(e.value);const n=[];for(const s of e.value)n.push(pr(s,!0,r));return"[ "+n.join(", ")+" ]"}if(e.type==="obj"){r.add(e.value);const n=[];for(const[s,i]of e.value)n.push(`${s}: ${pr(i,!0,r)}`);return"{ "+n.join(", ")+" }"}return e.type==="bool"?e.value.toString():e.type==="null"?"null":e.type==="fn"?e.native?"@( ?? ) { native code }":`@( ${e.params.map(n=>n.dest.type==="identifier"?n.dest.name:"?").join(", ")} ) { ... }`:"?"}const Tu={version:"1.0.0"},qa=Tu.version,Ha=new TextEncoder,Du=new TextDecoder,qt=Math.ceil(Math.log2(Number.MAX_SAFE_INTEGER));BigInt(qt);const Lu=qt-1;BigInt(Lu);class Fs{generateNumber0To1(){let t=this.generateBigUintByBits(qt),r=1022,n=qt-Ci(t);for(;n>0&&r>=qt;)r-=n,t<<=BigInt(n),t|=this.generateBigUintByBits(n),n=qt-Ci(t);if(n>0){const s=Math.min(r-1,n);t<<=BigInt(s),t|=this.generateBigUintByBits(s),r=Math.max(r-s,0)}return Number(t)*.5**qt*.5**(1022-r)}generateUniform(t){if(t<1)return 0n;const r=t.toString(2).length,n=Math.ceil(r/8),s=BigInt(n*8-r);let i;do i=this.generateBigUintByBytes(n)>>s;while(i>t);return i}generateRandomIntegerInRange(t,r){const n=Math.ceil(t),s=Math.floor(r),i=s-n;if(i===0)return n;const a=Math.abs(i),o=Math.sign(i);if(!Number.isSafeInteger(a)||!Number.isSafeInteger(n)||!Number.isSafeInteger(s))return null;const l=BigInt(a);return Number(this.generateUniform(l))*o+n}}function Ci(e){return e===0n?0:e.toString(2).length}function ju(e){if(e.byteLength===0)return null;if(e.byteLength<8){const t=new Uint8Array(8);return t.set(new Uint8Array(e)),new DataView(t.buffer).getBigUint64(0,!0)}return new DataView(e).getBigUint64(0,!0)}function Ms(e){if(e.byteLength===0)return null;if(e.byteLength<=8)return ju(e);const t=new DataView(e);let r=0n,n=0n,s=0;for(;s<t.byteLength-7;s+=8,r+=64n){const i=t.getBigUint64(s,!0);n|=i<<r}if(s<t.byteLength){const i=new Uint8Array(8);i.set(new Uint8Array(e,s)),n|=new DataView(i.buffer).getBigUint64(0,!0)<<r}return n}class Ir extends Fs{static _instance=new Ir;static get instance(){return Ir._instance}constructor(){super()}generateBigUintByBytes(t){let r=new Uint8Array(Math.ceil(t/8)*8);return r.length<1||!Number.isSafeInteger(t)?0n:(r=this.generateBytes(r.subarray(0,t)),Ms(r.buffer)??0n)}generateBigUintByBits(t){if(t<1||!Number.isSafeInteger(t))return 0n;const r=Math.ceil(t/8),n=BigInt(r*8-t);return this.generateBigUintByBytes(r)>>n}generateBytes(t){return crypto.getRandomValues(t)}}var et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function qu(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Os={exports:{}};Os.exports;(function(e){(function(t,r,n){function s(l){var f=this,c=o();f.next=function(){var h=2091639*f.s0+f.c*23283064365386963e-26;return f.s0=f.s1,f.s1=f.s2,f.s2=h-(f.c=h|0)},f.c=1,f.s0=c(" "),f.s1=c(" "),f.s2=c(" "),f.s0-=c(l),f.s0<0&&(f.s0+=1),f.s1-=c(l),f.s1<0&&(f.s1+=1),f.s2-=c(l),f.s2<0&&(f.s2+=1),c=null}function i(l,f){return f.c=l.c,f.s0=l.s0,f.s1=l.s1,f.s2=l.s2,f}function a(l,f){var c=new s(l),h=f&&f.state,y=c.next;return y.int32=function(){return c.next()*4294967296|0},y.double=function(){return y()+(y()*2097152|0)*11102230246251565e-32},y.quick=y,h&&(typeof h=="object"&&i(h,c),y.state=function(){return i(c,{})}),y}function o(){var l=4022871197,f=function(c){c=String(c);for(var h=0;h<c.length;h++){l+=c.charCodeAt(h);var y=.02519603282416938*l;l=y>>>0,y-=l,y*=l,l=y>>>0,y-=l,l+=y*4294967296}return(l>>>0)*23283064365386963e-26};return f}r&&r.exports?r.exports=a:this.alea=a})(et,e)})(Os);var Hu=Os.exports,$s={exports:{}};$s.exports;(function(e){(function(t,r,n){function s(o){var l=this,f="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var h=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^h^h>>>8},o===(o|0)?l.x=o:f+=o;for(var c=0;c<f.length+64;c++)l.x^=f.charCodeAt(c)|0,l.next()}function i(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l}function a(o,l){var f=new s(o),c=l&&l.state,h=function(){return(f.next()>>>0)/4294967296};return h.double=function(){do var y=f.next()>>>11,b=(f.next()>>>0)/4294967296,$=(y+b)/(1<<21);while($===0);return $},h.int32=f.next,h.quick=h,c&&(typeof c=="object"&&i(c,f),h.state=function(){return i(f,{})}),h}r&&r.exports?r.exports=a:this.xor128=a})(et,e)})($s);var Ku=$s.exports,ks={exports:{}};ks.exports;(function(e){(function(t,r,n){function s(o){var l=this,f="";l.next=function(){var h=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(h^h<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,o===(o|0)?l.x=o:f+=o;for(var c=0;c<f.length+64;c++)l.x^=f.charCodeAt(c)|0,c==f.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function i(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l.v=o.v,l.d=o.d,l}function a(o,l){var f=new s(o),c=l&&l.state,h=function(){return(f.next()>>>0)/4294967296};return h.double=function(){do var y=f.next()>>>11,b=(f.next()>>>0)/4294967296,$=(y+b)/(1<<21);while($===0);return $},h.int32=f.next,h.quick=h,c&&(typeof c=="object"&&i(c,f),h.state=function(){return i(f,{})}),h}r&&r.exports?r.exports=a:this.xorwow=a})(et,e)})(ks);var Vu=ks.exports,Bs={exports:{}};Bs.exports;(function(e){(function(t,r,n){function s(o){var l=this;l.next=function(){var c=l.x,h=l.i,y,b;return y=c[h],y^=y>>>7,b=y^y<<24,y=c[h+1&7],b^=y^y>>>10,y=c[h+3&7],b^=y^y>>>3,y=c[h+4&7],b^=y^y<<7,y=c[h+7&7],y=y^y<<13,b^=y^y<<9,c[h]=b,l.i=h+1&7,b};function f(c,h){var y,b=[];if(h===(h|0))b[0]=h;else for(h=""+h,y=0;y<h.length;++y)b[y&7]=b[y&7]<<15^h.charCodeAt(y)+b[y+1&7]<<13;for(;b.length<8;)b.push(0);for(y=0;y<8&&b[y]===0;++y);for(y==8?b[7]=-1:b[y],c.x=b,c.i=0,y=256;y>0;--y)c.next()}f(l,o)}function i(o,l){return l.x=o.x.slice(),l.i=o.i,l}function a(o,l){o==null&&(o=+new Date);var f=new s(o),c=l&&l.state,h=function(){return(f.next()>>>0)/4294967296};return h.double=function(){do var y=f.next()>>>11,b=(f.next()>>>0)/4294967296,$=(y+b)/(1<<21);while($===0);return $},h.int32=f.next,h.quick=h,c&&(c.x&&i(c,f),h.state=function(){return i(f,{})}),h}r&&r.exports?r.exports=a:this.xorshift7=a})(et,e)})(Bs);var zu=Bs.exports,Is={exports:{}};Is.exports;(function(e){(function(t,r,n){function s(o){var l=this;l.next=function(){var c=l.w,h=l.X,y=l.i,b,$;return l.w=c=c+1640531527|0,$=h[y+34&127],b=h[y=y+1&127],$^=$<<13,b^=b<<17,$^=$>>>15,b^=b>>>12,$=h[y]=$^b,l.i=y,$+(c^c>>>16)|0};function f(c,h){var y,b,$,I,q,j=[],m=128;for(h===(h|0)?(b=h,h=null):(h=h+"\0",b=0,m=Math.max(m,h.length)),$=0,I=-32;I<m;++I)h&&(b^=h.charCodeAt((I+32)%h.length)),I===0&&(q=b),b^=b<<10,b^=b>>>15,b^=b<<4,b^=b>>>13,I>=0&&(q=q+1640531527|0,y=j[I&127]^=b+q,$=y==0?$+1:0);for($>=128&&(j[(h&&h.length||0)&127]=-1),$=127,I=4*128;I>0;--I)b=j[$+34&127],y=j[$=$+1&127],b^=b<<13,y^=y<<17,b^=b>>>15,y^=y>>>12,j[$]=b^y;c.w=q,c.X=j,c.i=$}f(l,o)}function i(o,l){return l.i=o.i,l.w=o.w,l.X=o.X.slice(),l}function a(o,l){o==null&&(o=+new Date);var f=new s(o),c=l&&l.state,h=function(){return(f.next()>>>0)/4294967296};return h.double=function(){do var y=f.next()>>>11,b=(f.next()>>>0)/4294967296,$=(y+b)/(1<<21);while($===0);return $},h.int32=f.next,h.quick=h,c&&(c.X&&i(c,f),h.state=function(){return i(f,{})}),h}r&&r.exports?r.exports=a:this.xor4096=a})(et,e)})(Is);var Wu=Is.exports,Ns={exports:{}};Ns.exports;(function(e){(function(t,r,n){function s(o){var l=this,f="";l.next=function(){var h=l.b,y=l.c,b=l.d,$=l.a;return h=h<<25^h>>>7^y,y=y-b|0,b=b<<24^b>>>8^$,$=$-h|0,l.b=h=h<<20^h>>>12^y,l.c=y=y-b|0,l.d=b<<16^y>>>16^$,l.a=$-h|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,o===Math.floor(o)?(l.a=o/4294967296|0,l.b=o|0):f+=o;for(var c=0;c<f.length+20;c++)l.b^=f.charCodeAt(c)|0,l.next()}function i(o,l){return l.a=o.a,l.b=o.b,l.c=o.c,l.d=o.d,l}function a(o,l){var f=new s(o),c=l&&l.state,h=function(){return(f.next()>>>0)/4294967296};return h.double=function(){do var y=f.next()>>>11,b=(f.next()>>>0)/4294967296,$=(y+b)/(1<<21);while($===0);return $},h.int32=f.next,h.quick=h,c&&(typeof c=="object"&&i(c,f),h.state=function(){return i(f,{})}),h}r&&r.exports?r.exports=a:this.tychei=a})(et,e)})(Ns);var Gu=Ns.exports,Ka={exports:{}};const Yu={},Ju=Object.freeze(Object.defineProperty({__proto__:null,default:Yu},Symbol.toStringTag,{value:"Module"})),Zu=qu(Ju);(function(e){(function(t,r,n){var s=256,i=6,a=52,o="random",l=n.pow(s,i),f=n.pow(2,a),c=f*2,h=s-1,y;function b(d,v,x){var E=[];v=v==!0?{entropy:!0}:v||{};var M=j(q(v.entropy?[d,p(r)]:d??m(),3),E),A=new $(E),H=function(){for(var K=A.g(i),X=l,pe=0;K<f;)K=(K+pe)*s,X*=s,pe=A.g(1);for(;K>=c;)K/=2,X/=2,pe>>>=1;return(K+pe)/X};return H.int32=function(){return A.g(4)|0},H.quick=function(){return A.g(4)/4294967296},H.double=H,j(p(A.S),r),(v.pass||x||function(K,X,pe,Ae){return Ae&&(Ae.S&&I(Ae,A),K.state=function(){return I(A,{})}),pe?(n[o]=K,X):K})(H,M,"global"in v?v.global:this==n,v.state)}function $(d){var v,x=d.length,E=this,M=0,A=E.i=E.j=0,H=E.S=[];for(x||(d=[x++]);M<s;)H[M]=M++;for(M=0;M<s;M++)H[M]=H[A=h&A+d[M%x]+(v=H[M])],H[A]=v;(E.g=function(K){for(var X,pe=0,Ae=E.i,it=E.j,xe=E.S;K--;)X=xe[Ae=h&Ae+1],pe=pe*s+xe[h&(xe[Ae]=xe[it=h&it+X])+(xe[it]=X)];return E.i=Ae,E.j=it,pe})(s)}function I(d,v){return v.i=d.i,v.j=d.j,v.S=d.S.slice(),v}function q(d,v){var x=[],E=typeof d,M;if(v&&E=="object")for(M in d)try{x.push(q(d[M],v-1))}catch{}return x.length?x:E=="string"?d:d+"\0"}function j(d,v){for(var x=d+"",E,M=0;M<x.length;)v[h&M]=h&(E^=v[h&M]*19)+x.charCodeAt(M++);return p(v)}function m(){try{var d;return y&&(d=y.randomBytes)?d=d(s):(d=new Uint8Array(s),(t.crypto||t.msCrypto).getRandomValues(d)),p(d)}catch{var v=t.navigator,x=v&&v.plugins;return[+new Date,t,x,t.screen,p(r)]}}function p(d){return String.fromCharCode.apply(0,d)}if(j(n.random(),r),e.exports){e.exports=b;try{y=Zu}catch{}}else n["seed"+o]=b})(typeof self<"u"?self:et,[],Math)})(Ka);var Xu=Ka.exports,Qu=Hu,ec=Ku,tc=Vu,rc=zu,nc=Wu,sc=Gu,Jt=Xu;Jt.alea=Qu;Jt.xor128=ec;Jt.xorwow=tc;Jt.xorshift7=rc;Jt.xor4096=nc;Jt.tychei=sc;var ic=Jt;const Va=Uu(ic),Dt=Int32Array.BYTES_PER_ELEMENT;class ac extends Fs{rng;buffer;filledBuffer;constructor(t){super(),this.rng=Va(t.toString()),this.buffer=new Uint8Array(Dt),this.filledBuffer=new Uint8Array(0)}fillBuffer(){this.buffer.fill(0),this.buffer=this.fillBufferDirect(this.buffer),this.filledBuffer=this.buffer}fillBufferDirect(t){if(t.length%Dt!==0)throw new Error(`SeedRandomWrapper.fillBufferDirect should always be called with the buffer with the length a multiple-of-${Dt}!`);const r=t.length/Dt,n=new DataView(t.buffer);let s=0;for(let i=0;i<r;i++,s+=Dt)n.setInt32(s,this.rng.int32(),!1);return t}generateBigUintByBytes(t){let r=new Uint8Array(Math.ceil(t/8)*8);return r.length<1||!Number.isSafeInteger(t)?0n:(r=this.generateBytes(r.subarray(0,t)),Ms(r.buffer)??0n)}generateBigUintByBits(t){if(t<1||!Number.isSafeInteger(t))return 0n;const r=Math.ceil(t/8),n=BigInt(r*8-t);return this.generateBigUintByBytes(r)>>n}generateBytes(t){if(t.length<1)return t;t.fill(0);let r=t;if(r.length<=this.filledBuffer.length)return r.set(this.filledBuffer.subarray(0,r.length)),this.filledBuffer=this.filledBuffer.subarray(r.length),t;for(;r.length>0;){if(this.filledBuffer.length===0){if(r.length>=Dt){const n=r.subarray(0,r.length-r.length%Dt);this.fillBufferDirect(n),r=r.subarray(n.length);continue}this.fillBuffer()}if(r.length<=this.filledBuffer.length)return r.set(this.filledBuffer.subarray(0,r.length)),this.filledBuffer=this.filledBuffer.subarray(r.length),t;r.set(this.filledBuffer),r=r.subarray(this.filledBuffer.length),this.fillBuffer()}return t}}const Kr=64,oc=20,Vr=32,Ai=8;function zr(e,t){return e<<t|e>>>32-t}function Ft(e,t,r,n,s){if(e.length<16)return;let i=e[t],a=e[r],o=e[n],l=e[s];i===void 0||a===void 0||o===void 0||l===void 0||(i=i+a|0,l=zr(l^i,16),o=o+l|0,a=zr(a^o,12),i=i+a|0,l=zr(l^i,8),o=o+l|0,a=zr(a^o,7),e[t]=i,e[r]=a,e[n]=o,e[s]=l)}function lc(e,t){if(!(e.length<16||t.length<16)){e.set(t);for(let r=0;r<oc;r+=2)Ft(e,0,4,8,12),Ft(e,1,5,9,13),Ft(e,2,6,10,14),Ft(e,3,7,11,15),Ft(e,0,5,10,15),Ft(e,1,6,11,12),Ft(e,2,7,8,13),Ft(e,3,4,9,14);for(let r=0;r<16;r++){let n=e[r];const s=t[r];if(n===void 0||s===void 0)throw new Error("generateChaCha20: Something went wrong!");n=n+s|0,e[r]=n}}}class uc extends Fs{keynonce;state;buffer;filledBuffer;counter;constructor(t){const r=Ai+Vr;super();let n;if(typeof t>"u")n=crypto.getRandomValues(new Uint8Array(r));else if(n=t,n.byteLength>r&&(n=t.subarray(0,r)),n.byteLength<r){const o=new Uint8Array(r);o.set(n),n=o}const s=n.subarray(0,Vr),i=n.subarray(Vr,Vr+Ai),a=new Uint8Array(16*4);a.set([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),a.set(s,4*4),a.set(i,14*4),this.keynonce=new Uint32Array(a.buffer),this.state=new Uint32Array(16),this.buffer=new Uint8Array(Kr),this.counter=0n,this.filledBuffer=new Uint8Array(0)}fillBuffer(){this.buffer.fill(0),this.buffer=this.fillBufferDirect(this.buffer),this.filledBuffer=this.buffer}fillBufferDirect(t){if(t.length%Kr!==0)throw new Error("ChaCha20.fillBufferDirect should always be called with the buffer with the length a multiple-of-64!");t.fill(0);let r=this.counter;const n=this.state,s=new BigUint64Array(n.buffer);let i=t;for(;i.length>0;){const a=i.subarray(0,n.byteLength),o=new Uint32Array(a.buffer);n.set(this.keynonce),s[6]=BigInt.asUintN(64,r),lc(o,n),i=i.subarray(a.length),r=BigInt.asUintN(64,r+1n)}return this.counter=r,t}generateBigUintByBytes(t){let r=new Uint8Array(Math.ceil(t/8)*8);return r.length<1||!Number.isSafeInteger(t)?0n:(r=this.generateBytes(r.subarray(0,t)),Ms(r.buffer)??0n)}generateBigUintByBits(t){if(t<1||!Number.isSafeInteger(t))return 0n;const r=Math.ceil(t/8),n=BigInt(r*8-t);return this.generateBigUintByBytes(r)>>n}generateBytes(t){if(t.length<1)return t;t.fill(0);let r=t;if(r.length<=this.filledBuffer.length)return r.set(this.filledBuffer.subarray(0,r.length)),this.filledBuffer=this.filledBuffer.subarray(r.length),t;for(;r.length>0;){if(this.filledBuffer.length===0){if(r.length>=Kr){const n=r.subarray(0,r.length-r.length%Kr);this.fillBufferDirect(n),r=r.subarray(n.length);continue}this.fillBuffer()}if(r.length<=this.filledBuffer.length)return r.set(this.filledBuffer.subarray(0,r.length)),this.filledBuffer=this.filledBuffer.subarray(r.length),t;r.set(this.filledBuffer),r=r.subarray(this.filledBuffer.length),this.fillBuffer()}return t}}function cc(e){if(!e||e.type!=="num"&&e.type!=="str")return G;const t=Va(e.value.toString());return _(([r,n])=>r&&r.type==="num"&&n&&n.type==="num"?F(Math.floor(t()*(Math.floor(n.value)-Math.ceil(r.value)+1)+Math.ceil(r.value))):F(t()))}function fc(e){if(!e||e.type!=="num"&&e.type!=="str")return G;const t=new ac(e.value);return _(([r,n])=>{if(r&&r.type==="num"&&n&&n.type==="num"){const s=t.generateRandomIntegerInRange(r.value,n.value);return typeof s=="number"?F(s):G}return F(t.generateNumber0To1())})}async function hc(e){if(!e||e.type!=="num"&&e.type!=="str"&&e.type!=="null")return G;let t;e.type==="num"?t=new Uint8Array(await crypto.subtle.digest("SHA-384",new Uint8Array(new Float64Array([e.value])))):e.type==="str"&&(t=new Uint8Array(await crypto.subtle.digest("SHA-384",new Uint8Array(Ha.encode(e.value)))));const r=new uc(t);return _(([n,s])=>{if(n&&n.type==="num"&&s&&s.type==="num"){const i=r.generateRandomIntegerInRange(n.value,s.value);return typeof i=="number"?F(i):G}return F(r.generateNumber0To1())})}const pc={help:te("SEE: https://github.com/syuilo/aiscript/blob/master/docs/get-started.md"),"Core:v":te(qa),"Core:ai":te("kawaii"),"Core:not":_(([e])=>(Be(e),e.value?Fe:Se)),"Core:eq":_(([e,t])=>(Ne(e),Ne(t),hr(e,t)?Se:Fe)),"Core:neq":_(([e,t])=>(Ne(e),Ne(t),hr(e,t)?Fe:Se)),"Core:and":_(([e,t])=>(Be(e),e.value?(Be(t),t.value?Se:Fe):Fe)),"Core:or":_(([e,t])=>(Be(e),e.value?Se:(Be(t),t.value?Se:Fe))),"Core:add":_(([e,t])=>(P(e),P(t),F(e.value+t.value))),"Core:sub":_(([e,t])=>(P(e),P(t),F(e.value-t.value))),"Core:mul":_(([e,t])=>(P(e),P(t),F(e.value*t.value))),"Core:pow":_(([e,t])=>{P(e),P(t);const r=e.value**t.value;return F(r)}),"Core:div":_(([e,t])=>{P(e),P(t);const r=e.value/t.value;return F(r)}),"Core:mod":_(([e,t])=>(P(e),P(t),F(e.value%t.value))),"Core:gt":_(([e,t])=>(P(e),P(t),e.value>t.value?Se:Fe)),"Core:lt":_(([e,t])=>(P(e),P(t),e.value<t.value?Se:Fe)),"Core:gteq":_(([e,t])=>(P(e),P(t),e.value>=t.value?Se:Fe)),"Core:lteq":_(([e,t])=>(P(e),P(t),e.value<=t.value?Se:Fe)),"Core:type":_(([e])=>(Ne(e),te(e.type))),"Core:to_str":_(([e])=>(Ne(e),te(pr(e)))),"Core:range":_(([e,t])=>(P(e),P(t),e.value<t.value?de(Array.from({length:t.value-e.value+1},(r,n)=>F(n+e.value))):e.value>t.value?de(Array.from({length:e.value-t.value+1},(r,n)=>F(e.value-n))):de([e]))),"Core:sleep":_(async([e])=>(P(e),await new Promise(t=>setTimeout(t,e.value)),G)),"Core:abort":_(async([e])=>{throw ae(e),new Cu(e.value)}),"Util:uuid":_(()=>te($u())),"Json:stringify":_(([e])=>(Ne(e),te(JSON.stringify(as(e))))),"Json:parse":_(([e])=>{ae(e);try{return os(JSON.parse(e.value))}catch{return en("not_json")}}),"Json:parsable":_(([e])=>{ae(e);try{JSON.parse(e.value)}catch{return Vt(!1)}return Vt(!0)}),"Date:now":_(()=>F(Date.now())),"Date:year":_(([e])=>(e&&P(e),F(new Date(e?.value??Date.now()).getFullYear()))),"Date:month":_(([e])=>(e&&P(e),F(new Date(e?.value??Date.now()).getMonth()+1))),"Date:day":_(([e])=>(e&&P(e),F(new Date(e?.value??Date.now()).getDate()))),"Date:hour":_(([e])=>(e&&P(e),F(new Date(e?.value??Date.now()).getHours()))),"Date:minute":_(([e])=>(e&&P(e),F(new Date(e?.value??Date.now()).getMinutes()))),"Date:second":_(([e])=>(e&&P(e),F(new Date(e?.value??Date.now()).getSeconds()))),"Date:millisecond":_(([e])=>(e&&P(e),F(new Date(e?.value??Date.now()).getMilliseconds()))),"Date:parse":_(([e])=>{ae(e);const t=new Date(e.value).getTime();return t===t?F(t):en("not_date")}),"Date:to_iso_str":_(([e,t])=>{e&&P(e);const r=new Date(e?.value??Date.now());t&&P(t);const n=t?.value??-r.getTimezoneOffset();let s;if(n===0)s="Z";else{const y=Math.sign(n),b=Math.floor(Math.abs(n)/60),$=Math.abs(n)%60;r.setUTCHours(r.getUTCHours()+y*b),r.setUTCMinutes(r.getUTCMinutes()+y*$);const I=n>0?"+":"-",q=b.toString().padStart(2,"0"),j=$.toString().padStart(2,"0");s=`${I}${q}:${j}`}const i=r.getUTCFullYear().toString().padStart(4,"0"),a=(r.getUTCMonth()+1).toString().padStart(2,"0"),o=r.getUTCDate().toString().padStart(2,"0"),l=r.getUTCHours().toString().padStart(2,"0"),f=r.getUTCMinutes().toString().padStart(2,"0"),c=r.getUTCSeconds().toString().padStart(2,"0"),h=r.getUTCMilliseconds().toString().padStart(3,"0");return te(`${i}-${a}-${o}T${l}:${f}:${c}.${h}${s}`)}),"Math:Infinity":F(1/0),"Math:E":F(Math.E),"Math:LN2":F(Math.LN2),"Math:LN10":F(Math.LN10),"Math:LOG2E":F(Math.LOG2E),"Math:LOG10E":F(Math.LOG10E),"Math:PI":F(Math.PI),"Math:SQRT1_2":F(Math.SQRT1_2),"Math:SQRT2":F(Math.SQRT2),"Math:abs":_(([e])=>(P(e),F(Math.abs(e.value)))),"Math:acos":_(([e])=>(P(e),F(Math.acos(e.value)))),"Math:acosh":_(([e])=>(P(e),F(Math.acosh(e.value)))),"Math:asin":_(([e])=>(P(e),F(Math.asin(e.value)))),"Math:asinh":_(([e])=>(P(e),F(Math.asinh(e.value)))),"Math:atan":_(([e])=>(P(e),F(Math.atan(e.value)))),"Math:atanh":_(([e])=>(P(e),F(Math.atanh(e.value)))),"Math:atan2":_(([e,t])=>(P(e),P(t),F(Math.atan2(e.value,t.value)))),"Math:cbrt":_(([e])=>(P(e),F(Math.cbrt(e.value)))),"Math:ceil":_(([e])=>(P(e),F(Math.ceil(e.value)))),"Math:clz32":_(([e])=>(P(e),F(Math.clz32(e.value)))),"Math:cos":_(([e])=>(P(e),F(Math.cos(e.value)))),"Math:cosh":_(([e])=>(P(e),F(Math.cosh(e.value)))),"Math:exp":_(([e])=>(P(e),F(Math.exp(e.value)))),"Math:expm1":_(([e])=>(P(e),F(Math.expm1(e.value)))),"Math:floor":_(([e])=>(P(e),F(Math.floor(e.value)))),"Math:fround":_(([e])=>(P(e),F(Math.fround(e.value)))),"Math:hypot":_(([e])=>{Ct(e);const t=[];for(const r of e.value)P(r),t.push(r.value);return F(Math.hypot(...t))}),"Math:imul":_(([e,t])=>(P(e),P(t),F(Math.imul(e.value,t.value)))),"Math:log":_(([e])=>(P(e),F(Math.log(e.value)))),"Math:log1p":_(([e])=>(P(e),F(Math.log1p(e.value)))),"Math:log10":_(([e])=>(P(e),F(Math.log10(e.value)))),"Math:log2":_(([e])=>(P(e),F(Math.log2(e.value)))),"Math:max":_(([e,t])=>(P(e),P(t),F(Math.max(e.value,t.value)))),"Math:min":_(([e,t])=>(P(e),P(t),F(Math.min(e.value,t.value)))),"Math:pow":_(([e,t])=>(P(e),P(t),F(Math.pow(e.value,t.value)))),"Math:round":_(([e])=>(P(e),F(Math.round(e.value)))),"Math:sign":_(([e])=>(P(e),F(Math.sign(e.value)))),"Math:sin":_(([e])=>(P(e),F(Math.sin(e.value)))),"Math:sinh":_(([e])=>(P(e),F(Math.sinh(e.value)))),"Math:sqrt":_(([e])=>{P(e);const t=Math.sqrt(e.value);return F(t)}),"Math:tan":_(([e])=>(P(e),F(Math.tan(e.value)))),"Math:tanh":_(([e])=>(P(e),F(Math.tanh(e.value)))),"Math:trunc":_(([e])=>(P(e),F(Math.trunc(e.value)))),"Math:rnd":_(([e,t])=>{if(e&&e.type==="num"&&t&&t.type==="num"){const r=Ir.instance.generateRandomIntegerInRange(e.value,t.value);return r===null?G:F(r)}return F(Ir.instance.generateNumber0To1())}),"Math:gen_rng":_(async([e,t])=>{Ne(e);let r="chacha20";if(t?.type==="obj"){const n=t.value.get("algorithm");if(n?.type!=="str")throw new ne("`options.algorithm` must be string.");r=n.value}else if(t?.type!==void 0)throw new ne("`options` must be an object if specified.");if(e.type!=="num"&&e.type!=="str"&&e.type!=="null")throw new ne("`seed` must be either number or string if specified.");switch(r){case"rc4_legacy":return cc(e);case"rc4":return fc(e);case"chacha20":return await hc(e);default:throw new ne("`options.algorithm` must be one of these: `chacha20`, `rc4`, or `rc4_legacy`.")}}),"Num:from_hex":_(([e])=>(ae(e),F(parseInt(e.value,16)))),"Str:lf":te(`
`),"Str:lt":_(([e,t])=>(ae(e),ae(t),e.value<t.value?F(-1):e.value===t.value?F(0):F(1))),"Str:gt":_(([e,t])=>(ae(e),ae(t),e.value>t.value?F(-1):e.value===t.value?F(0):F(1))),"Str:from_codepoint":_(([e])=>(P(e),te(String.fromCodePoint(e.value)))),"Str:from_unicode_codepoints":_(([e])=>(Ct(e),te(Array.from(e.value.map(t=>(P(t),String.fromCodePoint(t.value)))).join("")))),"Str:from_utf8_bytes":_(([e])=>(Ct(e),te(Du.decode(Uint8Array.from(e.value.map(t=>(P(t),t.value))))))),"Uri:encode_full":_(([e])=>(ae(e),te(encodeURI(e.value)))),"Uri:encode_component":_(([e])=>(ae(e),te(encodeURIComponent(e.value)))),"Uri:decode_full":_(([e])=>(ae(e),te(decodeURI(e.value)))),"Uri:decode_component":_(([e])=>(ae(e),te(decodeURIComponent(e.value)))),"Arr:create":_(([e,t])=>{P(e);try{return de(Array(e.value).fill(t??G))}catch(r){throw e.value<0?new ne("Arr:create expected non-negative number, got negative"):Number.isInteger(e.value)?r:new ne("Arr:create expected integer, got non-integer")}}),"Obj:keys":_(([e])=>(rt(e),de(Array.from(e.value.keys()).map(t=>te(t))))),"Obj:vals":_(([e])=>(rt(e),de(Array.from(e.value.values())))),"Obj:kvs":_(([e])=>(rt(e),de(Array.from(e.value.entries()).map(([t,r])=>de([te(t),r]))))),"Obj:get":_(([e,t])=>(rt(e),ae(t),e.value.get(t.value)??G)),"Obj:set":_(([e,t,r])=>(rt(e),ae(t),Ne(r),e.value.set(t.value,r),G)),"Obj:has":_(([e,t])=>(rt(e),ae(t),Vt(e.value.has(t.value)))),"Obj:copy":_(([e])=>(rt(e),fn(new Map(e.value)))),"Obj:merge":_(([e,t])=>(rt(e),rt(t),fn(new Map([...e.value,...t.value])))),"Error:create":_(([e,t])=>(ae(e),en(e.value,t))),"Async:interval":_(async([e,t,r],n)=>{P(e),be(t),r&&(Be(r),r.value&&n.call(t,[]));const s=setInterval(()=>{n.topCall(t,[])},e.value),i=()=>{clearInterval(s)};return n.registerAbortHandler(i),_(([],a)=>{clearInterval(s),a.unregisterAbortHandler(i)})}),"Async:timeout":_(async([e,t],r)=>{P(e),be(t);const n=setTimeout(()=>{r.topCall(t,[])},e.value),s=()=>{clearTimeout(n)};return r.registerAbortHandler(s),_(([],i)=>{clearTimeout(n),i.unregisterAbortHandler(s)})})};var Zt={},dc=()=>{const e="\\ud800-\\udfff",a="\\u0300-\\u036f"+"\\ufe20-\\ufe2f"+"\\u20d0-\\u20ff"+"\\u1ab0-\\u1aff"+"\\u1dc0-\\u1dff",o="\\ufe0e\\ufe0f",l="\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83C\\uDF93",f=`[${e}]`,c=`[${a}]`,h="\\ud83c[\\udffb-\\udfff]",y=`(?:${c}|${h})`,b=`[^${e}]`,$="(?:\\uD83C[\\uDDE6-\\uDDFF]){2}",I="[\\ud800-\\udbff][\\udc00-\\udfff]",q="\\u200d",j="(?:\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40(?:\\udc65|\\udc73|\\udc77)\\udb40(?:\\udc6e|\\udc63|\\udc6c)\\udb40(?:\\udc67|\\udc74|\\udc73)\\udb40\\udc7f)",m=`[${l}]`,p=`${y}?`,d=`[${o}]?`,v=`(?:${q}(?:${[b,$,I].join("|")})${d+p})*`,x=d+p+v,M=`(?:${[`${b}${c}?`,c,$,I,f,m].join("|")})`;return new RegExp(`${j}|${h}(?=${h})|${M+x}`,"g")},gc=et&&et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zt,"__esModule",{value:!0});var Cn=gc(dc);function ls(e){if(typeof e!="string")throw new Error("A string is expected as input");return e.match(Cn.default())||[]}var jn=Zt.toArray=ls;function Rs(e){if(typeof e!="string")throw new Error("Input must be a string");var t=e.match(Cn.default());return t===null?0:t.length}var mc=Zt.length=Rs;function za(e,t,r){if(t===void 0&&(t=0),typeof e!="string")throw new Error("Input must be a string");(typeof t!="number"||t<0)&&(t=0),typeof r=="number"&&r<0&&(r=0);var n=e.match(Cn.default());return n?n.slice(t,r).join(""):""}var vc=Zt.substring=za;function yc(e,t,r){if(t===void 0&&(t=0),typeof e!="string")throw new Error("Input must be a string");var n=Rs(e);if(typeof t!="number"&&(t=parseInt(t,10)),t>=n)return"";t<0&&(t+=n);var s;typeof r>"u"?s=n:(typeof r!="number"&&(r=parseInt(r,10)),s=r>=0?r+t:t);var i=e.match(Cn.default());return i?i.slice(t,s).join(""):""}Zt.substr=yc;function wc(e,t,r,n){if(t===void 0&&(t=16),r===void 0&&(r="#"),n===void 0&&(n="right"),typeof e!="string"||typeof t!="number")throw new Error("Invalid arguments specified");if(["left","right"].indexOf(n)===-1)throw new Error("Pad position should be either left or right");typeof r!="string"&&(r=String(r));var s=Rs(e);if(s>t)return za(e,0,t);if(s<t){var i=r.repeat(t-s);return n==="left"?i+e:e+i}return e}Zt.limit=wc;function xc(e,t,r){if(r===void 0&&(r=0),typeof e!="string")throw new Error("Input must be a string");if(e==="")return t===""?0:-1;r=Number(r),r=isNaN(r)?0:r,t=String(t);var n=ls(e);if(r>=n.length)return t===""?n.length:-1;if(t==="")return r;var s=ls(t),i=!1,a;for(a=r;a<n.length;a+=1){for(var o=0;o<s.length&&s[o]===n[a+o];)o+=1;if(o===s.length&&s[o-1]===n[a+o-1]){i=!0;break}}return i?a:-1}var bc=Zt.indexOf=xc;const Pi={num:{to_str:e=>_(async(t,r)=>te(e.value.toString())),to_hex:e=>_(async(t,r)=>te(e.value.toString(16)))},str:{to_num:e=>_(async(t,r)=>{const n=parseInt(e.value,10);return isNaN(n)?G:F(n)}),to_arr:e=>_(async(t,r)=>de(jn(e.value).map(n=>te(n)))),to_unicode_arr:e=>_(async(t,r)=>de([...e.value].map(n=>te(n)))),to_unicode_codepoint_arr:e=>_(async(t,r)=>de([...e.value].map(n=>{const s=n.codePointAt(0);return F(s??n.charCodeAt(0))}))),to_char_arr:e=>_(async(t,r)=>de(e.value.split("").map(n=>te(n)))),to_charcode_arr:e=>_(async(t,r)=>de(e.value.split("").map(n=>F(n.charCodeAt(0))))),to_utf8_byte_arr:e=>_(async(t,r)=>de(Array.from(Ha.encode(e.value)).map(n=>F(n)))),len:e=>F(mc(e.value)),replace:e=>_(async([t,r],n)=>(ae(t),ae(r),te(e.value.split(t.value).join(r.value)))),index_of:e=>_(async([t,r],n)=>{ae(t),r&&P(r);const s=r?r.value<0?e.value.length+r.value:r.value:void 0;return F(bc(e.value,t.value,s))}),incl:e=>_(async([t],r)=>(ae(t),e.value.includes(t.value)?Se:Fe)),trim:e=>_(async(t,r)=>te(e.value.trim())),upper:e=>_(async(t,r)=>te(e.value.toUpperCase())),lower:e=>_(async(t,r)=>te(e.value.toLowerCase())),split:e=>_(async([t],r)=>(t&&ae(t),de(t?e.value.split(t?t.value:"").map(n=>te(n)):jn(e.value).map(n=>te(n))))),slice:e=>_(async([t,r],n)=>(P(t),P(r),te(vc(e.value,t.value,r.value)))),pick:e=>_(async([t],r)=>{P(t);const s=jn(e.value)[t.value];return s?te(s):G}),charcode_at:e=>_(([t],r)=>{P(t);const n=e.value.charCodeAt(t.value);return Number.isNaN(n)?G:F(n)}),codepoint_at:e=>_(([t],r)=>{P(t);const n=e.value.codePointAt(t.value)??e.value.charCodeAt(t.value);return Number.isNaN(n)?G:F(n)}),starts_with:e=>_(async([t,r],n)=>{if(ae(t),!t.value)return Se;r&&P(r);const s=r?.value??0;if(s<-e.value.length||s>e.value.length)return Fe;const i=s>=0?s:e.value.length+s;return e.value.startsWith(t.value,i)?Se:Fe}),ends_with:e=>_(async([t,r],n)=>{if(ae(t),!t.value)return Se;r&&P(r);const s=r?.value??e.value.length;if(s<-e.value.length||s>e.value.length)return Fe;const i=s>=0?s:e.value.length+s;return e.value.endsWith(t.value,i)?Se:Fe}),pad_start:e=>_(([t,r],n)=>{P(t);const s=r?(ae(r),r.value):" ";return te(e.value.padStart(t.value,s))}),pad_end:e=>_(([t,r],n)=>{P(t);const s=r?(ae(r),r.value):" ";return te(e.value.padEnd(t.value,s))})},arr:{len:e=>F(e.value.length),push:e=>_(async([t],r)=>(Ne(t),e.value.push(t),e)),unshift:e=>_(async([t],r)=>(Ne(t),e.value.unshift(t),e)),pop:e=>_(async(t,r)=>e.value.pop()??G),shift:e=>_(async(t,r)=>e.value.shift()??G),concat:e=>_(async([t],r)=>(Ct(t),de(e.value.concat(t.value)))),slice:e=>_(async([t,r],n)=>(P(t),P(r),de(e.value.slice(t.value,r.value)))),join:e=>_(async([t],r)=>(t&&ae(t),te(e.value.map(n=>n.type==="str"?n.value:"").join(t?t.value:"")))),map:e=>_(async([t],r)=>{be(t);const n=e.value.map(async(s,i)=>await r.call(t,[s,F(i)]));return de(await Promise.all(n))}),filter:e=>_(async([t],r)=>{be(t);const n=[];for(let s=0;s<e.value.length;s++){const i=e.value[s],a=await r.call(t,[i,F(s)]);Be(a),a.value&&n.push(i)}return de(n)}),reduce:e=>_(async([t,r],n)=>{be(t);const s=r!=null;if(!s&&e.value.length===0)throw new ne("Reduce of empty array without initial value");let i=s?r:e.value[0];for(let a=s?0:1;a<e.value.length;a++){const o=e.value[a];i=await n.call(t,[i,o,F(a)])}return i}),find:e=>_(async([t],r)=>{be(t);for(let n=0;n<e.value.length;n++){const s=e.value[n],i=await r.call(t,[s,F(n)]);if(Be(i),i.value)return s}return G}),incl:e=>_(async([t],r)=>(Ne(t),e.value.some(n=>hr(t,n))?Se:Fe)),index_of:e=>_(async([t,r],n)=>{if(Ne(t),r){P(r);const s=e.value.slice(0,r.value).length,i=e.value.slice(r.value).findIndex(a=>hr(a,t));return F(i<0?i:i+s)}else return F(e.value.findIndex(s=>hr(s,t)))}),reverse:e=>_(async(t,r)=>(e.value.reverse(),G)),copy:e=>_(async(t,r)=>de([...e.value])),sort:e=>_(async([t],r)=>{const n=async(i,a)=>{if(i.length<=1)return i;const o=Math.floor(i.length/2),l=n(i.slice(0,o),a),f=n(i.slice(o),a),[c,h]=await Promise.all([l,f]);return s(c,h,a)},s=async(i,a,o)=>{const l=[];let f=0,c=0;for(;f<i.length&&c<a.length;){const h=i[f],y=a[c],b=await r.call(o,[h,y]);P(b),b.value<=0?(l.push(i[f]),f++):(l.push(a[c]),c++)}return l.concat(i.slice(f)).concat(a.slice(c))};return be(t),Ct(e),e.value=await n(e.value,t),e}),fill:e=>_(async([t,r,n],s)=>{const i=t??G,a=r&&(P(r),r.value),o=n&&(P(n),n.value);return e.value.fill(i,a,o),e}),repeat:e=>_(async([t],r)=>{P(t);try{return de(Array(t.value).fill(e.value).flat())}catch(n){throw t.value<0?new ne("arr.repeat expected non-negative number, got negative"):Number.isInteger(t.value)?n:new ne("arr.repeat expected integer, got non-integer")}}),splice:e=>_(async([t,r,n],s)=>{P(t);const i=t.value<-e.value.length?0:t.value<0?e.value.length+t.value:t.value>=e.value.length?e.value.length:t.value,a=r!=null?(P(r),r.value):e.value.length-i,o=n!=null?(Ct(n),n.value):[],l=e.value.splice(i,a,...o);return de(l)}),flat:e=>_(async([t],r)=>{if(t=t??F(1),P(t),!Number.isInteger(t.value))throw new ne("arr.flat expected integer, got non-integer");if(t.value<0)throw new ne("arr.flat expected non-negative number, got negative");const n=(i,a,o)=>{if(a===0){o.push(...i);return}for(const l of i)hn(l)?n(l.value,a-1,o):o.push(l)},s=[];return n(e.value,t.value,s),de(s)}),flat_map:e=>_(async([t],r)=>{be(t);const n=e.value.map(async(i,a)=>{const o=await r.call(t,[i,F(a)]);return hn(o)?o.value:o}),s=await Promise.all(n);return de(s.flat())}),every:e=>_(async([t],r)=>{be(t);for(let n=0;n<e.value.length;n++){const s=e.value[n],i=await r.call(t,[s,F(n)]);if(Be(i),!i.value)return Fe}return Se}),some:e=>_(async([t],r)=>{be(t);for(let n=0;n<e.value.length;n++){const s=e.value[n],i=await r.call(t,[s,F(n)]);if(Be(i),i.value)return Se}return Fe}),insert:e=>_(async([t,r],n)=>(P(t),Ne(r),e.value.splice(t.value,0,r),G)),remove:e=>_(async([t],r)=>(P(t),e.value.splice(t.value,1)[0]??G)),at:e=>_(async([t,r],n)=>(P(t),e.value.at(t.value)??r??G))},error:{name:e=>te(e.value),info:e=>e.info??G}};function _c(e,t){if(Object.hasOwn(Pi,e.type)){const r=Pi[e.type];if(Object.hasOwn(r,t))return r[t](e);throw new ne(`No such prop (${t}) in ${e.type}.`)}else throw new ne(`Cannot read prop of ${e.type}. (reading ${t})`)}const Ec={mut(e){return{isMutable:!0,value:e}},const(e){return{isMutable:!1,value:e}}};var Oe=function(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i};class Ce{opts;stepCount=0;stop=!1;scope;abortHandlers=[];vars={};irqRate;irqSleep;constructor(t,r={}){this.opts=r;const n={print:_(([i])=>{Ne(i),this.opts.out&&this.opts.out(i)}),readline:_(async i=>{const a=i[0];if(ae(a),this.opts.in==null)return G;const o=await this.opts.in(a.value);return te(o)})};if(this.vars=Object.fromEntries(Object.entries({...t,...pc,...n}).map(([i,a])=>[i,Ec.const(a)])),this.scope=new Ve([new Map(Object.entries(this.vars))]),this.scope.opts.log=(i,a)=>{switch(i){case"add":this.log("var:add",a);break;case"read":this.log("var:read",a);break;case"write":this.log("var:write",a);break}},!((this.opts.irqRate??300)>=0))throw new bi(`Invalid IRQ rate (${this.opts.irqRate}): must be non-negative number`);this.irqRate=this.opts.irqRate??300;const s=i=>()=>new Promise(a=>setTimeout(a,i));if(typeof this.opts.irqSleep=="function")this.irqSleep=this.opts.irqSleep;else if(this.opts.irqSleep===void 0)this.irqSleep=s(5);else if(this.opts.irqSleep>=0)this.irqSleep=s(this.opts.irqSleep);else throw new bi("irqSleep must be a function or a positive number.")}async exec(t){if(!(t==null||t.length===0))try{await this.collectNs(t);const r=await this._run(t,this.scope,[]);this.log("end",{val:r})}catch(r){this.handleError(r)}}async execFn(t,r){return await this._fn(t,r,[]).catch(n=>(this.handleError(n),en("func_failed")))}execFnSimple(t,r){return this._fn(t,r,[])}static collectMetadata(t){if(t==null||t.length===0)return;function r(s){switch(s.type){case"arr":return s.value.map(i=>r(i));case"bool":return s.value;case"null":return null;case"num":return s.value;case"obj":{const i={};for(const[a,o]of s.value.entries())i[a]=r(o);return i}case"str":return s.value;default:return}}const n=new Map;for(const s of t)switch(s.type){case"meta":{n.set(s.name,r(s.value));break}}return n}handleError(t){if(!this.opts.err)throw t;if(this.opts.abortOnError){if(this.stop)return;this.abort()}t instanceof At?this.opts.err(t):this.opts.err(new wi(t))}log(t,r){this.opts.log&&this.opts.log(t,r)}async collectNs(t,r=this.scope){for(const n of t)switch(n.type){case"ns":{await this.collectNsMember(n,r);break}}}async collectNsMember(t,r=this.scope){const n=r.createChildNamespaceScope(t.name);await this.collectNs(t.members,n);for(const s of t.members)switch(s.type){case"def":{if(s.dest.type!=="identifier")throw new Tn("Destructuring assignment is invalid in namespace declarations.",s.loc.start);if(s.mut)throw new Tn('No "var" in namespace declaration: '+s.dest.name,s.loc.start);const i=await this._eval(s.expr,n,[]);s.expr.type==="fn"&&Ei(i)&&!i.native&&(i.name=n.getNsPrefix()+s.dest.name),await this.define(n,s.dest,i,s.mut);break}case"ns":break;default:{const a=s;throw new Tn("invalid ns member type: "+a.type,a.loc.start)}}}async _fn(t,r,n,s){if(t.native){const i={name:"<native>",pos:s};return t.native(r,{call:(o,l)=>this._fn(o,l,[...n,i]),topCall:this.execFn,registerAbortHandler:this.registerAbortHandler,unregisterAbortHandler:this.unregisterAbortHandler})??G}else{const i=t.scope.createChildScope();for(const[o,l]of t.params.entries()){const f=r[o];l.default||Ne(f),this.define(i,l.dest,f??l.default,!0)}const a={name:t.name??"<anonymous>",pos:s};return Ru(await this._run(t.statements,i,[...n,a]))}}_evalClause(t,r,n){return this._eval(t,Pu(t)?r.createChildScope():r,n)}_eval(t,r,n){return this.__eval(t,r,n).catch(s=>{if(s.pos)throw s;{const i=s instanceof At?s:new wi(s);throw i.pos=t.loc.start,i.message=[i.message,...[...n,{pos:i.pos}].map(({pos:a},o)=>{const l=n[o-1]?.name??"<root>";return a?`  at ${l} (Line ${a.line}, Column ${a.column})`:`  at ${l}`}).reverse()].join(`
`),i}})}async __eval(t,r,n){if(this.stop)return G;if(this.irqRate!==0&&this.stepCount%this.irqRate>=this.irqRate-1&&await this.irqSleep(),this.stepCount++,this.opts.maxStep&&this.stepCount>this.opts.maxStep)throw new ne("max step exceeded");switch(t.type){case"call":{const s=await this._eval(t.target,r,n);be(s);const i=await Promise.all(t.args.map(a=>this._eval(a,r,n)));return this._fn(s,i,n,t.loc.start)}case"if":{const s=await this._eval(t.cond,r,n);if(Be(s),s.value)return this._evalClause(t.then,r,n);for(const i of t.elseif){const a=await this._eval(i.cond,r,n);if(Be(a),a.value)return this._evalClause(i.then,r,n)}return t.else?this._evalClause(t.else,r,n):G}case"match":{const s=await this._eval(t.about,r,n);for(const i of t.qs){const a=await this._eval(i.q,r,n);if(hr(s,a))return await this._evalClause(i.a,r,n)}return t.default?await this._evalClause(t.default,r,n):G}case"loop":{for(;;){const s=await this._run(t.statements,r.createChildScope(),n);if(s.type==="break")break;if(s.type==="return")return s}return G}case"for":{if(t.times){const s=await this._eval(t.times,r,n);P(s);for(let i=0;i<s.value;i++){const a=await this._evalClause(t.for,r,n);if(a.type==="break")break;if(a.type==="return")return a}}else{const s=await this._eval(t.from,r,n),i=await this._eval(t.to,r,n);P(s),P(i);for(let a=s.value;a<s.value+i.value;a++){const o=await this._eval(t.for,r.createChildScope(new Map([[t.var,{isMutable:!1,value:F(a)}]])),n);if(o.type==="break")break;if(o.type==="return")return o}}return G}case"each":{const s=await this._eval(t.items,r,n);Ct(s);for(const i of s.value){const a=r.createChildScope();this.define(a,t.var,i,!1);const o=await this._eval(t.for,a,n);if(o.type==="break")break;if(o.type==="return")return o}return G}case"def":{const s=await this._eval(t.expr,r,n);if(t.attr.length>0){const i=[];for(const a of t.attr)i.push({name:a.name,value:await this._eval(a.value,r,n)});s.attr=i}return t.expr.type==="fn"&&t.dest.type==="identifier"&&Ei(s)&&!s.native&&(s.name=t.dest.name),await this.define(r,t.dest,s,t.mut),G}case"identifier":return r.get(t.name);case"assign":{const s=await this._eval(t.expr,r,n);return await this.assign(r,t.dest,s,n),G}case"addAssign":{const s=await this._eval(t.dest,r,n);P(s);const i=await this._eval(t.expr,r,n);return P(i),await this.assign(r,t.dest,F(s.value+i.value),n),G}case"subAssign":{const s=await this._eval(t.dest,r,n);P(s);const i=await this._eval(t.expr,r,n);return P(i),await this.assign(r,t.dest,F(s.value-i.value),n),G}case"null":return G;case"bool":return Vt(t.value);case"num":return F(t.value);case"str":return te(t.value);case"arr":return de(await Promise.all(t.value.map(s=>this._eval(s,r,n))));case"obj":{const s=new Map;for(const[i,a]of t.value)s.set(i,await this._eval(a,r,n));return fn(s)}case"prop":{const s=await this._eval(t.target,r,n);return Ln(s)?s.value.has(t.name)?s.value.get(t.name):G:_c(s,t.name)}case"index":{const s=await this._eval(t.target,r,n),i=await this._eval(t.index,r,n);if(hn(s)){P(i);const a=s.value[i.value];if(a===void 0)throw new xi(`Index out of range. index: ${i.value} max: ${s.value.length-1}`);return a}else{if(Ln(s))return ae(i),s.value.has(i.value)?s.value.get(i.value):G;throw new ne(`Cannot read prop (${pr(i)}) of ${s.type}.`)}}case"not":{const s=await this._eval(t.expr,r,n);return Be(s),Vt(!s.value)}case"fn":return ku(await Promise.all(t.params.map(async s=>({dest:s.dest,default:s.default?await this._eval(s.default,r,n):s.optional?G:void 0}))),t.children,r);case"block":return this._run(t.statements,r.createChildScope(),n);case"exists":return Vt(r.exists(t.identifier.name));case"tmpl":{let s="";for(const i of t.tmpl)if(typeof i=="string")s+=i;else{const a=await this._eval(i,r,n);s+=pr(a)}return te(s)}case"return":{const s=await this._eval(t.expr,r,n);return this.log("block:return",{scope:r.name,val:s}),Bu(s)}case"break":return this.log("block:break",{scope:r.name}),Iu();case"continue":return this.log("block:continue",{scope:r.name}),Nu();case"ns":return G;case"meta":return G;case"pow":{const s=r.get("Core:pow");be(s);const i=await this._eval(t.left,r,n),a=await this._eval(t.right,r,n);return this._fn(s,[i,a],n)}case"mul":{const s=r.get("Core:mul");be(s);const i=await this._eval(t.left,r,n),a=await this._eval(t.right,r,n);return this._fn(s,[i,a],n)}case"div":{const s=r.get("Core:div");be(s);const i=await this._eval(t.left,r,n),a=await this._eval(t.right,r,n);return this._fn(s,[i,a],n)}case"rem":{const s=r.get("Core:mod");be(s);const i=await this._eval(t.left,r,n),a=await this._eval(t.right,r,n);return this._fn(s,[i,a],n)}case"add":{const s=r.get("Core:add");be(s);const i=await this._eval(t.left,r,n),a=await this._eval(t.right,r,n);return this._fn(s,[i,a],n)}case"sub":{const s=r.get("Core:sub");be(s);const i=await this._eval(t.left,r,n),a=await this._eval(t.right,r,n);return this._fn(s,[i,a],n)}case"lt":{const s=r.get("Core:lt");be(s);const i=await this._eval(t.left,r,n),a=await this._eval(t.right,r,n);return this._fn(s,[i,a],n)}case"lteq":{const s=r.get("Core:lteq");be(s);const i=await this._eval(t.left,r,n),a=await this._eval(t.right,r,n);return this._fn(s,[i,a],n)}case"gt":{const s=r.get("Core:gt");be(s);const i=await this._eval(t.left,r,n),a=await this._eval(t.right,r,n);return this._fn(s,[i,a],n)}case"gteq":{const s=r.get("Core:gteq");be(s);const i=await this._eval(t.left,r,n),a=await this._eval(t.right,r,n);return this._fn(s,[i,a],n)}case"eq":{const s=r.get("Core:eq");be(s);const i=await this._eval(t.left,r,n),a=await this._eval(t.right,r,n);return this._fn(s,[i,a],n)}case"neq":{const s=r.get("Core:neq");be(s);const i=await this._eval(t.left,r,n),a=await this._eval(t.right,r,n);return this._fn(s,[i,a],n)}case"and":{const s=await this._eval(t.left,r,n);if(Be(s),s.value){const i=await this._eval(t.right,r,n);return Be(i),i}else return s}case"or":{const s=await this._eval(t.left,r,n);if(Be(s),s.value)return s;{const i=await this._eval(t.right,r,n);return Be(i),i}}default:throw new Error("invalid node type")}}async _run(t,r,n){this.log("block:enter",{scope:r.name});let s=G;for(let i=0;i<t.length;i++){const a=t[i];if(s=await this._eval(a,r,n),s.type==="return")return this.log("block:return",{scope:r.name,val:s.value}),s;if(s.type==="break")return this.log("block:break",{scope:r.name}),s;if(s.type==="continue")return this.log("block:continue",{scope:r.name}),s}return this.log("block:leave",{scope:r.name,val:s}),s}registerAbortHandler(t){this.abortHandlers.push(t)}unregisterAbortHandler(t){this.abortHandlers=this.abortHandlers.filter(r=>r!==t)}abort(){this.stop=!0;for(const t of this.abortHandlers)t();this.abortHandlers=[]}async define(t,r,n,s){switch(r.type){case"identifier":{t.add(r.name,{isMutable:s,value:n});break}case"arr":{Ct(n),await Promise.all(r.value.map((i,a)=>this.define(t,i,n.value[a]??G,s)));break}case"obj":{rt(n),await Promise.all([...r.value].map(([i,a])=>this.define(t,a,n.value.get(i)??G,s)));break}default:throw new ne("The left-hand side of an definition expression must be a variable.")}}async assign(t,r,n,s){switch(r.type){case"identifier":{t.assign(r.name,n);break}case"index":{const i=await this._eval(r.target,t,s),a=await this._eval(r.index,t,s);if(hn(i)){if(P(a),i.value[a.value]===void 0)throw new xi(`Index out of range. index: ${a.value} max: ${i.value.length-1}`);i.value[a.value]=n}else if(Ln(i))ae(a),i.value.set(a.value,n);else throw new ne(`Cannot read prop (${pr(a)}) of ${i.type}.`);break}case"prop":{const i=await this._eval(r.target,t,s);rt(i),i.value.set(r.name,n);break}case"arr":{Ct(n),await Promise.all(r.value.map((i,a)=>this.assign(t,i,n.value[a]??G,s)));break}case"obj":{rt(n),await Promise.all([...r.value].map(([i,a])=>this.assign(t,a,n.value.get(i)??G,s)));break}default:throw new ne("The left-hand side of an assignment expression must be a variable or a property/index access.")}}}Oe([he],Ce.prototype,"exec",null);Oe([he],Ce.prototype,"execFn",null);Oe([he],Ce.prototype,"execFnSimple",null);Oe([he],Ce.prototype,"handleError",null);Oe([he],Ce.prototype,"log",null);Oe([he],Ce.prototype,"collectNs",null);Oe([he],Ce.prototype,"collectNsMember",null);Oe([he],Ce.prototype,"_fn",null);Oe([he],Ce.prototype,"_evalClause",null);Oe([he],Ce.prototype,"_eval",null);Oe([he],Ce.prototype,"__eval",null);Oe([he],Ce.prototype,"_run",null);Oe([he],Ce.prototype,"registerAbortHandler",null);Oe([he],Ce.prototype,"unregisterAbortHandler",null);Oe([he],Ce.prototype,"abort",null);Oe([he],Ce.prototype,"define",null);Oe([he],Ce.prototype,"assign",null);Oe([he],Ce,"collectMetadata",null);class Cc{pages;firstPageIndex;lastPageIndex;pageIndex;address;_char;line;column;constructor(t,r){this.pages=new Map,this.pages.set(0,t),this.firstPageIndex=0,this.lastPageIndex=0,this.pageIndex=0,this.address=0,this.line=r?.line??0,this.column=r?.column??0,this.moveNext()}get eof(){return this.endOfPage&&this.isLastPage}get char(){if(this.eof)throw new Error("end of stream");return this._char}getPos(){return{line:this.line+1,column:this.column+1}}next(){!this.eof&&this._char===`
`?(this.line++,this.column=0):this.column++,this.incAddr(),this.moveNext()}prev(){this.decAddr(),this.movePrev()}get isFirstPage(){return this.pageIndex<=this.firstPageIndex}get isLastPage(){return this.pageIndex>=this.lastPageIndex}get endOfPage(){const t=this.pages.get(this.pageIndex);return this.address>=t.length}moveNext(){for(this.loadChar();;){if(!this.eof&&this._char==="\r"){this.incAddr(),this.loadChar();continue}break}}incAddr(){this.endOfPage?this.isLastPage||(this.pageIndex++,this.address=0):this.address++}movePrev(){for(this.loadChar();;){if(!this.eof&&this._char==="\r"){this.decAddr(),this.loadChar();continue}break}}decAddr(){this.address>0?this.address--:this.isFirstPage||(this.pageIndex--,this.address=this.pages.get(this.pageIndex).length-1)}loadChar(){this.eof?this._char=void 0:this._char=this.pages.get(this.pageIndex)[this.address]}}var u;(function(e){e[e.EOF=0]="EOF",e[e.NewLine=1]="NewLine",e[e.Identifier=2]="Identifier",e[e.NumberLiteral=3]="NumberLiteral",e[e.StringLiteral=4]="StringLiteral",e[e.Template=5]="Template",e[e.TemplateStringElement=6]="TemplateStringElement",e[e.TemplateExprElement=7]="TemplateExprElement",e[e.NullKeyword=8]="NullKeyword",e[e.TrueKeyword=9]="TrueKeyword",e[e.FalseKeyword=10]="FalseKeyword",e[e.EachKeyword=11]="EachKeyword",e[e.ForKeyword=12]="ForKeyword",e[e.LoopKeyword=13]="LoopKeyword",e[e.DoKeyword=14]="DoKeyword",e[e.WhileKeyword=15]="WhileKeyword",e[e.BreakKeyword=16]="BreakKeyword",e[e.ContinueKeyword=17]="ContinueKeyword",e[e.MatchKeyword=18]="MatchKeyword",e[e.CaseKeyword=19]="CaseKeyword",e[e.DefaultKeyword=20]="DefaultKeyword",e[e.IfKeyword=21]="IfKeyword",e[e.ElifKeyword=22]="ElifKeyword",e[e.ElseKeyword=23]="ElseKeyword",e[e.ReturnKeyword=24]="ReturnKeyword",e[e.EvalKeyword=25]="EvalKeyword",e[e.VarKeyword=26]="VarKeyword",e[e.LetKeyword=27]="LetKeyword",e[e.ExistsKeyword=28]="ExistsKeyword",e[e.Not=29]="Not",e[e.NotEq=30]="NotEq",e[e.OpenSharpBracket=31]="OpenSharpBracket",e[e.Sharp3=32]="Sharp3",e[e.Percent=33]="Percent",e[e.And2=34]="And2",e[e.OpenParen=35]="OpenParen",e[e.CloseParen=36]="CloseParen",e[e.Asterisk=37]="Asterisk",e[e.Plus=38]="Plus",e[e.PlusEq=39]="PlusEq",e[e.Comma=40]="Comma",e[e.Minus=41]="Minus",e[e.MinusEq=42]="MinusEq",e[e.Dot=43]="Dot",e[e.Slash=44]="Slash",e[e.Colon=45]="Colon",e[e.Colon2=46]="Colon2",e[e.SemiColon=47]="SemiColon",e[e.Lt=48]="Lt",e[e.LtEq=49]="LtEq",e[e.Out=50]="Out",e[e.Eq=51]="Eq",e[e.Eq2=52]="Eq2",e[e.Arrow=53]="Arrow",e[e.Gt=54]="Gt",e[e.GtEq=55]="GtEq",e[e.Question=56]="Question",e[e.At=57]="At",e[e.OpenBracket=58]="OpenBracket",e[e.BackSlash=59]="BackSlash",e[e.CloseBracket=60]="CloseBracket",e[e.Hat=61]="Hat",e[e.OpenBrace=62]="OpenBrace",e[e.Or2=63]="Or2",e[e.CloseBrace=64]="CloseBrace"})(u||(u={}));class Ac{kind;pos;hasLeftSpacing;value;children;constructor(t,r,n=!1,s,i){this.kind=t,this.pos=r,this.hasLeftSpacing=n,this.value=s,this.children=i}}function D(e,t,r){return new Ac(e,t,r?.hasLeftSpacing,r?.value,r?.children)}const Un=[" ","	"],Si=["\r",`
`],Fi=/^[0-9]$/,Pc=/^[A-Za-z0-9_]$/;class Sc{stream;_tokens=[];constructor(t){typeof t=="string"?this.stream=new Cc(t):this.stream=t,this._tokens.push(this.readToken())}getToken(){return this._tokens[0]}is(t){return this.getTokenKind()===t}getTokenKind(){return this.getToken().kind}getTokenValue(){return this.getToken().value}getPos(){return this.getToken().pos}next(){this._tokens[0].kind!==u.EOF&&(this._tokens.shift(),this._tokens.length===0&&this._tokens.push(this.readToken()))}lookahead(t){for(;this._tokens.length<=t;)this._tokens.push(this.readToken());return this._tokens[t]}expect(t){if(!this.is(t))throw new re(`unexpected token: ${u[this.getTokenKind()]}`,this.getPos())}readToken(){let t=!1;for(;;){if(this.stream.eof)return D(u.EOF,this.stream.getPos(),{hasLeftSpacing:t});if(Un.includes(this.stream.char)){this.stream.next(),t=!0;continue}const r=this.stream.getPos();if(Si.includes(this.stream.char))return this.skipEmptyLines(),D(u.NewLine,r,{hasLeftSpacing:t});switch(this.stream.char){case"!":return this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),D(u.NotEq,r,{hasLeftSpacing:t})):D(u.Not,r,{hasLeftSpacing:t});case'"':case"'":return this.readStringLiteral(t);case"#":if(this.stream.next(),!this.stream.eof&&this.stream.char==="#"){if(this.stream.next(),!this.stream.eof&&this.stream.char==="#")return this.stream.next(),D(u.Sharp3,r,{hasLeftSpacing:t});throw new re('invalid sequence of characters: "##"',r)}else{if(!this.stream.eof&&this.stream.char==="[")return this.stream.next(),D(u.OpenSharpBracket,r,{hasLeftSpacing:t});throw new re('invalid character: "#"',r)}case"%":return this.stream.next(),D(u.Percent,r,{hasLeftSpacing:t});case"&":{if(this.stream.next(),!this.stream.eof&&this.stream.char==="&")return this.stream.next(),D(u.And2,r,{hasLeftSpacing:t});throw new re('invalid character: "&"',r)}case"(":return this.stream.next(),D(u.OpenParen,r,{hasLeftSpacing:t});case")":return this.stream.next(),D(u.CloseParen,r,{hasLeftSpacing:t});case"*":return this.stream.next(),D(u.Asterisk,r,{hasLeftSpacing:t});case"+":return this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),D(u.PlusEq,r,{hasLeftSpacing:t})):D(u.Plus,r,{hasLeftSpacing:t});case",":return this.stream.next(),D(u.Comma,r,{hasLeftSpacing:t});case"-":return this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),D(u.MinusEq,r,{hasLeftSpacing:t})):D(u.Minus,r,{hasLeftSpacing:t});case".":return this.stream.next(),D(u.Dot,r,{hasLeftSpacing:t});case"/":if(this.stream.next(),!this.stream.eof&&this.stream.char==="*"){this.stream.next(),this.skipCommentRange();continue}else if(!this.stream.eof&&this.stream.char==="/"){this.stream.next(),this.skipCommentLine();continue}else return D(u.Slash,r,{hasLeftSpacing:t});case":":return this.stream.next(),!this.stream.eof&&this.stream.char===":"?(this.stream.next(),D(u.Colon2,r,{hasLeftSpacing:t})):D(u.Colon,r,{hasLeftSpacing:t});case";":return this.stream.next(),D(u.SemiColon,r,{hasLeftSpacing:t});case"<":return this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),D(u.LtEq,r,{hasLeftSpacing:t})):!this.stream.eof&&this.stream.char===":"?(this.stream.next(),D(u.Out,r,{hasLeftSpacing:t})):D(u.Lt,r,{hasLeftSpacing:t});case"=":return this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),D(u.Eq2,r,{hasLeftSpacing:t})):!this.stream.eof&&this.stream.char===">"?(this.stream.next(),D(u.Arrow,r,{hasLeftSpacing:t})):D(u.Eq,r,{hasLeftSpacing:t});case">":return this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),D(u.GtEq,r,{hasLeftSpacing:t})):D(u.Gt,r,{hasLeftSpacing:t});case"?":return this.stream.next(),D(u.Question,r,{hasLeftSpacing:t});case"@":return this.stream.next(),D(u.At,r,{hasLeftSpacing:t});case"[":return this.stream.next(),D(u.OpenBracket,r,{hasLeftSpacing:t});case"\\":return this.stream.next(),D(u.BackSlash,r,{hasLeftSpacing:t});case"]":return this.stream.next(),D(u.CloseBracket,r,{hasLeftSpacing:t});case"^":return this.stream.next(),D(u.Hat,r,{hasLeftSpacing:t});case"`":return this.readTemplate(t);case"{":return this.stream.next(),D(u.OpenBrace,r,{hasLeftSpacing:t});case"|":{if(this.stream.next(),!this.stream.eof&&this.stream.char==="|")return this.stream.next(),D(u.Or2,r,{hasLeftSpacing:t});throw new re('invalid character: "|"',r)}case"}":return this.stream.next(),D(u.CloseBrace,r,{hasLeftSpacing:t});default:{const n=this.tryReadDigits(t);if(n)return n;const s=this.tryReadWord(t);if(s)return s;throw new re(`invalid character: "${this.stream.char}"`,r)}}break}}tryReadWord(t){let r="";const n=this.stream.getPos();for(;!this.stream.eof&&Pc.test(this.stream.char);)r+=this.stream.char,this.stream.next();if(r.length!==0)switch(r){case"null":return D(u.NullKeyword,n,{hasLeftSpacing:t});case"true":return D(u.TrueKeyword,n,{hasLeftSpacing:t});case"false":return D(u.FalseKeyword,n,{hasLeftSpacing:t});case"each":return D(u.EachKeyword,n,{hasLeftSpacing:t});case"for":return D(u.ForKeyword,n,{hasLeftSpacing:t});case"loop":return D(u.LoopKeyword,n,{hasLeftSpacing:t});case"do":return D(u.DoKeyword,n,{hasLeftSpacing:t});case"while":return D(u.WhileKeyword,n,{hasLeftSpacing:t});case"break":return D(u.BreakKeyword,n,{hasLeftSpacing:t});case"continue":return D(u.ContinueKeyword,n,{hasLeftSpacing:t});case"match":return D(u.MatchKeyword,n,{hasLeftSpacing:t});case"case":return D(u.CaseKeyword,n,{hasLeftSpacing:t});case"default":return D(u.DefaultKeyword,n,{hasLeftSpacing:t});case"if":return D(u.IfKeyword,n,{hasLeftSpacing:t});case"elif":return D(u.ElifKeyword,n,{hasLeftSpacing:t});case"else":return D(u.ElseKeyword,n,{hasLeftSpacing:t});case"return":return D(u.ReturnKeyword,n,{hasLeftSpacing:t});case"eval":return D(u.EvalKeyword,n,{hasLeftSpacing:t});case"var":return D(u.VarKeyword,n,{hasLeftSpacing:t});case"let":return D(u.LetKeyword,n,{hasLeftSpacing:t});case"exists":return D(u.ExistsKeyword,n,{hasLeftSpacing:t});default:return D(u.Identifier,n,{hasLeftSpacing:t,value:r})}}tryReadDigits(t){let r="",n="";const s=this.stream.getPos();for(;!this.stream.eof&&Fi.test(this.stream.char);)r+=this.stream.char,this.stream.next();if(r.length===0)return;if(!this.stream.eof&&this.stream.char==="."){for(this.stream.next();!this.stream.eof&&Fi.test(this.stream.char);)n+=this.stream.char,this.stream.next();if(n.length===0)throw new re("digit expected",s)}let i;return n.length>0?i=r+"."+n:i=r,D(u.NumberLiteral,s,{hasLeftSpacing:t,value:i})}readStringLiteral(t){let r="";const n=this.stream.char;let s="string";const i=this.stream.getPos();for(this.stream.next();s!=="finish";)switch(s){case"string":{if(this.stream.eof)throw new re("unexpected EOF",i);if(this.stream.char==="\\"){this.stream.next(),s="escape";break}if(this.stream.char===n){this.stream.next(),s="finish";break}r+=this.stream.char,this.stream.next();break}case"escape":{if(this.stream.eof)throw new re("unexpected EOF",i);r+=this.stream.char,this.stream.next(),s="string";break}}return D(u.StringLiteral,i,{hasLeftSpacing:t,value:r})}readTemplate(t){const r=[];let n="",s=[],i="string",a=0;const o=this.stream.getPos();let l=o;for(this.stream.next();i!=="finish";)switch(i){case"string":{if(this.stream.eof)throw new re("unexpected EOF",o);if(this.stream.char==="\\"){this.stream.next(),i="escape";break}if(this.stream.char==="`"){this.stream.next(),n.length>0&&r.push(D(u.TemplateStringElement,l,{hasLeftSpacing:t,value:n})),i="finish";break}if(this.stream.char==="{"){this.stream.next(),n.length>0&&(r.push(D(u.TemplateStringElement,l,{hasLeftSpacing:t,value:n})),n=""),l=this.stream.getPos(),i="expr";break}n+=this.stream.char,this.stream.next();break}case"escape":{if(this.stream.eof)throw new re("unexpected EOF",o);n+=this.stream.char,this.stream.next(),i="string";break}case"expr":{if(this.stream.eof)throw new re("unexpected EOF",o);if(Un.includes(this.stream.char)){this.stream.next();continue}if(this.stream.char==="{"&&a++,this.stream.char==="}"){if(a===0){r.push(D(u.TemplateExprElement,l,{hasLeftSpacing:t,children:s})),l=this.stream.getPos(),s.push(D(u.EOF,l)),s=[],i="string",this.stream.next();break}a--}const f=this.readToken();s.push(f);break}}return D(u.Template,o,{hasLeftSpacing:t,children:r})}skipEmptyLines(){for(;!this.stream.eof;){if(Un.includes(this.stream.char)||Si.includes(this.stream.char)){this.stream.next();continue}if(this.stream.char==="/")if(this.stream.next(),!this.stream.eof&&this.stream.char==="*"){this.stream.next(),this.skipCommentRange();continue}else if(!this.stream.eof&&this.stream.char==="/"){this.stream.next(),this.skipCommentLine();continue}else{this.stream.prev();break}break}}skipCommentLine(){for(;!(this.stream.eof||this.stream.char===`
`);)this.stream.next()}skipCommentRange(){for(;!this.stream.eof;){if(this.stream.char==="*"){if(this.stream.next(),this.stream.char==="/"){this.stream.next();break}continue}this.stream.next()}}}function U(e,t,r,n){const s={type:e};for(const i of Object.keys(t))t[i]!==void 0&&(s[i]=t[i]);return s.loc={start:r,end:n},s}function Fc(e,t,r,n){return U("call",{target:U("identifier",{name:e},r,r),args:t},r,n)}class Mc{source;index;_token;constructor(t){this.source=t,this.index=0,this.load()}get eof(){return this.index>=this.source.length}getToken(){return this.eof?D(u.EOF,{line:-1,column:-1}):this._token}is(t){return this.getTokenKind()===t}getTokenValue(){return this.getToken().value}getTokenKind(){return this.getToken().kind}getPos(){return this.getToken().pos}next(){this.eof||this.index++,this.load()}lookahead(t){return this.index+t<this.source.length?this.source[this.index+t]:D(u.EOF,{line:-1,column:-1})}expect(t){if(!this.is(t))throw new re(`unexpected token: ${u[this.getTokenKind()]}`,this.getPos())}load(){this.eof?this._token=D(u.EOF,{line:-1,column:-1}):this._token=this.source[this.index]}}function me(e,t){return t?Wa(e,!0):Ts(e,0)}const qn=[{opKind:"postfix",kind:u.OpenParen,bp:20},{opKind:"postfix",kind:u.OpenBracket,bp:20},{opKind:"infix",kind:u.Dot,lbp:18,rbp:19},{opKind:"infix",kind:u.Hat,lbp:17,rbp:16},{opKind:"prefix",kind:u.Plus,bp:14},{opKind:"prefix",kind:u.Minus,bp:14},{opKind:"prefix",kind:u.Not,bp:14},{opKind:"infix",kind:u.Asterisk,lbp:12,rbp:13},{opKind:"infix",kind:u.Slash,lbp:12,rbp:13},{opKind:"infix",kind:u.Percent,lbp:12,rbp:13},{opKind:"infix",kind:u.Plus,lbp:10,rbp:11},{opKind:"infix",kind:u.Minus,lbp:10,rbp:11},{opKind:"infix",kind:u.Lt,lbp:8,rbp:9},{opKind:"infix",kind:u.LtEq,lbp:8,rbp:9},{opKind:"infix",kind:u.Gt,lbp:8,rbp:9},{opKind:"infix",kind:u.GtEq,lbp:8,rbp:9},{opKind:"infix",kind:u.Eq2,lbp:6,rbp:7},{opKind:"infix",kind:u.NotEq,lbp:6,rbp:7},{opKind:"infix",kind:u.And2,lbp:4,rbp:5},{opKind:"infix",kind:u.Or2,lbp:2,rbp:3}];function Oc(e,t){const r=e.getPos(),n=e.getTokenKind();e.next(),e.is(u.BackSlash)&&(e.next(),e.expect(u.NewLine),e.next());const s=Ts(e,t),i=s.loc.end;switch(n){case u.Plus:{if(s.type==="num")return U("num",{value:s.value},r,i);throw new re("currently, sign is only supported for number literal.",r)}case u.Minus:{if(s.type==="num")return U("num",{value:-1*s.value},r,i);throw new re("currently, sign is only supported for number literal.",r)}case u.Not:return U("not",{expr:s},r,i);default:throw new re(`unexpected token: ${u[n]}`,r)}}function $c(e,t,r){const n=e.getPos(),s=e.getTokenKind();if(e.next(),e.is(u.BackSlash)&&(e.next(),e.expect(u.NewLine),e.next()),s===u.Dot){e.expect(u.Identifier);const i=e.getTokenValue();return e.next(),U("prop",{target:t,name:i},n,e.getPos())}else{const i=Ts(e,r),a=e.getPos();switch(s){case u.Hat:return U("pow",{left:t,right:i},n,a);case u.Asterisk:return U("mul",{left:t,right:i},n,a);case u.Slash:return U("div",{left:t,right:i},n,a);case u.Percent:return U("rem",{left:t,right:i},n,a);case u.Plus:return U("add",{left:t,right:i},n,a);case u.Minus:return U("sub",{left:t,right:i},n,a);case u.Lt:return U("lt",{left:t,right:i},n,a);case u.LtEq:return U("lteq",{left:t,right:i},n,a);case u.Gt:return U("gt",{left:t,right:i},n,a);case u.GtEq:return U("gteq",{left:t,right:i},n,a);case u.Eq2:return U("eq",{left:t,right:i},n,a);case u.NotEq:return U("neq",{left:t,right:i},n,a);case u.And2:return U("and",{left:t,right:i},n,a);case u.Or2:return U("or",{left:t,right:i},n,a);default:throw new re(`unexpected token: ${u[s]}`,n)}}}function kc(e,t){const r=e.getPos(),n=e.getTokenKind();switch(n){case u.OpenParen:return Bc(e,t);case u.OpenBracket:{e.next();const s=me(e,!1);return e.expect(u.CloseBracket),e.next(),U("index",{target:t,index:s},r,e.getPos())}default:throw new re(`unexpected token: ${u[n]}`,r)}}function Wa(e,t){const r=e.getPos();switch(e.getTokenKind()){case u.IfKeyword:{if(t)break;return Ic(e)}case u.At:{if(t)break;return Nc(e)}case u.MatchKeyword:{if(t)break;return Rc(e)}case u.EvalKeyword:{if(t)break;return Tc(e)}case u.ExistsKeyword:{if(t)break;return Dc(e)}case u.Template:{const n=[];if(t)break;for(const[s,i]of e.getToken().children.entries())switch(i.kind){case u.TemplateStringElement:{const a=e.getToken().children[s+1]??e.lookahead(1);n.push(U("str",{value:i.value},i.pos,a.pos));break}case u.TemplateExprElement:{const a=new Mc(i.children),o=me(a,!1);a.expect(u.EOF),n.push(o);break}default:throw new re(`unexpected token: ${u[i.kind]}`,i.pos)}return e.next(),U("tmpl",{tmpl:n},r,e.getPos())}case u.StringLiteral:{const n=e.getTokenValue();return e.next(),U("str",{value:n},r,e.getPos())}case u.NumberLiteral:{const n=Number(e.getTokenValue());return e.next(),U("num",{value:n},r,e.getPos())}case u.TrueKeyword:case u.FalseKeyword:{const n=e.is(u.TrueKeyword);return e.next(),U("bool",{value:n},r,e.getPos())}case u.NullKeyword:return e.next(),U("null",{},r,e.getPos());case u.OpenBrace:return Lc(e,t);case u.OpenBracket:return jc(e,t);case u.Identifier:{if(t)break;return Ga(e)}case u.OpenParen:{e.next();const n=me(e,t);return e.expect(u.CloseParen),e.next(),n}}throw new re(`unexpected token: ${u[e.getTokenKind()]}`,r)}function Bc(e,t){const r=e.getPos(),n=[];for(e.expect(u.OpenParen),e.next(),e.is(u.NewLine)&&e.next();!e.is(u.CloseParen);)switch(n.push(me(e,!1)),e.getTokenKind()){case u.NewLine:{e.next();break}case u.Comma:{e.next(),e.is(u.NewLine)&&e.next();break}case u.CloseParen:break;default:throw new re("separator expected",e.getPos())}return e.expect(u.CloseParen),e.next(),U("call",{target:t,args:n},r,e.getPos())}function Ic(e){const t=e.getPos();e.expect(u.IfKeyword),e.next();const r=me(e,!1),n=gt(e);e.is(u.NewLine)&&[u.ElifKeyword,u.ElseKeyword].includes(e.lookahead(1).kind)&&e.next();const s=[];for(;e.is(u.ElifKeyword);){e.next();const a=me(e,!1),o=gt(e);e.is(u.NewLine)&&[u.ElifKeyword,u.ElseKeyword].includes(e.lookahead(1).kind)&&e.next(),s.push({cond:a,then:o})}let i;return e.is(u.ElseKeyword)&&(e.next(),i=gt(e)),U("if",{cond:r,then:n,elseif:s,else:i},t,e.getPos())}function Nc(e){const t=e.getPos();e.expect(u.At),e.next();const r=Ya(e);let n;e.is(u.Colon)&&(e.next(),n=Gt(e));const s=Dr(e);return U("fn",{params:r,retType:n,children:s},t,e.getPos())}function Rc(e){const t=e.getPos();e.expect(u.MatchKeyword),e.next();const r=me(e,!1);e.expect(u.OpenBrace),e.next(),e.is(u.NewLine)&&e.next();const n=[];let s;if(e.is(u.CaseKeyword)){n.push(Mi(e));let i=Wr(e);for(;e.is(u.CaseKeyword);){if(!i)throw new re("separator expected",e.getPos());n.push(Mi(e)),i=Wr(e)}if(e.is(u.DefaultKeyword)){if(!i)throw new re("separator expected",e.getPos());s=Oi(e),Wr(e)}}else e.is(u.DefaultKeyword)&&(s=Oi(e),Wr(e));return e.expect(u.CloseBrace),e.next(),U("match",{about:r,qs:n,default:s},t,e.getPos())}function Mi(e){e.expect(u.CaseKeyword),e.next();const t=me(e,!1);e.expect(u.Arrow),e.next();const r=gt(e);return{q:t,a:r}}function Oi(e){return e.expect(u.DefaultKeyword),e.next(),e.expect(u.Arrow),e.next(),gt(e)}function Tc(e){const t=e.getPos();e.expect(u.EvalKeyword),e.next();const r=Dr(e);return U("block",{statements:r},t,e.getPos())}function Dc(e){const t=e.getPos();e.expect(u.ExistsKeyword),e.next();const r=Ga(e);return U("exists",{identifier:r},t,e.getPos())}function Ga(e){const t=e.getPos(),r=[];for(;;){if(r.length>0)if(e.is(u.Colon)){if(e.getToken().hasLeftSpacing)throw new re("Cannot use spaces in a reference.",e.getPos());if(e.next(),e.getToken().hasLeftSpacing)throw new re("Cannot use spaces in a reference.",e.getPos())}else break;e.expect(u.Identifier),r.push(e.getTokenValue()),e.next()}return U("identifier",{name:r.join(":")},t,e.getPos())}function Lc(e,t){const r=e.getPos();for(e.expect(u.OpenBrace),e.next();e.is(u.NewLine);)e.next();const n=new Map;for(;!e.is(u.CloseBrace);){e.expect(u.Identifier);const s=e.getTokenValue();e.next(),e.expect(u.Colon),e.next();const i=me(e,t);switch(n.set(s,i),e.getTokenKind()){case u.NewLine:case u.Comma:{for(e.next();e.is(u.NewLine);)e.next();break}case u.CloseBrace:break;default:throw new re("separator expected",e.getPos())}}return e.expect(u.CloseBrace),e.next(),U("obj",{value:n},r,e.getPos())}function jc(e,t){const r=e.getPos();for(e.expect(u.OpenBracket),e.next();e.is(u.NewLine);)e.next();const n=[];for(;!e.is(u.CloseBracket);)switch(n.push(me(e,t)),e.getTokenKind()){case u.NewLine:case u.Comma:{for(e.next();e.is(u.NewLine);)e.next();break}case u.CloseBracket:break;default:throw new re("separator expected",e.getPos())}return e.expect(u.CloseBracket),e.next(),U("arr",{value:n},r,e.getPos())}function Ts(e,t){let r;const n=e.getTokenKind(),s=qn.find(i=>i.opKind==="prefix"&&i.kind===n);for(s!=null?r=Oc(e,s.bp):r=Wa(e,!1);;){e.is(u.BackSlash)&&(e.next(),e.expect(u.NewLine),e.next());const i=e.getTokenKind(),a=qn.find(l=>l.opKind==="postfix"&&l.kind===i);if(a!=null){if(a.bp<t)break;if(!([u.OpenBracket,u.OpenParen].includes(i)&&e.getToken().hasLeftSpacing)){r=kc(e,r);continue}}const o=qn.find(l=>l.opKind==="infix"&&l.kind===i);if(o!=null){if(o.lbp<t)break;r=$c(e,r,o.rbp);continue}break}return r}function Ds(e){if(e.is(u.Identifier)){const t=e.getPos(),r=e.getTokenValue();return e.next(),U("identifier",{name:r},t,e.getPos())}else return me(e,!1)}function Ya(e){const t=[];for(e.expect(u.OpenParen),e.next(),e.is(u.NewLine)&&e.next();!e.is(u.CloseParen);){const r=Ds(e);let n=!1,s;e.is(u.Question)?(e.next(),n=!0):e.is(u.Eq)&&(e.next(),s=me(e,!1));let i;switch(e.is(u.Colon)&&(e.next(),i=Gt(e)),t.push({dest:r,optional:n,default:s,argType:i}),e.getTokenKind()){case u.NewLine:{e.next();break}case u.Comma:{e.next(),e.is(u.NewLine)&&e.next();break}case u.CloseParen:break;default:throw new re("separator expected",e.getPos())}}return e.expect(u.CloseParen),e.next(),t}function Dr(e){for(e.expect(u.OpenBrace),e.next();e.is(u.NewLine);)e.next();const t=[];for(;!e.is(u.CloseBrace);)switch(t.push(An(e)),e.getTokenKind()){case u.NewLine:case u.SemiColon:{for(;e.is(u.NewLine)||e.is(u.SemiColon);)e.next();break}case u.CloseBrace:break;default:throw new re("Multiple statements cannot be placed on a single line.",e.getPos())}return e.expect(u.CloseBrace),e.next(),t}function Gt(e){return e.is(u.At)?Uc(e):qc(e)}function Wr(e){switch(e.getTokenKind()){case u.NewLine:return e.next(),!0;case u.Comma:return e.next(),e.is(u.NewLine)&&e.next(),!0;default:return!1}}function Uc(e){const t=e.getPos();e.expect(u.At),e.next(),e.expect(u.OpenParen),e.next();const r=[];for(;!e.is(u.CloseParen);){if(r.length>0)switch(e.getTokenKind()){case u.Comma:{e.next();break}default:throw new re("separator expected",e.getPos())}const s=Gt(e);r.push(s)}e.expect(u.CloseParen),e.next(),e.expect(u.Arrow),e.next();const n=Gt(e);return U("fnTypeSource",{params:r,result:n},t,e.getPos())}function qc(e){const t=e.getPos();let r;e.is(u.Identifier)?(r=e.getTokenValue(),e.next()):(e.expect(u.NullKeyword),e.next(),r="null");let n;return e.is(u.Lt)&&(e.next(),n=Gt(e),e.expect(u.Gt),e.next()),U("namedTypeSource",{name:r,inner:n},t,e.getPos())}function An(e){const t=e.getPos();switch(e.getTokenKind()){case u.VarKeyword:case u.LetKeyword:return Ja(e);case u.At:{if(e.lookahead(1).kind===u.Identifier)return Za(e);break}case u.Out:return Kc(e);case u.ReturnKeyword:return Wc(e);case u.OpenSharpBracket:return Gc(e);case u.EachKeyword:return Vc(e);case u.ForKeyword:return zc(e);case u.LoopKeyword:return Jc(e);case u.DoKeyword:return Zc(e);case u.WhileKeyword:return Xc(e);case u.BreakKeyword:return e.next(),U("break",{},t,e.getPos());case u.ContinueKeyword:return e.next(),U("continue",{},t,e.getPos())}const r=me(e,!1),n=Qc(e,r);return n||r}function Hc(e){switch(e.getTokenKind()){case u.VarKeyword:case u.LetKeyword:return Ja(e);case u.At:return Za(e);default:throw new re(`unexpected token: ${u[e.getTokenKind()]}`,e.getPos())}}function gt(e){if(e.is(u.OpenBrace)){const t=e.getPos(),r=Dr(e);return U("block",{statements:r},t,e.getPos())}else return An(e)}function Ja(e){const t=e.getPos();let r;switch(e.getTokenKind()){case u.LetKeyword:{r=!1;break}case u.VarKeyword:{r=!0;break}default:throw new re(`unexpected token: ${u[e.getTokenKind()]}`,e.getPos())}e.next();const n=Ds(e);let s;e.is(u.Colon)&&(e.next(),s=Gt(e)),e.expect(u.Eq),e.next(),e.is(u.NewLine)&&e.next();const i=me(e,!1);return U("def",{dest:n,varType:s,expr:i,mut:r,attr:[]},t,e.getPos())}function Za(e){const t=e.getPos();e.expect(u.At),e.next(),e.expect(u.Identifier);const r=e.getPos(),n=e.getTokenValue();e.next();const s=U("identifier",{name:n},r,e.getPos()),i=Ya(e);let a;e.is(u.Colon)&&(e.next(),a=Gt(e));const o=Dr(e),l=e.getPos();return U("def",{dest:s,expr:U("fn",{params:i,retType:a,children:o},t,l),mut:!1,attr:[]},t,l)}function Kc(e){const t=e.getPos();e.expect(u.Out),e.next();const r=me(e,!1);return Fc("print",[r],t,e.getPos())}function Vc(e){const t=e.getPos();let r=!1;e.expect(u.EachKeyword),e.next(),e.is(u.OpenParen)&&(r=!0,e.next()),e.expect(u.LetKeyword),e.next();const n=Ds(e);if(e.is(u.Comma))e.next();else throw new re("separator expected",e.getPos());const s=me(e,!1);r&&(e.expect(u.CloseParen),e.next());const i=gt(e);return U("each",{var:n,items:s,for:i},t,e.getPos())}function zc(e){const t=e.getPos();let r=!1;if(e.expect(u.ForKeyword),e.next(),e.is(u.OpenParen)&&(r=!0,e.next()),e.is(u.LetKeyword)){e.next();const n=e.getPos();e.expect(u.Identifier);const s=e.getTokenValue();e.next();let i;if(e.is(u.Eq)?(e.next(),i=me(e,!1)):i=U("num",{value:0},n,n),e.is(u.Comma))e.next();else throw new re("separator expected",e.getPos());const a=me(e,!1);r&&(e.expect(u.CloseParen),e.next());const o=gt(e);return U("for",{var:s,from:i,to:a,for:o},t,e.getPos())}else{const n=me(e,!1);r&&(e.expect(u.CloseParen),e.next());const s=gt(e);return U("for",{times:n,for:s},t,e.getPos())}}function Wc(e){const t=e.getPos();e.expect(u.ReturnKeyword),e.next();const r=me(e,!1);return U("return",{expr:r},t,e.getPos())}function Gc(e){const t=[];for(;e.is(u.OpenSharpBracket);)t.push(Yc(e)),e.expect(u.NewLine),e.next();const r=An(e);if(r.type!=="def")throw new re("invalid attribute.",r.loc.start);return r.attr!=null?r.attr.push(...t):r.attr=t,r}function Yc(e){const t=e.getPos();e.expect(u.OpenSharpBracket),e.next(),e.expect(u.Identifier);const r=e.getTokenValue();e.next();let n;if(!e.is(u.CloseBracket))n=me(e,!0);else{const s=e.getPos();n=U("bool",{value:!0},s,s)}return e.expect(u.CloseBracket),e.next(),U("attr",{name:r,value:n},t,e.getPos())}function Jc(e){const t=e.getPos();e.expect(u.LoopKeyword),e.next();const r=Dr(e);return U("loop",{statements:r},t,e.getPos())}function Zc(e){const t=e.getPos();e.expect(u.DoKeyword),e.next();const r=gt(e),n=e.getPos();e.expect(u.WhileKeyword),e.next();const s=me(e,!1),i=e.getPos();return U("loop",{statements:[r,U("if",{cond:U("not",{expr:s},n,i),then:U("break",{},i,i),elseif:[]},n,i)]},t,i)}function Xc(e){const t=e.getPos();e.expect(u.WhileKeyword),e.next();const r=me(e,!1),n=e.getPos(),s=gt(e);return U("loop",{statements:[U("if",{cond:U("not",{expr:r},t,n),then:U("break",{},n,n),elseif:[]},t,n),s]},t,e.getPos())}function Qc(e,t){const r=e.getPos();switch(e.getTokenKind()){case u.Eq:{e.next();const n=me(e,!1);return U("assign",{dest:t,expr:n},r,e.getPos())}case u.PlusEq:{e.next();const n=me(e,!1);return U("addAssign",{dest:t,expr:n},r,e.getPos())}case u.MinusEq:{e.next();const n=me(e,!1);return U("subAssign",{dest:t,expr:n},r,e.getPos())}default:return}}function ef(e){const t=[];for(;e.is(u.NewLine);)e.next();for(;!e.is(u.EOF);){switch(e.getTokenKind()){case u.Colon2:{t.push(Xa(e));break}case u.Sharp3:{t.push(tf(e));break}default:{t.push(An(e));break}}switch(e.getTokenKind()){case u.NewLine:case u.SemiColon:{for(;e.is(u.NewLine)||e.is(u.SemiColon);)e.next();break}case u.EOF:break;default:throw new re("Multiple statements cannot be placed on a single line.",e.getPos())}}return t}function Xa(e){const t=e.getPos();e.expect(u.Colon2),e.next(),e.expect(u.Identifier);const r=e.getTokenValue();e.next();const n=[];for(e.expect(u.OpenBrace),e.next();e.is(u.NewLine);)e.next();for(;!e.is(u.CloseBrace);){switch(e.getTokenKind()){case u.VarKeyword:case u.LetKeyword:case u.At:{n.push(Hc(e));break}case u.Colon2:{n.push(Xa(e));break}}switch(e.getTokenKind()){case u.NewLine:case u.SemiColon:{for(;e.is(u.NewLine)||e.is(u.SemiColon);)e.next();break}case u.CloseBrace:break;default:throw new re("Multiple statements cannot be placed on a single line.",e.getPos())}}return e.expect(u.CloseBrace),e.next(),U("ns",{name:r,members:n},t,e.getPos())}function tf(e){const t=e.getPos();e.expect(u.Sharp3),e.next();let r=null;e.is(u.Identifier)&&(r=e.getTokenValue(),e.next());const n=me(e,!0);return U("meta",{name:r,value:n},t,n.loc.end)}function Q(e,t){const r=t(e);switch(r.type){case"def":{r.expr=Q(r.expr,t);break}case"return":{r.expr=Q(r.expr,t);break}case"each":{r.items=Q(r.items,t),r.for=Q(r.for,t);break}case"for":{r.from!=null&&(r.from=Q(r.from,t)),r.to!=null&&(r.to=Q(r.to,t)),r.times!=null&&(r.times=Q(r.times,t)),r.for=Q(r.for,t);break}case"loop":{for(let n=0;n<r.statements.length;n++)r.statements[n]=Q(r.statements[n],t);break}case"addAssign":case"subAssign":case"assign":{r.expr=Q(r.expr,t),r.dest=Q(r.dest,t);break}case"not":{r.expr=Q(r.expr,t);break}case"if":{r.cond=Q(r.cond,t),r.then=Q(r.then,t);for(const n of r.elseif)n.cond=Q(n.cond,t),n.then=Q(n.then,t);r.else!=null&&(r.else=Q(r.else,t));break}case"fn":{for(const n of r.params)n.default&&(n.default=Q(n.default,t));for(let n=0;n<r.children.length;n++)r.children[n]=Q(r.children[n],t);break}case"match":{r.about=Q(r.about,t);for(const n of r.qs)n.q=Q(n.q,t),n.a=Q(n.a,t);r.default!=null&&(r.default=Q(r.default,t));break}case"block":{for(let n=0;n<r.statements.length;n++)r.statements[n]=Q(r.statements[n],t);break}case"exists":{r.identifier=Q(r.identifier,t);break}case"tmpl":{for(let n=0;n<r.tmpl.length;n++){const s=r.tmpl[n];typeof s!="string"&&(r.tmpl[n]=Q(s,t))}break}case"obj":{for(const n of r.value)r.value.set(n[0],Q(n[1],t));break}case"arr":{for(let n=0;n<r.value.length;n++)r.value[n]=Q(r.value[n],t);break}case"call":{r.target=Q(r.target,t);for(let n=0;n<r.args.length;n++)r.args[n]=Q(r.args[n],t);break}case"index":{r.target=Q(r.target,t),r.index=Q(r.index,t);break}case"prop":{r.target=Q(r.target,t);break}case"ns":{for(let n=0;n<r.members.length;n++)r.members[n]=Q(r.members[n],t);break}case"pow":case"mul":case"div":case"rem":case"add":case"sub":case"lt":case"lteq":case"gt":case"gteq":case"eq":case"neq":case"and":case"or":{r.left=Q(r.left,t),r.right=Q(r.right,t);break}}return r}const br=["as","async","attr","attribute","await","catch","class","component","constructor","dictionary","enum","export","finally","fn","hash","in","interface","out","private","public","ref","static","struct","table","this","throw","trait","try","undefined","use","using","when","yield","import","is","meta","module","namespace","new"];function Ht(e,t){throw new re(`Reserved word "${e}" cannot be used as variable name.`,t.start)}function Hn(e){return Q(e,t=>{switch(t.type){case"null":{Ht(t.type,t.loc);break}case"bool":{Ht(`${t.value}`,t.loc);break}case"identifier":{br.includes(t.name)&&Ht(t.name,t.loc);break}}return t})}function rf(e){switch(e.type){case"def":{Hn(e.dest);break}case"ns":case"attr":case"identifier":case"prop":{br.includes(e.name)&&Ht(e.name,e.loc);break}case"meta":{e.name!=null&&br.includes(e.name)&&Ht(e.name,e.loc);break}case"each":{Hn(e.var);break}case"for":{e.var!=null&&br.includes(e.var)&&Ht(e.var,e.loc);break}case"fn":{for(const t of e.params)Hn(t.dest);break}case"obj":{for(const t of e.value.keys())br.includes(t)&&Ht(t,e.loc);break}}return e}function nf(e){for(const t of e)Q(t,rf);return e}function $i(e){return{type:"simple",name:e}}function sf(e,t){return{type:"generic",name:e,inners:t}}function af(e,t){return{type:"fn",params:e,result:t}}function tn(e){switch(e.type){case"namedTypeSource":if(e.inner){const t=tn(e.inner);return`${e.name}<${t}>`}else return e.name;case"fnTypeSource":{const t=e.params.map(n=>tn(n)).join(", "),r=tn(e.result);return`@(${t}) { ${r} }`}}}function dr(e){if(e.type==="namedTypeSource"){switch(e.name){case"null":case"bool":case"num":case"str":case"any":case"void":{if(e.inner==null)return $i(e.name);break}case"arr":case"obj":{let t;return e.inner!=null?t=dr(e.inner):t=$i("any"),sf(e.name,[t])}}throw new re(`Unknown type: '${tn(e)}'`,e.loc.start)}else{const t=e.params.map(r=>dr(r));return af(t,dr(e.result))}}function of(e){switch(e.type){case"def":{e.varType!=null&&dr(e.varType);break}case"fn":{for(const t of e.params)t.argType!=null&&dr(t.argType);e.retType!=null&&dr(e.retType);break}}return e}function lf(e){for(const t of e)Q(t,of);return e}class sr{static instance;plugins;constructor(){this.plugins={validate:[nf,lf],transform:[]}}static parse(t){return sr.instance==null&&(sr.instance=new sr),sr.instance.parse(t)}addPlugin(t,r){switch(t){case"validate":this.plugins.validate.push(r);break;case"transform":this.plugins.transform.push(r);break;default:throw new Error("unknown plugin type")}}parse(t){let r;const n=new Sc(t);r=ef(n);for(const s of this.plugins.validate)r=s(r);for(const s of this.plugins.transform)r=s(r);return r}}function Fr(){return Fr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fr.apply(this,arguments)}var uf=13,cf=9,ff=8,hf=89,Gr=90,pf=77,ki=57,Bi=219,Ii=222,Ni=192,df=27,Ri=100,gf=3e3,mf=typeof window<"u"&&navigator&&/Win/i.test(navigator.platform),Kn=typeof window<"u"&&navigator&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),vf=Yo({props:{lineNumbers:{type:Boolean,default:!1},autoStyleLineNumbers:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},modelValue:{type:String,default:""},highlight:{type:Function,required:!0},tabSize:{type:Number,default:2},insertSpaces:{type:Boolean,default:!0},ignoreTabKey:{type:Boolean,default:!1},placeholder:{type:String,default:""}},data:function(){return{capture:!0,history:{stack:[],offset:-1},lineNumbersHeight:"20px",codeData:""}},watch:{modelValue:{immediate:!0,handler:function(t){t?this.codeData=t:this.codeData=""}},content:{immediate:!0,handler:function(){var t=this;this.lineNumbers&&this.$nextTick(function(){t.setLineNumbersHeight()})}},lineNumbers:function(){var t=this;this.$nextTick(function(){t.styleLineNumbers(),t.setLineNumbersHeight()})}},computed:{isEmpty:function(){return this.codeData.length===0},content:function(){var t=this.highlight(this.codeData)+"<br />";return t},lineNumbersCount:function(){var t=this.codeData.split(/\r\n|\n/).length;return t}},mounted:function(){this._recordCurrentState(),this.styleLineNumbers()},methods:{setLineNumbersHeight:function(){this.lineNumbersHeight=getComputedStyle(this.$refs.pre).height},styleLineNumbers:function(){if(!(!this.lineNumbers||!this.autoStyleLineNumbers)){var t=this.$refs.pre,r=this.$el.querySelector(".prism-editor__line-numbers"),n=window.getComputedStyle(t);this.$nextTick(function(){var s="border-top-left-radius",i="border-bottom-left-radius";if(r){r.style[s]=n[s],r.style[i]=n[i],t.style[s]="0",t.style[i]="0";var a=["background-color","margin-top","padding-top","font-family","font-size","line-height"];a.forEach(function(o){r.style[o]=n[o]}),r.style["margin-bottom"]="-"+n["padding-top"]}})}},_recordCurrentState:function(){var t=this.$refs.textarea;if(t){var r=t.value,n=t.selectionStart,s=t.selectionEnd;this._recordChange({value:r,selectionStart:n,selectionEnd:s})}},_getLines:function(t,r){return t.substring(0,r).split(`
`)},_applyEdits:function(t){var r=this.$refs.textarea,n=this.history.stack[this.history.offset];n&&r&&(this.history.stack[this.history.offset]=Fr({},n,{selectionStart:r.selectionStart,selectionEnd:r.selectionEnd})),this._recordChange(t),this._updateInput(t)},_recordChange:function(t,r){r===void 0&&(r=!1);var n=this.history,s=n.stack,i=n.offset;if(s.length&&i>-1){this.history.stack=s.slice(0,i+1);var a=this.history.stack.length;if(a>Ri){var o=a-Ri;this.history.stack=s.slice(o,a),this.history.offset=Math.max(this.history.offset-o,0)}}var l=Date.now();if(r){var f=this.history.stack[this.history.offset];if(f&&l-f.timestamp<gf){var c,h,y=/[^a-z0-9]([a-z0-9]+)$/i,b=(c=this._getLines(f.value,f.selectionStart).pop())===null||c===void 0?void 0:c.match(y),$=(h=this._getLines(t.value,t.selectionStart).pop())===null||h===void 0?void 0:h.match(y);if(b&&$&&$[1].startsWith(b[1])){this.history.stack[this.history.offset]=Fr({},t,{timestamp:l});return}}}this.history.stack.push(Fr({},t,{timestamp:l})),this.history.offset++},_updateInput:function(t){var r=this.$refs.textarea;r&&(r.value=t.value,r.selectionStart=t.selectionStart,r.selectionEnd=t.selectionEnd,this.$emit("update:modelValue",t.value))},handleChange:function(t){var r=t.target,n=r.value,s=r.selectionStart,i=r.selectionEnd;this._recordChange({value:n,selectionStart:s,selectionEnd:i},!0),this.$emit("update:modelValue",n)},_undoEdit:function(){var t=this.history,r=t.stack,n=t.offset,s=r[n-1];s&&(this._updateInput(s),this.history.offset=Math.max(n-1,0))},_redoEdit:function(){var t=this.history,r=t.stack,n=t.offset,s=r[n+1];s&&(this._updateInput(s),this.history.offset=Math.min(n+1,r.length-1))},handleKeyDown:function(t){var r=this.tabSize,n=this.insertSpaces,s=this.ignoreTabKey;if(this.$emit("keydown",t),!t.defaultPrevented){t.keyCode===df&&(t.target.blur(),this.$emit("blur",t));var i=t.target,a=i.value,o=i.selectionStart,l=i.selectionEnd,f=(n?" ":"	").repeat(r);if(t.keyCode===cf&&!s&&this.capture)if(t.preventDefault(),t.shiftKey){var c=this._getLines(a,o),h=c.length-1,y=this._getLines(a,l).length-1,b=a.split(`
`).map(function(X,pe){return pe>=h&&pe<=y&&X.startsWith(f)?X.substring(f.length):X}).join(`
`);if(a!==b){var $=c[h];this._applyEdits({value:b,selectionStart:$.startsWith(f)?o-f.length:o,selectionEnd:l-(a.length-b.length)})}}else if(o!==l){var I=this._getLines(a,o),q=I.length-1,j=this._getLines(a,l).length-1,m=I[q];this._applyEdits({value:a.split(`
`).map(function(X,pe){return pe>=q&&pe<=j?f+X:X}).join(`
`),selectionStart:/\S/.test(m)?o+f.length:o,selectionEnd:l+f.length*(j-q+1)})}else{var p=o+f.length;this._applyEdits({value:a.substring(0,o)+f+a.substring(l),selectionStart:p,selectionEnd:p})}else if(t.keyCode===ff){var d=o!==l,v=a.substring(0,o);if(v.endsWith(f)&&!d){t.preventDefault();var x=o-f.length;this._applyEdits({value:a.substring(0,o-f.length)+a.substring(l),selectionStart:x,selectionEnd:x})}}else if(t.keyCode===uf){if(o===l){var E=this._getLines(a,o).pop(),M=E?.match(/^\s+/);if(M&&M[0]){t.preventDefault();var A=`
`+M[0],H=o+A.length;this._applyEdits({value:a.substring(0,o)+A+a.substring(l),selectionStart:H,selectionEnd:H})}}}else if(t.keyCode===ki||t.keyCode===Bi||t.keyCode===Ii||t.keyCode===Ni){var K;t.keyCode===ki&&t.shiftKey?K=["(",")"]:t.keyCode===Bi?t.shiftKey?K=["{","}"]:K=["[","]"]:t.keyCode===Ii?t.shiftKey?K=['"','"']:K=["'","'"]:t.keyCode===Ni&&!t.shiftKey&&(K=["`","`"]),o!==l&&K&&(t.preventDefault(),this._applyEdits({value:a.substring(0,o)+K[0]+a.substring(o,l)+K[1]+a.substring(l),selectionStart:o,selectionEnd:l+2}))}else(Kn?t.metaKey&&t.keyCode===Gr:t.ctrlKey&&t.keyCode===Gr)&&!t.shiftKey&&!t.altKey?(t.preventDefault(),this._undoEdit()):(Kn?t.metaKey&&t.keyCode===Gr&&t.shiftKey:mf?t.ctrlKey&&t.keyCode===hf:t.ctrlKey&&t.keyCode===Gr&&t.shiftKey)&&!t.altKey?(t.preventDefault(),this._redoEdit()):t.keyCode===pf&&t.ctrlKey&&(!Kn||t.shiftKey)&&(t.preventDefault(),this.capture=!this.capture)}}},render:function(){var t=this,r=Tt("div",{class:"prism-editor__line-width-calc",style:"height: 0px; visibility: hidden; pointer-events: none;"},"999"),n=Tt("div",{class:"prism-editor__line-numbers",style:{"min-height":this.lineNumbersHeight},"aria-hidden":"true"},[r,Array.from(Array(this.lineNumbersCount).keys()).map(function(o,l){return Tt("div",{class:"prism-editor__line-number token comment"},""+ ++l)})]),s=Tt("textarea",{ref:"textarea",onInput:this.handleChange,onKeydown:this.handleKeyDown,onClick:function(l){t.$emit("click",l)},onKeyup:function(l){t.$emit("keyup",l)},onFocus:function(l){t.$emit("focus",l)},onBlur:function(l){t.$emit("blur",l)},class:{"prism-editor__textarea":!0,"prism-editor__textarea--empty":this.isEmpty},spellCheck:"false",autocapitalize:"off",autocomplete:"off",autocorrect:"off","data-gramm":"false",placeholder:this.placeholder,"data-testid":"textarea",readonly:this.readonly,value:this.codeData}),i=Tt("pre",{ref:"pre",class:"prism-editor__editor","data-testid":"preview",innerHTML:this.content}),a=Tt("div",{class:"prism-editor__container"},[s,i]);return Tt("div",{class:"prism-editor-wrapper"},[this.lineNumbers&&n,a])}}),yf={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var r=function(n){var s=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,a={},o={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function m(p){return p instanceof l?new l(p.type,m(p.content),p.alias):Array.isArray(p)?p.map(m):p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(m){return Object.prototype.toString.call(m).slice(8,-1)},objId:function(m){return m.__id||Object.defineProperty(m,"__id",{value:++i}),m.__id},clone:function m(p,d){d=d||{};var v,x;switch(o.util.type(p)){case"Object":if(x=o.util.objId(p),d[x])return d[x];v={},d[x]=v;for(var E in p)p.hasOwnProperty(E)&&(v[E]=m(p[E],d));return v;case"Array":return x=o.util.objId(p),d[x]?d[x]:(v=[],d[x]=v,p.forEach(function(M,A){v[A]=m(M,d)}),v);default:return p}},getLanguage:function(m){for(;m;){var p=s.exec(m.className);if(p)return p[1].toLowerCase();m=m.parentElement}return"none"},setLanguage:function(m,p){m.className=m.className.replace(RegExp(s,"gi"),""),m.classList.add("language-"+p)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(v){var m=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(v.stack)||[])[1];if(m){var p=document.getElementsByTagName("script");for(var d in p)if(p[d].src==m)return p[d]}return null}},isActive:function(m,p,d){for(var v="no-"+p;m;){var x=m.classList;if(x.contains(p))return!0;if(x.contains(v))return!1;m=m.parentElement}return!!d}},languages:{plain:a,plaintext:a,text:a,txt:a,extend:function(m,p){var d=o.util.clone(o.languages[m]);for(var v in p)d[v]=p[v];return d},insertBefore:function(m,p,d,v){v=v||o.languages;var x=v[m],E={};for(var M in x)if(x.hasOwnProperty(M)){if(M==p)for(var A in d)d.hasOwnProperty(A)&&(E[A]=d[A]);d.hasOwnProperty(M)||(E[M]=x[M])}var H=v[m];return v[m]=E,o.languages.DFS(o.languages,function(K,X){X===H&&K!=m&&(this[K]=E)}),E},DFS:function m(p,d,v,x){x=x||{};var E=o.util.objId;for(var M in p)if(p.hasOwnProperty(M)){d.call(p,M,p[M],v||M);var A=p[M],H=o.util.type(A);H==="Object"&&!x[E(A)]?(x[E(A)]=!0,m(A,d,null,x)):H==="Array"&&!x[E(A)]&&(x[E(A)]=!0,m(A,d,M,x))}}},plugins:{},highlightAll:function(m,p){o.highlightAllUnder(document,m,p)},highlightAllUnder:function(m,p,d){var v={callback:d,container:m,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",v),v.elements=Array.prototype.slice.apply(v.container.querySelectorAll(v.selector)),o.hooks.run("before-all-elements-highlight",v);for(var x=0,E;E=v.elements[x++];)o.highlightElement(E,p===!0,v.callback)},highlightElement:function(m,p,d){var v=o.util.getLanguage(m),x=o.languages[v];o.util.setLanguage(m,v);var E=m.parentElement;E&&E.nodeName.toLowerCase()==="pre"&&o.util.setLanguage(E,v);var M=m.textContent,A={element:m,language:v,grammar:x,code:M};function H(X){A.highlightedCode=X,o.hooks.run("before-insert",A),A.element.innerHTML=A.highlightedCode,o.hooks.run("after-highlight",A),o.hooks.run("complete",A),d&&d.call(A.element)}if(o.hooks.run("before-sanity-check",A),E=A.element.parentElement,E&&E.nodeName.toLowerCase()==="pre"&&!E.hasAttribute("tabindex")&&E.setAttribute("tabindex","0"),!A.code){o.hooks.run("complete",A),d&&d.call(A.element);return}if(o.hooks.run("before-highlight",A),!A.grammar){H(o.util.encode(A.code));return}if(p&&n.Worker){var K=new Worker(o.filename);K.onmessage=function(X){H(X.data)},K.postMessage(JSON.stringify({language:A.language,code:A.code,immediateClose:!0}))}else H(o.highlight(A.code,A.grammar,A.language))},highlight:function(m,p,d){var v={code:m,grammar:p,language:d};if(o.hooks.run("before-tokenize",v),!v.grammar)throw new Error('The language "'+v.language+'" has no grammar.');return v.tokens=o.tokenize(v.code,v.grammar),o.hooks.run("after-tokenize",v),l.stringify(o.util.encode(v.tokens),v.language)},tokenize:function(m,p){var d=p.rest;if(d){for(var v in d)p[v]=d[v];delete p.rest}var x=new h;return y(x,x.head,m),c(m,x,p,x.head,0),$(x)},hooks:{all:{},add:function(m,p){var d=o.hooks.all;d[m]=d[m]||[],d[m].push(p)},run:function(m,p){var d=o.hooks.all[m];if(!(!d||!d.length))for(var v=0,x;x=d[v++];)x(p)}},Token:l};n.Prism=o;function l(m,p,d,v){this.type=m,this.content=p,this.alias=d,this.length=(v||"").length|0}l.stringify=function m(p,d){if(typeof p=="string")return p;if(Array.isArray(p)){var v="";return p.forEach(function(H){v+=m(H,d)}),v}var x={type:p.type,content:m(p.content,d),tag:"span",classes:["token",p.type],attributes:{},language:d},E=p.alias;E&&(Array.isArray(E)?Array.prototype.push.apply(x.classes,E):x.classes.push(E)),o.hooks.run("wrap",x);var M="";for(var A in x.attributes)M+=" "+A+'="'+(x.attributes[A]||"").replace(/"/g,"&quot;")+'"';return"<"+x.tag+' class="'+x.classes.join(" ")+'"'+M+">"+x.content+"</"+x.tag+">"};function f(m,p,d,v){m.lastIndex=p;var x=m.exec(d);if(x&&v&&x[1]){var E=x[1].length;x.index+=E,x[0]=x[0].slice(E)}return x}function c(m,p,d,v,x,E){for(var M in d)if(!(!d.hasOwnProperty(M)||!d[M])){var A=d[M];A=Array.isArray(A)?A:[A];for(var H=0;H<A.length;++H){if(E&&E.cause==M+","+H)return;var K=A[H],X=K.inside,pe=!!K.lookbehind,Ae=!!K.greedy,it=K.alias;if(Ae&&!K.pattern.global){var xe=K.pattern.toString().match(/[imsuy]*$/)[0];K.pattern=RegExp(K.pattern.source,xe+"g")}for(var ue=K.pattern||K,V=v.next,ce=x;V!==p.tail&&!(E&&ce>=E.reach);ce+=V.value.length,V=V.next){var Pe=V.value;if(p.length>m.length)return;if(!(Pe instanceof l)){var $e=1,se;if(Ae){if(se=f(ue,ce,m,pe),!se||se.index>=m.length)break;var Le=se.index,Xt=se.index+se[0].length,Ee=ce;for(Ee+=V.value.length;Le>=Ee;)V=V.next,Ee+=V.value.length;if(Ee-=V.value.length,ce=Ee,V.value instanceof l)continue;for(var ze=V;ze!==p.tail&&(Ee<Xt||typeof ze.value=="string");ze=ze.next)$e++,Ee+=ze.value.length;$e--,Pe=m.slice(ce,Ee),se.index-=ce}else if(se=f(ue,0,Pe,pe),!se)continue;var Le=se.index,He=se[0],at=Pe.slice(0,Le),St=Pe.slice(Le+He.length),We=ce+Pe.length;E&&We>E.reach&&(E.reach=We);var tt=V.prev;at&&(tt=y(p,tt,at),ce+=at.length),b(p,tt,$e);var Qt=new l(M,X?o.tokenize(He,X):He,it,He);if(V=y(p,tt,Qt),St&&y(p,V,St),$e>1){var g={cause:M+","+H,reach:We};c(m,p,d,V.prev,ce,g),E&&g.reach>E.reach&&(E.reach=g.reach)}}}}}}function h(){var m={value:null,prev:null,next:null},p={value:null,prev:m,next:null};m.next=p,this.head=m,this.tail=p,this.length=0}function y(m,p,d){var v=p.next,x={value:d,prev:p,next:v};return p.next=x,v.prev=x,m.length++,x}function b(m,p,d){for(var v=p.next,x=0;x<d&&v!==m.tail;x++)v=v.next;p.next=v,v.prev=p,m.length-=x}function $(m){for(var p=[],d=m.head.next;d!==m.tail;)p.push(d.value),d=d.next;return p}if(!n.document)return n.addEventListener&&(o.disableWorkerMessageHandler||n.addEventListener("message",function(m){var p=JSON.parse(m.data),d=p.language,v=p.code,x=p.immediateClose;n.postMessage(o.highlight(v,o.languages[d],d)),x&&n.close()},!1)),o;var I=o.util.currentScript();I&&(o.filename=I.src,I.hasAttribute("data-manual")&&(o.manual=!0));function q(){o.manual||o.highlightAll()}if(!o.manual){var j=document.readyState;j==="loading"||j==="interactive"&&I&&I.defer?document.addEventListener("DOMContentLoaded",q):window.requestAnimationFrame?window.requestAnimationFrame(q):window.setTimeout(q,16)}return o}(t);e.exports&&(e.exports=r),typeof et<"u"&&(et.Prism=r),r.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},r.languages.markup.tag.inside["attr-value"].inside.entity=r.languages.markup.entity,r.languages.markup.doctype.inside["internal-subset"].inside=r.languages.markup,r.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))}),Object.defineProperty(r.languages.markup.tag,"addInlined",{value:function(s,i){var a={};a["language-"+i]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:r.languages[i]},a.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:a}};o["language-"+i]={pattern:/[\s\S]+/,inside:r.languages[i]};var l={};l[s]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return s}),"i"),lookbehind:!0,greedy:!0,inside:o},r.languages.insertBefore("markup","cdata",l)}}),Object.defineProperty(r.languages.markup.tag,"addAttribute",{value:function(n,s){r.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[s,"language-"+s],inside:r.languages[s]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),r.languages.html=r.languages.markup,r.languages.mathml=r.languages.markup,r.languages.svg=r.languages.markup,r.languages.xml=r.languages.extend("markup",{}),r.languages.ssml=r.languages.xml,r.languages.atom=r.languages.xml,r.languages.rss=r.languages.xml,function(n){var s=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+s.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+s.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+s.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+s.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:s,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var i=n.languages.markup;i&&(i.tag.addInlined("style","css"),i.tag.addAttribute("style","css"))}(r),r.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},r.languages.javascript=r.languages.extend("clike",{"class-name":[r.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),r.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,r.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:r.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:r.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:r.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:r.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:r.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),r.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:r.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),r.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),r.languages.markup&&(r.languages.markup.tag.addInlined("script","javascript"),r.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),r.languages.js=r.languages.javascript,function(){if(typeof r>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var n="Loading…",s=function(I,q){return"✖ Error "+I+" while fetching file: "+q},i="✖ Error: File does not exist or is empty",a={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},o="data-src-status",l="loading",f="loaded",c="failed",h="pre[data-src]:not(["+o+'="'+f+'"]):not(['+o+'="'+l+'"])';function y(I,q,j){var m=new XMLHttpRequest;m.open("GET",I,!0),m.onreadystatechange=function(){m.readyState==4&&(m.status<400&&m.responseText?q(m.responseText):m.status>=400?j(s(m.status,m.statusText)):j(i))},m.send(null)}function b(I){var q=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(I||"");if(q){var j=Number(q[1]),m=q[2],p=q[3];return m?p?[j,Number(p)]:[j,void 0]:[j,j]}}r.hooks.add("before-highlightall",function(I){I.selector+=", "+h}),r.hooks.add("before-sanity-check",function(I){var q=I.element;if(q.matches(h)){I.code="",q.setAttribute(o,l);var j=q.appendChild(document.createElement("CODE"));j.textContent=n;var m=q.getAttribute("data-src"),p=I.language;if(p==="none"){var d=(/\.(\w+)$/.exec(m)||[,"none"])[1];p=a[d]||d}r.util.setLanguage(j,p),r.util.setLanguage(q,p);var v=r.plugins.autoloader;v&&v.loadLanguages(p),y(m,function(x){q.setAttribute(o,f);var E=b(q.getAttribute("data-range"));if(E){var M=x.split(/\r\n?|\n/g),A=E[0],H=E[1]==null?M.length:E[1];A<0&&(A+=M.length),A=Math.max(0,Math.min(A-1,M.length)),H<0&&(H+=M.length),H=Math.max(0,Math.min(H,M.length)),x=M.slice(A,H).join(`
`),q.hasAttribute("data-start")||q.setAttribute("data-start",String(A+1))}j.textContent=x,r.highlightElement(j)},function(x){q.setAttribute(o,c),j.textContent=x})}}),r.plugins.fileHighlight={highlight:function(q){for(var j=(q||document).querySelectorAll(h),m=0,p;p=j[m++];)r.highlightElement(p)}};var $=!1;r.fileHighlight=function(){$||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),$=!0),r.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(yf);var Qa={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var r=function(n){var s=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,a={},o={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function m(p){return p instanceof l?new l(p.type,m(p.content),p.alias):Array.isArray(p)?p.map(m):p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(m){return Object.prototype.toString.call(m).slice(8,-1)},objId:function(m){return m.__id||Object.defineProperty(m,"__id",{value:++i}),m.__id},clone:function m(p,d){d=d||{};var v,x;switch(o.util.type(p)){case"Object":if(x=o.util.objId(p),d[x])return d[x];v={},d[x]=v;for(var E in p)p.hasOwnProperty(E)&&(v[E]=m(p[E],d));return v;case"Array":return x=o.util.objId(p),d[x]?d[x]:(v=[],d[x]=v,p.forEach(function(M,A){v[A]=m(M,d)}),v);default:return p}},getLanguage:function(m){for(;m;){var p=s.exec(m.className);if(p)return p[1].toLowerCase();m=m.parentElement}return"none"},setLanguage:function(m,p){m.className=m.className.replace(RegExp(s,"gi"),""),m.classList.add("language-"+p)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(v){var m=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(v.stack)||[])[1];if(m){var p=document.getElementsByTagName("script");for(var d in p)if(p[d].src==m)return p[d]}return null}},isActive:function(m,p,d){for(var v="no-"+p;m;){var x=m.classList;if(x.contains(p))return!0;if(x.contains(v))return!1;m=m.parentElement}return!!d}},languages:{plain:a,plaintext:a,text:a,txt:a,extend:function(m,p){var d=o.util.clone(o.languages[m]);for(var v in p)d[v]=p[v];return d},insertBefore:function(m,p,d,v){v=v||o.languages;var x=v[m],E={};for(var M in x)if(x.hasOwnProperty(M)){if(M==p)for(var A in d)d.hasOwnProperty(A)&&(E[A]=d[A]);d.hasOwnProperty(M)||(E[M]=x[M])}var H=v[m];return v[m]=E,o.languages.DFS(o.languages,function(K,X){X===H&&K!=m&&(this[K]=E)}),E},DFS:function m(p,d,v,x){x=x||{};var E=o.util.objId;for(var M in p)if(p.hasOwnProperty(M)){d.call(p,M,p[M],v||M);var A=p[M],H=o.util.type(A);H==="Object"&&!x[E(A)]?(x[E(A)]=!0,m(A,d,null,x)):H==="Array"&&!x[E(A)]&&(x[E(A)]=!0,m(A,d,M,x))}}},plugins:{},highlightAll:function(m,p){o.highlightAllUnder(document,m,p)},highlightAllUnder:function(m,p,d){var v={callback:d,container:m,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",v),v.elements=Array.prototype.slice.apply(v.container.querySelectorAll(v.selector)),o.hooks.run("before-all-elements-highlight",v);for(var x=0,E;E=v.elements[x++];)o.highlightElement(E,p===!0,v.callback)},highlightElement:function(m,p,d){var v=o.util.getLanguage(m),x=o.languages[v];o.util.setLanguage(m,v);var E=m.parentElement;E&&E.nodeName.toLowerCase()==="pre"&&o.util.setLanguage(E,v);var M=m.textContent,A={element:m,language:v,grammar:x,code:M};function H(X){A.highlightedCode=X,o.hooks.run("before-insert",A),A.element.innerHTML=A.highlightedCode,o.hooks.run("after-highlight",A),o.hooks.run("complete",A),d&&d.call(A.element)}if(o.hooks.run("before-sanity-check",A),E=A.element.parentElement,E&&E.nodeName.toLowerCase()==="pre"&&!E.hasAttribute("tabindex")&&E.setAttribute("tabindex","0"),!A.code){o.hooks.run("complete",A),d&&d.call(A.element);return}if(o.hooks.run("before-highlight",A),!A.grammar){H(o.util.encode(A.code));return}if(p&&n.Worker){var K=new Worker(o.filename);K.onmessage=function(X){H(X.data)},K.postMessage(JSON.stringify({language:A.language,code:A.code,immediateClose:!0}))}else H(o.highlight(A.code,A.grammar,A.language))},highlight:function(m,p,d){var v={code:m,grammar:p,language:d};if(o.hooks.run("before-tokenize",v),!v.grammar)throw new Error('The language "'+v.language+'" has no grammar.');return v.tokens=o.tokenize(v.code,v.grammar),o.hooks.run("after-tokenize",v),l.stringify(o.util.encode(v.tokens),v.language)},tokenize:function(m,p){var d=p.rest;if(d){for(var v in d)p[v]=d[v];delete p.rest}var x=new h;return y(x,x.head,m),c(m,x,p,x.head,0),$(x)},hooks:{all:{},add:function(m,p){var d=o.hooks.all;d[m]=d[m]||[],d[m].push(p)},run:function(m,p){var d=o.hooks.all[m];if(!(!d||!d.length))for(var v=0,x;x=d[v++];)x(p)}},Token:l};n.Prism=o;function l(m,p,d,v){this.type=m,this.content=p,this.alias=d,this.length=(v||"").length|0}l.stringify=function m(p,d){if(typeof p=="string")return p;if(Array.isArray(p)){var v="";return p.forEach(function(H){v+=m(H,d)}),v}var x={type:p.type,content:m(p.content,d),tag:"span",classes:["token",p.type],attributes:{},language:d},E=p.alias;E&&(Array.isArray(E)?Array.prototype.push.apply(x.classes,E):x.classes.push(E)),o.hooks.run("wrap",x);var M="";for(var A in x.attributes)M+=" "+A+'="'+(x.attributes[A]||"").replace(/"/g,"&quot;")+'"';return"<"+x.tag+' class="'+x.classes.join(" ")+'"'+M+">"+x.content+"</"+x.tag+">"};function f(m,p,d,v){m.lastIndex=p;var x=m.exec(d);if(x&&v&&x[1]){var E=x[1].length;x.index+=E,x[0]=x[0].slice(E)}return x}function c(m,p,d,v,x,E){for(var M in d)if(!(!d.hasOwnProperty(M)||!d[M])){var A=d[M];A=Array.isArray(A)?A:[A];for(var H=0;H<A.length;++H){if(E&&E.cause==M+","+H)return;var K=A[H],X=K.inside,pe=!!K.lookbehind,Ae=!!K.greedy,it=K.alias;if(Ae&&!K.pattern.global){var xe=K.pattern.toString().match(/[imsuy]*$/)[0];K.pattern=RegExp(K.pattern.source,xe+"g")}for(var ue=K.pattern||K,V=v.next,ce=x;V!==p.tail&&!(E&&ce>=E.reach);ce+=V.value.length,V=V.next){var Pe=V.value;if(p.length>m.length)return;if(!(Pe instanceof l)){var $e=1,se;if(Ae){if(se=f(ue,ce,m,pe),!se||se.index>=m.length)break;var Le=se.index,Xt=se.index+se[0].length,Ee=ce;for(Ee+=V.value.length;Le>=Ee;)V=V.next,Ee+=V.value.length;if(Ee-=V.value.length,ce=Ee,V.value instanceof l)continue;for(var ze=V;ze!==p.tail&&(Ee<Xt||typeof ze.value=="string");ze=ze.next)$e++,Ee+=ze.value.length;$e--,Pe=m.slice(ce,Ee),se.index-=ce}else if(se=f(ue,0,Pe,pe),!se)continue;var Le=se.index,He=se[0],at=Pe.slice(0,Le),St=Pe.slice(Le+He.length),We=ce+Pe.length;E&&We>E.reach&&(E.reach=We);var tt=V.prev;at&&(tt=y(p,tt,at),ce+=at.length),b(p,tt,$e);var Qt=new l(M,X?o.tokenize(He,X):He,it,He);if(V=y(p,tt,Qt),St&&y(p,V,St),$e>1){var g={cause:M+","+H,reach:We};c(m,p,d,V.prev,ce,g),E&&g.reach>E.reach&&(E.reach=g.reach)}}}}}}function h(){var m={value:null,prev:null,next:null},p={value:null,prev:m,next:null};m.next=p,this.head=m,this.tail=p,this.length=0}function y(m,p,d){var v=p.next,x={value:d,prev:p,next:v};return p.next=x,v.prev=x,m.length++,x}function b(m,p,d){for(var v=p.next,x=0;x<d&&v!==m.tail;x++)v=v.next;p.next=v,v.prev=p,m.length-=x}function $(m){for(var p=[],d=m.head.next;d!==m.tail;)p.push(d.value),d=d.next;return p}if(!n.document)return n.addEventListener&&(o.disableWorkerMessageHandler||n.addEventListener("message",function(m){var p=JSON.parse(m.data),d=p.language,v=p.code,x=p.immediateClose;n.postMessage(o.highlight(v,o.languages[d],d)),x&&n.close()},!1)),o;var I=o.util.currentScript();I&&(o.filename=I.src,I.hasAttribute("data-manual")&&(o.manual=!0));function q(){o.manual||o.highlightAll()}if(!o.manual){var j=document.readyState;j==="loading"||j==="interactive"&&I&&I.defer?document.addEventListener("DOMContentLoaded",q):window.requestAnimationFrame?window.requestAnimationFrame(q):window.setTimeout(q,16)}return o}(t);e.exports&&(e.exports=r),typeof et<"u"&&(et.Prism=r)})(Qa);var Ti=Qa.exports;Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;const wf={id:"settings-body"},xf={class:"settings-item"},bf={class:"settings-item"},_f=["disabled"],us=_t(5),nr=_t("time"),pn=_t({irqRate:300,irqSleep:ja(()=>({time:us.value,requestIdleCallback:()=>new Promise(e=>requestIdleCallback(e))})[nr.value])}),Ef={__name:"Settings",emits:["exit"],setup(e,{emit:t}){const r=_t(null);return(n,s)=>(jt(),xr("div",{ref_key:"bg",ref:r,id:"settings-bg",onClick:s[4]||(s[4]=i=>i.target===r.value&&n.$emit("exit"))},[ee("div",wf,[ee("div",xf,[s[5]||(s[5]=ee("header",null,"IRQ Rate",-1)),qr(ee("input",{type:"number","onUpdate:modelValue":s[0]||(s[0]=i=>pn.value.irqRate=i)},null,512),[[mi,pn.value.irqRate]])]),ee("div",bf,[s[8]||(s[8]=ee("header",null,"IRQ Sleep Time",-1)),ee("div",null,[qr(ee("input",{type:"radio",value:"time","onUpdate:modelValue":s[1]||(s[1]=i=>nr.value=i)},null,512),[[vi,nr.value]]),s[6]||(s[6]=cr(" time(milliseconds) ")),qr(ee("input",{type:"number","onUpdate:modelValue":s[2]||(s[2]=i=>us.value=i),disabled:nr.value!=="time"},null,8,_f),[[mi,us.value]])]),ee("div",null,[qr(ee("input",{type:"radio",value:"requestIdleCallback","onUpdate:modelValue":s[3]||(s[3]=i=>nr.value=i)},null,512),[[vi,nr.value]]),s[7]||(s[7]=cr(" requestIdleCallback "))])])])],512))}},Cf={id:"root"},Af={id:"grid1"},Pf={id:"editor",class:"container"},Sf={key:0,class:"syntaxError"},Ff={id:"logs",class:"container"},Mf={class:"type"},Of={id:"grid2"},$f={id:"ast",class:"container"},kf={__name:"App",setup(e){const t=_t(window.localStorage.getItem("script")||'<: "Hello, AiScript!"'),r=_t(null),n=_t([]),s=_t(null),i=_t(!1);Zr(t,()=>{window.localStorage.setItem("script",t.value);try{r.value=sr.parse(t.value),s.value=null}catch(c){s.value=c.message,console.error(c.info);return}},{immediate:!0});const a=()=>{t.value=`for (let i, 100) {
  <: if (i % 15 == 0) "FizzBuzz"
    elif (i % 3 == 0) "Fizz"
    elif (i % 5 == 0) "Buzz"
    else i
}`};let o=null;const l=async()=>{n.value=[],o?.abort(),o=new Ce({},{in:c=>new Promise(h=>{const y=window.prompt(c);h(y)}),out:c=>{n.value.push({id:Math.random(),type:c.type,text:c.type==="str"||c.type==="num"?c.value:is(c),print:!0})},err:c=>{window.alert(c.toString())},log:(c,h)=>{switch(c){case"end":n.value.push({id:Math.random(),text:is(h.val,!0),print:!1});break}},irqRate:pn.value.irqRate,irqSleep:pn.value.irqSleep});try{await o.exec(r.value)}catch(c){console.error(c),window.alert("Internal Error: "+c)}},f=c=>Ti.highlight(c,Ti.languages.js,"javascript");return(c,h)=>(jt(),xr("div",Cf,[i.value?(jt(),Ra(Ef,{key:0,onExit:h[0]||(h[0]=y=>i.value=!1)})):ei("",!0),ee("h1",null,[cr("AiScript (v"+tr(Zn(qa))+") Playground",1),ee("button",{id:"show-settings-button",onClick:h[1]||(h[1]=y=>i.value=!0)},"Settings")]),ee("div",Af,[ee("div",Pf,[ee("header",null,[h[3]||(h[3]=cr("Input")),ee("div",{class:"actions"},[ee("button",{onClick:a},"FizzBuzz")])]),ee("div",null,[Ke(Zn(vf),{class:"code",modelValue:t.value,"onUpdate:modelValue":h[2]||(h[2]=y=>t.value=y),highlight:f,"line-numbers":!1},null,8,["modelValue"])]),ee("footer",null,[s.value?(jt(),xr("span",Sf,tr(s.value),1)):ei("",!0),ee("div",{class:"actions"},[ee("button",{onClick:l},"RUN")])])]),ee("div",Ff,[h[4]||(h[4]=ee("header",null,"Output",-1)),ee("div",null,[(jt(!0),xr(ht,null,ul(n.value,y=>(jt(),xr("div",{class:vn(["log",[{print:y.print},y.type]]),key:y.id},[ee("span",Mf,tr(y.type),1),cr(" "+tr(y.text),1)],2))),128))])])]),ee("div",Of,[ee("div",$f,[h[5]||(h[5]=ee("header",null,"AST",-1)),ee("div",null,[ee("pre",null,tr(JSON.stringify(r.value,(y,b)=>b instanceof Map?Object.fromEntries(b):b,"	")),1)])]),h[6]||(h[6]=ee("div",{id:"bin",class:"container"},[ee("header",null,"Bytecode"),ee("div")],-1)),h[7]||(h[7]=ee("div",{id:"debugger",class:"container"},[ee("header",null,"Debugger"),ee("div")],-1))])]))}};bu(kf).mount("#app");
