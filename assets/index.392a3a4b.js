const Ra=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}};Ra();function ts(e,t){const r=Object.create(null),n=e.split(",");for(let s=0;s<n.length;s++)r[n[s]]=!0;return t?s=>!!r[s.toLowerCase()]:s=>!!r[s]}const we={},Zt=[],st=()=>{},Da=()=>!1,La=/^on[^a-z]/,ln=e=>La.test(e),rs=e=>e.startsWith("onUpdate:"),$e=Object.assign,ns=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Ua=Object.prototype.hasOwnProperty,ae=(e,t)=>Ua.call(e,t),Z=Array.isArray,Jt=e=>Mr(e)==="[object Map]",Pi=e=>Mr(e)==="[object Set]",Ms=e=>Mr(e)==="[object Date]",G=e=>typeof e=="function",Ce=e=>typeof e=="string",xr=e=>typeof e=="symbol",ve=e=>e!==null&&typeof e=="object",Fi=e=>ve(e)&&G(e.then)&&G(e.catch),Mi=Object.prototype.toString,Mr=e=>Mi.call(e),ja=e=>Mr(e).slice(8,-1),ki=e=>Mr(e)==="[object Object]",ss=e=>Ce(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Kr=ts(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),un=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},qa=/-(\w)/g,nr=un(e=>e.replace(qa,(t,r)=>r?r.toUpperCase():"")),Ka=/\B([A-Z])/g,or=un(e=>e.replace(Ka,"-$1").toLowerCase()),$i=un(e=>e.charAt(0).toUpperCase()+e.slice(1)),xn=un(e=>e?`on${$i(e)}`:""),br=(e,t)=>!Object.is(e,t),Hr=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},Gr=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},In=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ks;const Nn=()=>ks||(ks=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function is(e){if(Z(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],s=Ce(n)?Va(n):is(n);if(s)for(const i in s)t[i]=s[i]}return t}else{if(Ce(e))return e;if(ve(e))return e}}const Ha=/;(?![^(]*\))/g,za=/:([^]+)/,Wa=/\/\*[^]*?\*\//g;function Va(e){const t={};return e.replace(Wa,"").split(Ha).forEach(r=>{if(r){const n=r.split(za);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function cn(e){let t="";if(Ce(e))t=e;else if(Z(e))for(let r=0;r<e.length;r++){const n=cn(e[r]);n&&(t+=n+" ")}else if(ve(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const Ya="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Za=ts(Ya);function Oi(e){return!!e||e===""}function Ja(e,t){if(e.length!==t.length)return!1;let r=!0;for(let n=0;r&&n<e.length;n++)r=Xr(e[n],t[n]);return r}function Xr(e,t){if(e===t)return!0;let r=Ms(e),n=Ms(t);if(r||n)return r&&n?e.getTime()===t.getTime():!1;if(r=xr(e),n=xr(t),r||n)return e===t;if(r=Z(e),n=Z(t),r||n)return r&&n?Ja(e,t):!1;if(r=ve(e),n=ve(t),r||n){if(!r||!n)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const a in e){const o=e.hasOwnProperty(a),l=t.hasOwnProperty(a);if(o&&!l||!o&&l||!Xr(e[a],t[a]))return!1}}return String(e)===String(t)}const fr=e=>Ce(e)?e:e==null?"":Z(e)||ve(e)&&(e.toString===Mi||!G(e.toString))?JSON.stringify(e,Bi,2):String(e),Bi=(e,t)=>t&&t.__v_isRef?Bi(e,t.value):Jt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,s])=>(r[`${n} =>`]=s,r),{})}:Pi(t)?{[`Set(${t.size})`]:[...t.values()]}:ve(t)&&!Z(t)&&!ki(t)?String(t):t;let et;class Ga{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=et,!t&&et&&(this.index=(et.scopes||(et.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=et;try{return et=this,t()}finally{et=r}}}on(){et=this}off(){et=this.parent}stop(t){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Xa(e,t=et){t&&t.active&&t.effects.push(e)}function Qa(){return et}const as=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Si=e=>(e.w&At)>0,Ii=e=>(e.n&At)>0,eo=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=At},to=e=>{const{deps:t}=e;if(t.length){let r=0;for(let n=0;n<t.length;n++){const s=t[n];Si(s)&&!Ii(s)?s.delete(e):t[r++]=s,s.w&=~At,s.n&=~At}t.length=r}},Tn=new WeakMap;let pr=0,At=1;const Rn=30;let tt;const Rt=Symbol(""),Dn=Symbol("");class os{constructor(t,r=null,n){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,Xa(this,n)}run(){if(!this.active)return this.fn();let t=tt,r=Et;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=tt,tt=this,Et=!0,At=1<<++pr,pr<=Rn?eo(this):$s(this),this.fn()}finally{pr<=Rn&&to(this),At=1<<--pr,tt=this.parent,Et=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){tt===this?this.deferStop=!0:this.active&&($s(this),this.onStop&&this.onStop(),this.active=!1)}}function $s(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let Et=!0;const Ni=[];function lr(){Ni.push(Et),Et=!1}function ur(){const e=Ni.pop();Et=e===void 0?!0:e}function Ke(e,t,r){if(Et&&tt){let n=Tn.get(e);n||Tn.set(e,n=new Map);let s=n.get(r);s||n.set(r,s=as()),Ti(s)}}function Ti(e,t){let r=!1;pr<=Rn?Ii(e)||(e.n|=At,r=!Si(e)):r=!e.has(tt),r&&(e.add(tt),tt.deps.push(e))}function vt(e,t,r,n,s,i){const a=Tn.get(e);if(!a)return;let o=[];if(t==="clear")o=[...a.values()];else if(r==="length"&&Z(e)){const l=Number(n);a.forEach((c,g)=>{(g==="length"||g>=l)&&o.push(c)})}else switch(r!==void 0&&o.push(a.get(r)),t){case"add":Z(e)?ss(r)&&o.push(a.get("length")):(o.push(a.get(Rt)),Jt(e)&&o.push(a.get(Dn)));break;case"delete":Z(e)||(o.push(a.get(Rt)),Jt(e)&&o.push(a.get(Dn)));break;case"set":Jt(e)&&o.push(a.get(Rt));break}if(o.length===1)o[0]&&Ln(o[0]);else{const l=[];for(const c of o)c&&l.push(...c);Ln(as(l))}}function Ln(e,t){const r=Z(e)?e:[...e];for(const n of r)n.computed&&Os(n);for(const n of r)n.computed||Os(n)}function Os(e,t){(e!==tt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const ro=ts("__proto__,__v_isRef,__isVue"),Ri=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(xr)),no=ls(),so=ls(!1,!0),io=ls(!0),Bs=ao();function ao(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=oe(this);for(let i=0,a=this.length;i<a;i++)Ke(n,"get",i+"");const s=n[t](...r);return s===-1||s===!1?n[t](...r.map(oe)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){lr();const n=oe(this)[t].apply(this,r);return ur(),n}}),e}function oo(e){const t=oe(this);return Ke(t,"has",e),t.hasOwnProperty(e)}function ls(e=!1,t=!1){return function(n,s,i){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&i===(e?t?Co:qi:t?ji:Ui).get(n))return n;const a=Z(n);if(!e){if(a&&ae(Bs,s))return Reflect.get(Bs,s,i);if(s==="hasOwnProperty")return oo}const o=Reflect.get(n,s,i);return(xr(s)?Ri.has(s):ro(s))||(e||Ke(n,"get",s),t)?o:De(o)?a&&ss(s)?o:o.value:ve(o)?e?Ki(o):fs(o):o}}const lo=Di(),uo=Di(!0);function Di(e=!1){return function(r,n,s,i){let a=r[n];if(sr(a)&&De(a)&&!De(s))return!1;if(!e&&(!Qr(s)&&!sr(s)&&(a=oe(a),s=oe(s)),!Z(r)&&De(a)&&!De(s)))return a.value=s,!0;const o=Z(r)&&ss(n)?Number(n)<r.length:ae(r,n),l=Reflect.set(r,n,s,i);return r===oe(i)&&(o?br(s,a)&&vt(r,"set",n,s):vt(r,"add",n,s)),l}}function co(e,t){const r=ae(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&r&&vt(e,"delete",t,void 0),n}function fo(e,t){const r=Reflect.has(e,t);return(!xr(t)||!Ri.has(t))&&Ke(e,"has",t),r}function ho(e){return Ke(e,"iterate",Z(e)?"length":Rt),Reflect.ownKeys(e)}const Li={get:no,set:lo,deleteProperty:co,has:fo,ownKeys:ho},po={get:io,set(e,t){return!0},deleteProperty(e,t){return!0}},go=$e({},Li,{get:so,set:uo}),us=e=>e,fn=e=>Reflect.getPrototypeOf(e);function $r(e,t,r=!1,n=!1){e=e.__v_raw;const s=oe(e),i=oe(t);r||(t!==i&&Ke(s,"get",t),Ke(s,"get",i));const{has:a}=fn(s),o=n?us:r?ps:_r;if(a.call(s,t))return o(e.get(t));if(a.call(s,i))return o(e.get(i));e!==s&&e.get(t)}function Or(e,t=!1){const r=this.__v_raw,n=oe(r),s=oe(e);return t||(e!==s&&Ke(n,"has",e),Ke(n,"has",s)),e===s?r.has(e):r.has(e)||r.has(s)}function Br(e,t=!1){return e=e.__v_raw,!t&&Ke(oe(e),"iterate",Rt),Reflect.get(e,"size",e)}function Ss(e){e=oe(e);const t=oe(this);return fn(t).has.call(t,e)||(t.add(e),vt(t,"add",e,e)),this}function Is(e,t){t=oe(t);const r=oe(this),{has:n,get:s}=fn(r);let i=n.call(r,e);i||(e=oe(e),i=n.call(r,e));const a=s.call(r,e);return r.set(e,t),i?br(t,a)&&vt(r,"set",e,t):vt(r,"add",e,t),this}function Ns(e){const t=oe(this),{has:r,get:n}=fn(t);let s=r.call(t,e);s||(e=oe(e),s=r.call(t,e)),n&&n.call(t,e);const i=t.delete(e);return s&&vt(t,"delete",e,void 0),i}function Ts(){const e=oe(this),t=e.size!==0,r=e.clear();return t&&vt(e,"clear",void 0,void 0),r}function Sr(e,t){return function(n,s){const i=this,a=i.__v_raw,o=oe(a),l=t?us:e?ps:_r;return!e&&Ke(o,"iterate",Rt),a.forEach((c,g)=>n.call(s,l(c),l(g),i))}}function Ir(e,t,r){return function(...n){const s=this.__v_raw,i=oe(s),a=Jt(i),o=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,c=s[e](...n),g=r?us:t?ps:_r;return!t&&Ke(i,"iterate",l?Dn:Rt),{next(){const{value:m,done:w}=c.next();return w?{value:m,done:w}:{value:o?[g(m[0]),g(m[1])]:g(m),done:w}},[Symbol.iterator](){return this}}}}function xt(e){return function(...t){return e==="delete"?!1:this}}function mo(){const e={get(i){return $r(this,i)},get size(){return Br(this)},has:Or,add:Ss,set:Is,delete:Ns,clear:Ts,forEach:Sr(!1,!1)},t={get(i){return $r(this,i,!1,!0)},get size(){return Br(this)},has:Or,add:Ss,set:Is,delete:Ns,clear:Ts,forEach:Sr(!1,!0)},r={get(i){return $r(this,i,!0)},get size(){return Br(this,!0)},has(i){return Or.call(this,i,!0)},add:xt("add"),set:xt("set"),delete:xt("delete"),clear:xt("clear"),forEach:Sr(!0,!1)},n={get(i){return $r(this,i,!0,!0)},get size(){return Br(this,!0)},has(i){return Or.call(this,i,!0)},add:xt("add"),set:xt("set"),delete:xt("delete"),clear:xt("clear"),forEach:Sr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Ir(i,!1,!1),r[i]=Ir(i,!0,!1),t[i]=Ir(i,!1,!0),n[i]=Ir(i,!0,!0)}),[e,r,t,n]}const[vo,yo,wo,xo]=mo();function cs(e,t){const r=t?e?xo:wo:e?yo:vo;return(n,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?n:Reflect.get(ae(r,s)&&s in n?r:n,s,i)}const bo={get:cs(!1,!1)},_o={get:cs(!1,!0)},Eo={get:cs(!0,!1)},Ui=new WeakMap,ji=new WeakMap,qi=new WeakMap,Co=new WeakMap;function Ao(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Po(e){return e.__v_skip||!Object.isExtensible(e)?0:Ao(ja(e))}function fs(e){return sr(e)?e:hs(e,!1,Li,bo,Ui)}function Fo(e){return hs(e,!1,go,_o,ji)}function Ki(e){return hs(e,!0,po,Eo,qi)}function hs(e,t,r,n,s){if(!ve(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const a=Po(e);if(a===0)return e;const o=new Proxy(e,a===2?n:r);return s.set(e,o),o}function Gt(e){return sr(e)?Gt(e.__v_raw):!!(e&&e.__v_isReactive)}function sr(e){return!!(e&&e.__v_isReadonly)}function Qr(e){return!!(e&&e.__v_isShallow)}function Hi(e){return Gt(e)||sr(e)}function oe(e){const t=e&&e.__v_raw;return t?oe(t):e}function zi(e){return Gr(e,"__v_skip",!0),e}const _r=e=>ve(e)?fs(e):e,ps=e=>ve(e)?Ki(e):e;function Wi(e){Et&&tt&&(e=oe(e),Ti(e.dep||(e.dep=as())))}function Vi(e,t){e=oe(e);const r=e.dep;r&&Ln(r)}function De(e){return!!(e&&e.__v_isRef===!0)}function gt(e){return Mo(e,!1)}function Mo(e,t){return De(e)?e:new ko(e,t)}class ko{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:oe(t),this._value=r?t:_r(t)}get value(){return Wi(this),this._value}set value(t){const r=this.__v_isShallow||Qr(t)||sr(t);t=r?t:oe(t),br(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:_r(t),Vi(this))}}function Un(e){return De(e)?e.value:e}const $o={get:(e,t,r)=>Un(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const s=e[t];return De(s)&&!De(r)?(s.value=r,!0):Reflect.set(e,t,r,n)}};function Yi(e){return Gt(e)?e:new Proxy(e,$o)}class Oo{constructor(t,r,n,s){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new os(t,()=>{this._dirty||(this._dirty=!0,Vi(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=n}get value(){const t=oe(this);return Wi(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Bo(e,t,r=!1){let n,s;const i=G(e);return i?(n=e,s=st):(n=e.get,s=e.set),new Oo(n,s,i||!s,r)}function Ct(e,t,r,n){let s;try{s=n?e(...n):e()}catch(i){hn(i,t,r)}return s}function it(e,t,r,n){if(G(e)){const i=Ct(e,t,r,n);return i&&Fi(i)&&i.catch(a=>{hn(a,t,r)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(it(e[i],t,r,n));return s}function hn(e,t,r,n=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const a=t.proxy,o=r;for(;i;){const c=i.ec;if(c){for(let g=0;g<c.length;g++)if(c[g](e,a,o)===!1)return}i=i.parent}const l=t.appContext.config.errorHandler;if(l){Ct(l,null,10,[e,a,o]);return}}So(e,r,s,n)}function So(e,t,r,n=!0){console.error(e)}let Er=!1,jn=!1;const Te=[];let ft=0;const Xt=[];let dt=null,$t=0;const Zi=Promise.resolve();let ds=null;function Io(e){const t=ds||Zi;return e?t.then(this?e.bind(this):e):t}function No(e){let t=ft+1,r=Te.length;for(;t<r;){const n=t+r>>>1;Cr(Te[n])<e?t=n+1:r=n}return t}function gs(e){(!Te.length||!Te.includes(e,Er&&e.allowRecurse?ft+1:ft))&&(e.id==null?Te.push(e):Te.splice(No(e.id),0,e),Ji())}function Ji(){!Er&&!jn&&(jn=!0,ds=Zi.then(Xi))}function To(e){const t=Te.indexOf(e);t>ft&&Te.splice(t,1)}function Ro(e){Z(e)?Xt.push(...e):(!dt||!dt.includes(e,e.allowRecurse?$t+1:$t))&&Xt.push(e),Ji()}function Rs(e,t=Er?ft+1:0){for(;t<Te.length;t++){const r=Te[t];r&&r.pre&&(Te.splice(t,1),t--,r())}}function Gi(e){if(Xt.length){const t=[...new Set(Xt)];if(Xt.length=0,dt){dt.push(...t);return}for(dt=t,dt.sort((r,n)=>Cr(r)-Cr(n)),$t=0;$t<dt.length;$t++)dt[$t]();dt=null,$t=0}}const Cr=e=>e.id==null?1/0:e.id,Do=(e,t)=>{const r=Cr(e)-Cr(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function Xi(e){jn=!1,Er=!0,Te.sort(Do);const t=st;try{for(ft=0;ft<Te.length;ft++){const r=Te[ft];r&&r.active!==!1&&Ct(r,null,14)}}finally{ft=0,Te.length=0,Gi(),Er=!1,ds=null,(Te.length||Xt.length)&&Xi()}}function Lo(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||we;let s=r;const i=t.startsWith("update:"),a=i&&t.slice(7);if(a&&a in n){const g=`${a==="modelValue"?"model":a}Modifiers`,{number:m,trim:w}=n[g]||we;w&&(s=r.map(_=>Ce(_)?_.trim():_)),m&&(s=r.map(In))}let o,l=n[o=xn(t)]||n[o=xn(nr(t))];!l&&i&&(l=n[o=xn(or(t))]),l&&it(l,e,6,s);const c=n[o+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,it(c,e,6,s)}}function Qi(e,t,r=!1){const n=t.emitsCache,s=n.get(e);if(s!==void 0)return s;const i=e.emits;let a={},o=!1;if(!G(e)){const l=c=>{const g=Qi(c,t,!0);g&&(o=!0,$e(a,g))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!o?(ve(e)&&n.set(e,null),null):(Z(i)?i.forEach(l=>a[l]=null):$e(a,i),ve(e)&&n.set(e,a),a)}function pn(e,t){return!e||!ln(t)?!1:(t=t.slice(2).replace(/Once$/,""),ae(e,t[0].toLowerCase()+t.slice(1))||ae(e,or(t))||ae(e,t))}let rt=null,ea=null;function en(e){const t=rt;return rt=e,ea=e&&e.type.__scopeId||null,t}function Uo(e,t=rt,r){if(!t||e._n)return e;const n=(...s)=>{n._d&&Vs(-1);const i=en(t);let a;try{a=e(...s)}finally{en(i),n._d&&Vs(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function bn(e){const{type:t,vnode:r,proxy:n,withProxy:s,props:i,propsOptions:[a],slots:o,attrs:l,emit:c,render:g,renderCache:m,data:w,setupState:_,ctx:I,inheritAttrs:N}=e;let U,z;const p=en(e);try{if(r.shapeFlag&4){const h=s||n;U=ct(g.call(h,h,m,i,_,w,I)),z=l}else{const h=t;U=ct(h.length>1?h(i,{attrs:l,slots:o,emit:c}):h(i,null)),z=t.props?l:jo(l)}}catch(h){yr.length=0,hn(h,e,1),U=qe(Ut)}let f=U;if(z&&N!==!1){const h=Object.keys(z),{shapeFlag:y}=f;h.length&&y&7&&(a&&h.some(rs)&&(z=qo(z,a)),f=ir(f,z))}return r.dirs&&(f=ir(f),f.dirs=f.dirs?f.dirs.concat(r.dirs):r.dirs),r.transition&&(f.transition=r.transition),U=f,en(p),U}const jo=e=>{let t;for(const r in e)(r==="class"||r==="style"||ln(r))&&((t||(t={}))[r]=e[r]);return t},qo=(e,t)=>{const r={};for(const n in e)(!rs(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function Ko(e,t,r){const{props:n,children:s,component:i}=e,{props:a,children:o,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?Ds(n,a,c):!!a;if(l&8){const g=t.dynamicProps;for(let m=0;m<g.length;m++){const w=g[m];if(a[w]!==n[w]&&!pn(c,w))return!0}}}else return(s||o)&&(!o||!o.$stable)?!0:n===a?!1:n?a?Ds(n,a,c):!0:!!a;return!1}function Ds(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(t[i]!==e[i]&&!pn(r,i))return!0}return!1}function Ho({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const zo=e=>e.__isSuspense;function Wo(e,t){t&&t.pendingBranch?Z(e)?t.effects.push(...e):t.effects.push(e):Ro(e)}const Nr={};function zr(e,t,r){return ta(e,t,r)}function ta(e,t,{immediate:r,deep:n,flush:s,onTrack:i,onTrigger:a}=we){var o;const l=Qa()===((o=Re)==null?void 0:o.scope)?Re:null;let c,g=!1,m=!1;if(De(e)?(c=()=>e.value,g=Qr(e)):Gt(e)?(c=()=>e,n=!0):Z(e)?(m=!0,g=e.some(h=>Gt(h)||Qr(h)),c=()=>e.map(h=>{if(De(h))return h.value;if(Gt(h))return Nt(h);if(G(h))return Ct(h,l,2)})):G(e)?t?c=()=>Ct(e,l,2):c=()=>{if(!(l&&l.isUnmounted))return w&&w(),it(e,l,3,[_])}:c=st,t&&n){const h=c;c=()=>Nt(h())}let w,_=h=>{w=p.onStop=()=>{Ct(h,l,4)}},I;if(Pr)if(_=st,t?r&&it(t,l,3,[c(),m?[]:void 0,_]):c(),s==="sync"){const h=Ul();I=h.__watcherHandles||(h.__watcherHandles=[])}else return st;let N=m?new Array(e.length).fill(Nr):Nr;const U=()=>{if(!!p.active)if(t){const h=p.run();(n||g||(m?h.some((y,x)=>br(y,N[x])):br(h,N)))&&(w&&w(),it(t,l,3,[h,N===Nr?void 0:m&&N[0]===Nr?[]:N,_]),N=h)}else p.run()};U.allowRecurse=!!t;let z;s==="sync"?z=U:s==="post"?z=()=>je(U,l&&l.suspense):(U.pre=!0,l&&(U.id=l.uid),z=()=>gs(U));const p=new os(c,z);t?r?U():N=p.run():s==="post"?je(p.run.bind(p),l&&l.suspense):p.run();const f=()=>{p.stop(),l&&l.scope&&ns(l.scope.effects,p)};return I&&I.push(f),f}function Vo(e,t,r){const n=this.proxy,s=Ce(e)?e.includes(".")?ra(n,e):()=>n[e]:e.bind(n,n);let i;G(t)?i=t:(i=t.handler,r=t);const a=Re;ar(this);const o=ta(s,i.bind(n),r);return a?ar(a):Dt(),o}function ra(e,t){const r=t.split(".");return()=>{let n=e;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}function Nt(e,t){if(!ve(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),De(e))Nt(e.value,t);else if(Z(e))for(let r=0;r<e.length;r++)Nt(e[r],t);else if(Pi(e)||Jt(e))e.forEach(r=>{Nt(r,t)});else if(ki(e))for(const r in e)Nt(e[r],t);return e}function Tr(e,t){const r=rt;if(r===null)return e;const n=vn(r)||r.proxy,s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,o,l,c=we]=t[i];a&&(G(a)&&(a={mounted:a,updated:a}),a.deep&&Nt(o),s.push({dir:a,instance:n,value:o,oldValue:void 0,arg:l,modifiers:c}))}return e}function Pt(e,t,r,n){const s=e.dirs,i=t&&t.dirs;for(let a=0;a<s.length;a++){const o=s[a];i&&(o.oldValue=i[a].value);let l=o.dir[n];l&&(lr(),it(l,r,8,[e.el,o,e,t]),ur())}}function Yo(e,t){return G(e)?(()=>$e({name:e.name},t,{setup:e}))():e}const Wr=e=>!!e.type.__asyncLoader,na=e=>e.type.__isKeepAlive;function Zo(e,t){sa(e,"a",t)}function Jo(e,t){sa(e,"da",t)}function sa(e,t,r=Re){const n=e.__wdc||(e.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(dn(t,n,r),r){let s=r.parent;for(;s&&s.parent;)na(s.parent.vnode)&&Go(n,t,r,s),s=s.parent}}function Go(e,t,r,n){const s=dn(t,e,n,!0);ia(()=>{ns(n[t],s)},r)}function dn(e,t,r=Re,n=!1){if(r){const s=r[e]||(r[e]=[]),i=t.__weh||(t.__weh=(...a)=>{if(r.isUnmounted)return;lr(),ar(r);const o=it(t,r,e,a);return Dt(),ur(),o});return n?s.unshift(i):s.push(i),i}}const wt=e=>(t,r=Re)=>(!Pr||e==="sp")&&dn(e,(...n)=>t(...n),r),Xo=wt("bm"),Qo=wt("m"),el=wt("bu"),tl=wt("u"),rl=wt("bum"),ia=wt("um"),nl=wt("sp"),sl=wt("rtg"),il=wt("rtc");function al(e,t=Re){dn("ec",e,t)}const ol=Symbol.for("v-ndc");function ll(e,t,r,n){let s;const i=r&&r[n];if(Z(e)||Ce(e)){s=new Array(e.length);for(let a=0,o=e.length;a<o;a++)s[a]=t(e[a],a,void 0,i&&i[a])}else if(typeof e=="number"){s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,i&&i[a])}else if(ve(e))if(e[Symbol.iterator])s=Array.from(e,(a,o)=>t(a,o,void 0,i&&i[o]));else{const a=Object.keys(e);s=new Array(a.length);for(let o=0,l=a.length;o<l;o++){const c=a[o];s[o]=t(e[c],c,o,i&&i[o])}}else s=[];return r&&(r[n]=s),s}const qn=e=>e?va(e)?vn(e)||e.proxy:qn(e.parent):null,vr=$e(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>qn(e.parent),$root:e=>qn(e.root),$emit:e=>e.emit,$options:e=>ms(e),$forceUpdate:e=>e.f||(e.f=()=>gs(e.update)),$nextTick:e=>e.n||(e.n=Io.bind(e.proxy)),$watch:e=>Vo.bind(e)}),_n=(e,t)=>e!==we&&!e.__isScriptSetup&&ae(e,t),ul={get({_:e},t){const{ctx:r,setupState:n,data:s,props:i,accessCache:a,type:o,appContext:l}=e;let c;if(t[0]!=="$"){const _=a[t];if(_!==void 0)switch(_){case 1:return n[t];case 2:return s[t];case 4:return r[t];case 3:return i[t]}else{if(_n(n,t))return a[t]=1,n[t];if(s!==we&&ae(s,t))return a[t]=2,s[t];if((c=e.propsOptions[0])&&ae(c,t))return a[t]=3,i[t];if(r!==we&&ae(r,t))return a[t]=4,r[t];Kn&&(a[t]=0)}}const g=vr[t];let m,w;if(g)return t==="$attrs"&&Ke(e,"get",t),g(e);if((m=o.__cssModules)&&(m=m[t]))return m;if(r!==we&&ae(r,t))return a[t]=4,r[t];if(w=l.config.globalProperties,ae(w,t))return w[t]},set({_:e},t,r){const{data:n,setupState:s,ctx:i}=e;return _n(s,t)?(s[t]=r,!0):n!==we&&ae(n,t)?(n[t]=r,!0):ae(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:s,propsOptions:i}},a){let o;return!!r[a]||e!==we&&ae(e,a)||_n(t,a)||(o=i[0])&&ae(o,a)||ae(n,a)||ae(vr,a)||ae(s.config.globalProperties,a)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:ae(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Ls(e){return Z(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let Kn=!0;function cl(e){const t=ms(e),r=e.proxy,n=e.ctx;Kn=!1,t.beforeCreate&&Us(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:a,watch:o,provide:l,inject:c,created:g,beforeMount:m,mounted:w,beforeUpdate:_,updated:I,activated:N,deactivated:U,beforeDestroy:z,beforeUnmount:p,destroyed:f,unmounted:h,render:y,renderTracked:x,renderTriggered:E,errorCaptured:$,serverPrefetch:A,expose:j,inheritAttrs:q,components:X,directives:pe,filters:Pe}=t;if(c&&fl(c,n,null),a)for(const ce in a){const K=a[ce];G(K)&&(n[ce]=K.bind(r))}if(s){const ce=s.call(r,r);ve(ce)&&(e.data=fs(ce))}if(Kn=!0,i)for(const ce in i){const K=i[ce],ue=G(K)?K.bind(r,r):G(K.get)?K.get.bind(r,r):st,Fe=!G(K)&&G(K.set)?K.set.bind(r):st,Be=wa({get:ue,set:Fe});Object.defineProperty(n,ce,{enumerable:!0,configurable:!0,get:()=>Be.value,set:ie=>Be.value=ie})}if(o)for(const ce in o)aa(o[ce],n,r,ce);if(l){const ce=G(l)?l.call(r):l;Reflect.ownKeys(ce).forEach(K=>{vl(K,ce[K])})}g&&Us(g,e,"c");function ye(ce,K){Z(K)?K.forEach(ue=>ce(ue.bind(r))):K&&ce(K.bind(r))}if(ye(Xo,m),ye(Qo,w),ye(el,_),ye(tl,I),ye(Zo,N),ye(Jo,U),ye(al,$),ye(il,x),ye(sl,E),ye(rl,p),ye(ia,h),ye(nl,A),Z(j))if(j.length){const ce=e.exposed||(e.exposed={});j.forEach(K=>{Object.defineProperty(ce,K,{get:()=>r[K],set:ue=>r[K]=ue})})}else e.exposed||(e.exposed={});y&&e.render===st&&(e.render=y),q!=null&&(e.inheritAttrs=q),X&&(e.components=X),pe&&(e.directives=pe)}function fl(e,t,r=st){Z(e)&&(e=Hn(e));for(const n in e){const s=e[n];let i;ve(s)?"default"in s?i=Vr(s.from||n,s.default,!0):i=Vr(s.from||n):i=Vr(s),De(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):t[n]=i}}function Us(e,t,r){it(Z(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function aa(e,t,r,n){const s=n.includes(".")?ra(r,n):()=>r[n];if(Ce(e)){const i=t[e];G(i)&&zr(s,i)}else if(G(e))zr(s,e.bind(r));else if(ve(e))if(Z(e))e.forEach(i=>aa(i,t,r,n));else{const i=G(e.handler)?e.handler.bind(r):t[e.handler];G(i)&&zr(s,i,e)}}function ms(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,o=i.get(t);let l;return o?l=o:!s.length&&!r&&!n?l=t:(l={},s.length&&s.forEach(c=>tn(l,c,a,!0)),tn(l,t,a)),ve(t)&&i.set(t,l),l}function tn(e,t,r,n=!1){const{mixins:s,extends:i}=t;i&&tn(e,i,r,!0),s&&s.forEach(a=>tn(e,a,r,!0));for(const a in t)if(!(n&&a==="expose")){const o=hl[a]||r&&r[a];e[a]=o?o(e[a],t[a]):t[a]}return e}const hl={data:js,props:qs,emits:qs,methods:dr,computed:dr,beforeCreate:Le,created:Le,beforeMount:Le,mounted:Le,beforeUpdate:Le,updated:Le,beforeDestroy:Le,beforeUnmount:Le,destroyed:Le,unmounted:Le,activated:Le,deactivated:Le,errorCaptured:Le,serverPrefetch:Le,components:dr,directives:dr,watch:dl,provide:js,inject:pl};function js(e,t){return t?e?function(){return $e(G(e)?e.call(this,this):e,G(t)?t.call(this,this):t)}:t:e}function pl(e,t){return dr(Hn(e),Hn(t))}function Hn(e){if(Z(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Le(e,t){return e?[...new Set([].concat(e,t))]:t}function dr(e,t){return e?$e(Object.create(null),e,t):t}function qs(e,t){return e?Z(e)&&Z(t)?[...new Set([...e,...t])]:$e(Object.create(null),Ls(e),Ls(t??{})):t}function dl(e,t){if(!e)return t;if(!t)return e;const r=$e(Object.create(null),e);for(const n in t)r[n]=Le(e[n],t[n]);return r}function oa(){return{app:null,config:{isNativeTag:Da,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let gl=0;function ml(e,t){return function(n,s=null){G(n)||(n=$e({},n)),s!=null&&!ve(s)&&(s=null);const i=oa(),a=new Set;let o=!1;const l=i.app={_uid:gl++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:jl,get config(){return i.config},set config(c){},use(c,...g){return a.has(c)||(c&&G(c.install)?(a.add(c),c.install(l,...g)):G(c)&&(a.add(c),c(l,...g))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,g){return g?(i.components[c]=g,l):i.components[c]},directive(c,g){return g?(i.directives[c]=g,l):i.directives[c]},mount(c,g,m){if(!o){const w=qe(n,s);return w.appContext=i,g&&t?t(w,c):e(w,c,m),o=!0,l._container=c,c.__vue_app__=l,vn(w.component)||w.component.proxy}},unmount(){o&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,g){return i.provides[c]=g,l},runWithContext(c){rn=l;try{return c()}finally{rn=null}}};return l}}let rn=null;function vl(e,t){if(Re){let r=Re.provides;const n=Re.parent&&Re.parent.provides;n===r&&(r=Re.provides=Object.create(n)),r[e]=t}}function Vr(e,t,r=!1){const n=Re||rt;if(n||rn){const s=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:rn._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return r&&G(t)?t.call(n&&n.proxy):t}}function yl(e,t,r,n=!1){const s={},i={};Gr(i,mn,1),e.propsDefaults=Object.create(null),la(e,t,s,i);for(const a in e.propsOptions[0])a in s||(s[a]=void 0);r?e.props=n?s:Fo(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function wl(e,t,r,n){const{props:s,attrs:i,vnode:{patchFlag:a}}=e,o=oe(s),[l]=e.propsOptions;let c=!1;if((n||a>0)&&!(a&16)){if(a&8){const g=e.vnode.dynamicProps;for(let m=0;m<g.length;m++){let w=g[m];if(pn(e.emitsOptions,w))continue;const _=t[w];if(l)if(ae(i,w))_!==i[w]&&(i[w]=_,c=!0);else{const I=nr(w);s[I]=zn(l,o,I,_,e,!1)}else _!==i[w]&&(i[w]=_,c=!0)}}}else{la(e,t,s,i)&&(c=!0);let g;for(const m in o)(!t||!ae(t,m)&&((g=or(m))===m||!ae(t,g)))&&(l?r&&(r[m]!==void 0||r[g]!==void 0)&&(s[m]=zn(l,o,m,void 0,e,!0)):delete s[m]);if(i!==o)for(const m in i)(!t||!ae(t,m)&&!0)&&(delete i[m],c=!0)}c&&vt(e,"set","$attrs")}function la(e,t,r,n){const[s,i]=e.propsOptions;let a=!1,o;if(t)for(let l in t){if(Kr(l))continue;const c=t[l];let g;s&&ae(s,g=nr(l))?!i||!i.includes(g)?r[g]=c:(o||(o={}))[g]=c:pn(e.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,a=!0)}if(i){const l=oe(r),c=o||we;for(let g=0;g<i.length;g++){const m=i[g];r[m]=zn(s,l,m,c[m],e,!ae(c,m))}}return a}function zn(e,t,r,n,s,i){const a=e[r];if(a!=null){const o=ae(a,"default");if(o&&n===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&G(l)){const{propsDefaults:c}=s;r in c?n=c[r]:(ar(s),n=c[r]=l.call(null,t),Dt())}else n=l}a[0]&&(i&&!o?n=!1:a[1]&&(n===""||n===or(r))&&(n=!0))}return n}function ua(e,t,r=!1){const n=t.propsCache,s=n.get(e);if(s)return s;const i=e.props,a={},o=[];let l=!1;if(!G(e)){const g=m=>{l=!0;const[w,_]=ua(m,t,!0);$e(a,w),_&&o.push(..._)};!r&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}if(!i&&!l)return ve(e)&&n.set(e,Zt),Zt;if(Z(i))for(let g=0;g<i.length;g++){const m=nr(i[g]);Ks(m)&&(a[m]=we)}else if(i)for(const g in i){const m=nr(g);if(Ks(m)){const w=i[g],_=a[m]=Z(w)||G(w)?{type:w}:$e({},w);if(_){const I=Ws(Boolean,_.type),N=Ws(String,_.type);_[0]=I>-1,_[1]=N<0||I<N,(I>-1||ae(_,"default"))&&o.push(m)}}}const c=[a,o];return ve(e)&&n.set(e,c),c}function Ks(e){return e[0]!=="$"}function Hs(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function zs(e,t){return Hs(e)===Hs(t)}function Ws(e,t){return Z(t)?t.findIndex(r=>zs(r,e)):G(t)&&zs(t,e)?0:-1}const ca=e=>e[0]==="_"||e==="$stable",vs=e=>Z(e)?e.map(ct):[ct(e)],xl=(e,t,r)=>{if(t._n)return t;const n=Uo((...s)=>vs(t(...s)),r);return n._c=!1,n},fa=(e,t,r)=>{const n=e._ctx;for(const s in e){if(ca(s))continue;const i=e[s];if(G(i))t[s]=xl(s,i,n);else if(i!=null){const a=vs(i);t[s]=()=>a}}},ha=(e,t)=>{const r=vs(t);e.slots.default=()=>r},bl=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=oe(t),Gr(t,"_",r)):fa(t,e.slots={})}else e.slots={},t&&ha(e,t);Gr(e.slots,mn,1)},_l=(e,t,r)=>{const{vnode:n,slots:s}=e;let i=!0,a=we;if(n.shapeFlag&32){const o=t._;o?r&&o===1?i=!1:($e(s,t),!r&&o===1&&delete s._):(i=!t.$stable,fa(t,s)),a=t}else t&&(ha(e,t),a={default:1});if(i)for(const o in s)!ca(o)&&!(o in a)&&delete s[o]};function Wn(e,t,r,n,s=!1){if(Z(e)){e.forEach((w,_)=>Wn(w,t&&(Z(t)?t[_]:t),r,n,s));return}if(Wr(n)&&!s)return;const i=n.shapeFlag&4?vn(n.component)||n.component.proxy:n.el,a=s?null:i,{i:o,r:l}=e,c=t&&t.r,g=o.refs===we?o.refs={}:o.refs,m=o.setupState;if(c!=null&&c!==l&&(Ce(c)?(g[c]=null,ae(m,c)&&(m[c]=null)):De(c)&&(c.value=null)),G(l))Ct(l,o,12,[a,g]);else{const w=Ce(l),_=De(l);if(w||_){const I=()=>{if(e.f){const N=w?ae(m,l)?m[l]:g[l]:l.value;s?Z(N)&&ns(N,i):Z(N)?N.includes(i)||N.push(i):w?(g[l]=[i],ae(m,l)&&(m[l]=g[l])):(l.value=[i],e.k&&(g[e.k]=l.value))}else w?(g[l]=a,ae(m,l)&&(m[l]=a)):_&&(l.value=a,e.k&&(g[e.k]=a))};a?(I.id=-1,je(I,r)):I()}}}const je=Wo;function El(e){return Cl(e)}function Cl(e,t){const r=Nn();r.__VUE__=!0;const{insert:n,remove:s,patchProp:i,createElement:a,createText:o,createComment:l,setText:c,setElementText:g,parentNode:m,nextSibling:w,setScopeId:_=st,insertStaticContent:I}=e,N=(d,v,C,M=null,F=null,S=null,R=!1,B=null,T=!!v.dynamicChildren)=>{if(d===v)return;d&&!hr(d,v)&&(M=Ue(d),ie(d,F,S,!0),d=null),v.patchFlag===-2&&(T=!1,v.dynamicChildren=null);const{type:O,ref:W,shapeFlag:H}=v;switch(O){case gn:U(d,v,C,M);break;case Ut:z(d,v,C,M);break;case En:d==null&&p(v,C,M,R);break;case ut:X(d,v,C,M,F,S,R,B,T);break;default:H&1?y(d,v,C,M,F,S,R,B,T):H&6?pe(d,v,C,M,F,S,R,B,T):(H&64||H&128)&&O.process(d,v,C,M,F,S,R,B,T,Ze)}W!=null&&F&&Wn(W,d&&d.ref,S,v||d,!v)},U=(d,v,C,M)=>{if(d==null)n(v.el=o(v.children),C,M);else{const F=v.el=d.el;v.children!==d.children&&c(F,v.children)}},z=(d,v,C,M)=>{d==null?n(v.el=l(v.children||""),C,M):v.el=d.el},p=(d,v,C,M)=>{[d.el,d.anchor]=I(d.children,v,C,M,d.el,d.anchor)},f=({el:d,anchor:v},C,M)=>{let F;for(;d&&d!==v;)F=w(d),n(d,C,M),d=F;n(v,C,M)},h=({el:d,anchor:v})=>{let C;for(;d&&d!==v;)C=w(d),s(d),d=C;s(v)},y=(d,v,C,M,F,S,R,B,T)=>{R=R||v.type==="svg",d==null?x(v,C,M,F,S,R,B,T):A(d,v,F,S,R,B,T)},x=(d,v,C,M,F,S,R,B)=>{let T,O;const{type:W,props:H,shapeFlag:V,transition:J,dirs:se}=d;if(T=d.el=a(d.type,S,H&&H.is,H),V&8?g(T,d.children):V&16&&$(d.children,T,null,M,F,S&&W!=="foreignObject",R,B),se&&Pt(d,null,M,"created"),E(T,d,d.scopeId,R,M),H){for(const fe in H)fe!=="value"&&!Kr(fe)&&i(T,fe,null,H[fe],S,d.children,M,F,Ee);"value"in H&&i(T,"value",null,H.value),(O=H.onVnodeBeforeMount)&&lt(O,M,d)}se&&Pt(d,null,M,"beforeMount");const me=(!F||F&&!F.pendingBranch)&&J&&!J.persisted;me&&J.beforeEnter(T),n(T,v,C),((O=H&&H.onVnodeMounted)||me||se)&&je(()=>{O&&lt(O,M,d),me&&J.enter(T),se&&Pt(d,null,M,"mounted")},F)},E=(d,v,C,M,F)=>{if(C&&_(d,C),M)for(let S=0;S<M.length;S++)_(d,M[S]);if(F){let S=F.subTree;if(v===S){const R=F.vnode;E(d,R,R.scopeId,R.slotScopeIds,F.parent)}}},$=(d,v,C,M,F,S,R,B,T=0)=>{for(let O=T;O<d.length;O++){const W=d[O]=B?_t(d[O]):ct(d[O]);N(null,W,v,C,M,F,S,R,B)}},A=(d,v,C,M,F,S,R)=>{const B=v.el=d.el;let{patchFlag:T,dynamicChildren:O,dirs:W}=v;T|=d.patchFlag&16;const H=d.props||we,V=v.props||we;let J;C&&Ft(C,!1),(J=V.onVnodeBeforeUpdate)&&lt(J,C,v,d),W&&Pt(v,d,C,"beforeUpdate"),C&&Ft(C,!0);const se=F&&v.type!=="foreignObject";if(O?j(d.dynamicChildren,O,B,C,M,se,S):R||K(d,v,B,null,C,M,se,S,!1),T>0){if(T&16)q(B,v,H,V,C,M,F);else if(T&2&&H.class!==V.class&&i(B,"class",null,V.class,F),T&4&&i(B,"style",H.style,V.style,F),T&8){const me=v.dynamicProps;for(let fe=0;fe<me.length;fe++){const be=me[fe],Qe=H[be],zt=V[be];(zt!==Qe||be==="value")&&i(B,be,Qe,zt,F,d.children,C,M,Ee)}}T&1&&d.children!==v.children&&g(B,v.children)}else!R&&O==null&&q(B,v,H,V,C,M,F);((J=V.onVnodeUpdated)||W)&&je(()=>{J&&lt(J,C,v,d),W&&Pt(v,d,C,"updated")},M)},j=(d,v,C,M,F,S,R)=>{for(let B=0;B<v.length;B++){const T=d[B],O=v[B],W=T.el&&(T.type===ut||!hr(T,O)||T.shapeFlag&70)?m(T.el):C;N(T,O,W,null,M,F,S,R,!0)}},q=(d,v,C,M,F,S,R)=>{if(C!==M){if(C!==we)for(const B in C)!Kr(B)&&!(B in M)&&i(d,B,C[B],null,R,v.children,F,S,Ee);for(const B in M){if(Kr(B))continue;const T=M[B],O=C[B];T!==O&&B!=="value"&&i(d,B,O,T,R,v.children,F,S,Ee)}"value"in M&&i(d,"value",C.value,M.value)}},X=(d,v,C,M,F,S,R,B,T)=>{const O=v.el=d?d.el:o(""),W=v.anchor=d?d.anchor:o("");let{patchFlag:H,dynamicChildren:V,slotScopeIds:J}=v;J&&(B=B?B.concat(J):J),d==null?(n(O,C,M),n(W,C,M),$(v.children,C,W,F,S,R,B,T)):H>0&&H&64&&V&&d.dynamicChildren?(j(d.dynamicChildren,V,C,F,S,R,B),(v.key!=null||F&&v===F.subTree)&&pa(d,v,!0)):K(d,v,C,W,F,S,R,B,T)},pe=(d,v,C,M,F,S,R,B,T)=>{v.slotScopeIds=B,d==null?v.shapeFlag&512?F.ctx.activate(v,C,M,R,T):Pe(v,C,M,F,S,R,T):Ge(d,v,T)},Pe=(d,v,C,M,F,S,R)=>{const B=d.component=Sl(d,M,F);if(na(d)&&(B.ctx.renderer=Ze),Il(B),B.asyncDep){if(F&&F.registerDep(B,ye),!d.el){const T=B.subTree=qe(Ut);z(null,T,v,C)}return}ye(B,d,v,C,F,S,R)},Ge=(d,v,C)=>{const M=v.component=d.component;if(Ko(d,v,C))if(M.asyncDep&&!M.asyncResolved){ce(M,v,C);return}else M.next=v,To(M.update),M.update();else v.el=d.el,M.vnode=v},ye=(d,v,C,M,F,S,R)=>{const B=()=>{if(d.isMounted){let{next:W,bu:H,u:V,parent:J,vnode:se}=d,me=W,fe;Ft(d,!1),W?(W.el=se.el,ce(d,W,R)):W=se,H&&Hr(H),(fe=W.props&&W.props.onVnodeBeforeUpdate)&&lt(fe,J,W,se),Ft(d,!0);const be=bn(d),Qe=d.subTree;d.subTree=be,N(Qe,be,m(Qe.el),Ue(Qe),d,F,S),W.el=be.el,me===null&&Ho(d,be.el),V&&je(V,F),(fe=W.props&&W.props.onVnodeUpdated)&&je(()=>lt(fe,J,W,se),F)}else{let W;const{el:H,props:V}=v,{bm:J,m:se,parent:me}=d,fe=Wr(v);if(Ft(d,!1),J&&Hr(J),!fe&&(W=V&&V.onVnodeBeforeMount)&&lt(W,me,v),Ft(d,!0),H&&We){const be=()=>{d.subTree=bn(d),We(H,d.subTree,d,F,null)};fe?v.type.__asyncLoader().then(()=>!d.isUnmounted&&be()):be()}else{const be=d.subTree=bn(d);N(null,be,C,M,d,F,S),v.el=be.el}if(se&&je(se,F),!fe&&(W=V&&V.onVnodeMounted)){const be=v;je(()=>lt(W,me,be),F)}(v.shapeFlag&256||me&&Wr(me.vnode)&&me.vnode.shapeFlag&256)&&d.a&&je(d.a,F),d.isMounted=!0,v=C=M=null}},T=d.effect=new os(B,()=>gs(O),d.scope),O=d.update=()=>T.run();O.id=d.uid,Ft(d,!0),O()},ce=(d,v,C)=>{v.component=d;const M=d.vnode.props;d.vnode=v,d.next=null,wl(d,v.props,M,C),_l(d,v.children,C),lr(),Rs(),ur()},K=(d,v,C,M,F,S,R,B,T=!1)=>{const O=d&&d.children,W=d?d.shapeFlag:0,H=v.children,{patchFlag:V,shapeFlag:J}=v;if(V>0){if(V&128){Fe(O,H,C,M,F,S,R,B,T);return}else if(V&256){ue(O,H,C,M,F,S,R,B,T);return}}J&8?(W&16&&Ee(O,F,S),H!==O&&g(C,H)):W&16?J&16?Fe(O,H,C,M,F,S,R,B,T):Ee(O,F,S,!0):(W&8&&g(C,""),J&16&&$(H,C,M,F,S,R,B,T))},ue=(d,v,C,M,F,S,R,B,T)=>{d=d||Zt,v=v||Zt;const O=d.length,W=v.length,H=Math.min(O,W);let V;for(V=0;V<H;V++){const J=v[V]=T?_t(v[V]):ct(v[V]);N(d[V],J,C,null,F,S,R,B,T)}O>W?Ee(d,F,S,!0,!1,H):$(v,C,M,F,S,R,B,T,H)},Fe=(d,v,C,M,F,S,R,B,T)=>{let O=0;const W=v.length;let H=d.length-1,V=W-1;for(;O<=H&&O<=V;){const J=d[O],se=v[O]=T?_t(v[O]):ct(v[O]);if(hr(J,se))N(J,se,C,null,F,S,R,B,T);else break;O++}for(;O<=H&&O<=V;){const J=d[H],se=v[V]=T?_t(v[V]):ct(v[V]);if(hr(J,se))N(J,se,C,null,F,S,R,B,T);else break;H--,V--}if(O>H){if(O<=V){const J=V+1,se=J<W?v[J].el:M;for(;O<=V;)N(null,v[O]=T?_t(v[O]):ct(v[O]),C,se,F,S,R,B,T),O++}}else if(O>V)for(;O<=H;)ie(d[O],F,S,!0),O++;else{const J=O,se=O,me=new Map;for(O=se;O<=V;O++){const Ve=v[O]=T?_t(v[O]):ct(v[O]);Ve.key!=null&&me.set(Ve.key,O)}let fe,be=0;const Qe=V-se+1;let zt=!1,As=0;const cr=new Array(Qe);for(O=0;O<Qe;O++)cr[O]=0;for(O=J;O<=H;O++){const Ve=d[O];if(be>=Qe){ie(Ve,F,S,!0);continue}let ot;if(Ve.key!=null)ot=me.get(Ve.key);else for(fe=se;fe<=V;fe++)if(cr[fe-se]===0&&hr(Ve,v[fe])){ot=fe;break}ot===void 0?ie(Ve,F,S,!0):(cr[ot-se]=O+1,ot>=As?As=ot:zt=!0,N(Ve,v[ot],C,null,F,S,R,B,T),be++)}const Ps=zt?Al(cr):Zt;for(fe=Ps.length-1,O=Qe-1;O>=0;O--){const Ve=se+O,ot=v[Ve],Fs=Ve+1<W?v[Ve+1].el:M;cr[O]===0?N(null,ot,C,Fs,F,S,R,B,T):zt&&(fe<0||O!==Ps[fe]?Be(ot,C,Fs,2):fe--)}}},Be=(d,v,C,M,F=null)=>{const{el:S,type:R,transition:B,children:T,shapeFlag:O}=d;if(O&6){Be(d.component.subTree,v,C,M);return}if(O&128){d.suspense.move(v,C,M);return}if(O&64){R.move(d,v,C,Ze);return}if(R===ut){n(S,v,C);for(let H=0;H<T.length;H++)Be(T[H],v,C,M);n(d.anchor,v,C);return}if(R===En){f(d,v,C);return}if(M!==2&&O&1&&B)if(M===0)B.beforeEnter(S),n(S,v,C),je(()=>B.enter(S),F);else{const{leave:H,delayLeave:V,afterLeave:J}=B,se=()=>n(S,v,C),me=()=>{H(S,()=>{se(),J&&J()})};V?V(S,se,me):me()}else n(S,v,C)},ie=(d,v,C,M=!1,F=!1)=>{const{type:S,props:R,ref:B,children:T,dynamicChildren:O,shapeFlag:W,patchFlag:H,dirs:V}=d;if(B!=null&&Wn(B,null,C,d,!0),W&256){v.ctx.deactivate(d);return}const J=W&1&&V,se=!Wr(d);let me;if(se&&(me=R&&R.onVnodeBeforeUnmount)&&lt(me,v,d),W&6)ze(d.component,C,M);else{if(W&128){d.suspense.unmount(C,M);return}J&&Pt(d,null,v,"beforeUnmount"),W&64?d.type.remove(d,v,C,F,Ze,M):O&&(S!==ut||H>0&&H&64)?Ee(O,v,C,!1,!0):(S===ut&&H&384||!F&&W&16)&&Ee(T,v,C),M&&Ht(d)}(se&&(me=R&&R.onVnodeUnmounted)||J)&&je(()=>{me&&lt(me,v,d),J&&Pt(d,null,v,"unmounted")},C)},Ht=d=>{const{type:v,el:C,anchor:M,transition:F}=d;if(v===ut){_e(C,M);return}if(v===En){h(d);return}const S=()=>{s(C),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(d.shapeFlag&1&&F&&!F.persisted){const{leave:R,delayLeave:B}=F,T=()=>R(C,S);B?B(d.el,S,T):T()}else S()},_e=(d,v)=>{let C;for(;d!==v;)C=w(d),s(d),d=C;s(v)},ze=(d,v,C)=>{const{bum:M,scope:F,update:S,subTree:R,um:B}=d;M&&Hr(M),F.stop(),S&&(S.active=!1,ie(R,d,v,C)),B&&je(B,v),je(()=>{d.isUnmounted=!0},v),v&&v.pendingBranch&&!v.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===v.pendingId&&(v.deps--,v.deps===0&&v.resolve())},Ee=(d,v,C,M=!1,F=!1,S=0)=>{for(let R=S;R<d.length;R++)ie(d[R],v,C,M,F)},Ue=d=>d.shapeFlag&6?Ue(d.component.subTree):d.shapeFlag&128?d.suspense.next():w(d.anchor||d.el),at=(d,v,C)=>{d==null?v._vnode&&ie(v._vnode,null,null,!0):N(v._vnode||null,d,v,null,null,null,C),Rs(),Gi(),v._vnode=d},Ze={p:N,um:ie,m:Be,r:Ht,mt:Pe,mc:$,pc:K,pbc:j,n:Ue,o:e};let Xe,We;return t&&([Xe,We]=t(Ze)),{render:at,hydrate:Xe,createApp:ml(at,Xe)}}function Ft({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function pa(e,t,r=!1){const n=e.children,s=t.children;if(Z(n)&&Z(s))for(let i=0;i<n.length;i++){const a=n[i];let o=s[i];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=s[i]=_t(s[i]),o.el=a.el),r||pa(a,o)),o.type===gn&&(o.el=a.el)}}function Al(e){const t=e.slice(),r=[0];let n,s,i,a,o;const l=e.length;for(n=0;n<l;n++){const c=e[n];if(c!==0){if(s=r[r.length-1],e[s]<c){t[n]=s,r.push(n);continue}for(i=0,a=r.length-1;i<a;)o=i+a>>1,e[r[o]]<c?i=o+1:a=o;c<e[r[i]]&&(i>0&&(t[n]=r[i-1]),r[i]=n)}}for(i=r.length,a=r[i-1];i-- >0;)r[i]=a,a=t[a];return r}const Pl=e=>e.__isTeleport,ut=Symbol.for("v-fgt"),gn=Symbol.for("v-txt"),Ut=Symbol.for("v-cmt"),En=Symbol.for("v-stc"),yr=[];let nt=null;function Ot(e=!1){yr.push(nt=e?null:[])}function Fl(){yr.pop(),nt=yr[yr.length-1]||null}let Ar=1;function Vs(e){Ar+=e}function da(e){return e.dynamicChildren=Ar>0?nt||Zt:null,Fl(),Ar>0&&nt&&nt.push(e),e}function gr(e,t,r,n,s,i){return da(ee(e,t,r,n,s,i,!0))}function ga(e,t,r,n,s){return da(qe(e,t,r,n,s,!0))}function Vn(e){return e?e.__v_isVNode===!0:!1}function hr(e,t){return e.type===t.type&&e.key===t.key}const mn="__vInternal",ma=({key:e})=>e??null,Yr=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Ce(e)||De(e)||G(e)?{i:rt,r:e,k:t,f:!!r}:e:null);function ee(e,t=null,r=null,n=0,s=null,i=e===ut?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ma(t),ref:t&&Yr(t),scopeId:ea,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:rt};return o?(ys(l,r),i&128&&e.normalize(l)):r&&(l.shapeFlag|=Ce(r)?8:16),Ar>0&&!a&&nt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&nt.push(l),l}const qe=Ml;function Ml(e,t=null,r=null,n=0,s=null,i=!1){if((!e||e===ol)&&(e=Ut),Vn(e)){const o=ir(e,t,!0);return r&&ys(o,r),Ar>0&&!i&&nt&&(o.shapeFlag&6?nt[nt.indexOf(e)]=o:nt.push(o)),o.patchFlag|=-2,o}if(Dl(e)&&(e=e.__vccOpts),t){t=kl(t);let{class:o,style:l}=t;o&&!Ce(o)&&(t.class=cn(o)),ve(l)&&(Hi(l)&&!Z(l)&&(l=$e({},l)),t.style=is(l))}const a=Ce(e)?1:zo(e)?128:Pl(e)?64:ve(e)?4:G(e)?2:0;return ee(e,t,r,n,s,a,i,!0)}function kl(e){return e?Hi(e)||mn in e?$e({},e):e:null}function ir(e,t,r=!1){const{props:n,ref:s,patchFlag:i,children:a}=e,o=t?$l(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:o,key:o&&ma(o),ref:t&&t.ref?r&&s?Z(s)?s.concat(Yr(t)):[s,Yr(t)]:Yr(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ut?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ir(e.ssContent),ssFallback:e.ssFallback&&ir(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Qt(e=" ",t=0){return qe(gn,null,e,t)}function Ys(e="",t=!1){return t?(Ot(),ga(Ut,null,e)):qe(Ut,null,e)}function ct(e){return e==null||typeof e=="boolean"?qe(Ut):Z(e)?qe(ut,null,e.slice()):typeof e=="object"?_t(e):qe(gn,null,String(e))}function _t(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ir(e)}function ys(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Z(t))r=16;else if(typeof t=="object")if(n&65){const s=t.default;s&&(s._c&&(s._d=!1),ys(e,s()),s._c&&(s._d=!0));return}else{r=32;const s=t._;!s&&!(mn in t)?t._ctx=rt:s===3&&rt&&(rt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else G(t)?(t={default:t,_ctx:rt},r=32):(t=String(t),n&64?(r=16,t=[Qt(t)]):r=8);e.children=t,e.shapeFlag|=r}function $l(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const s in n)if(s==="class")t.class!==n.class&&(t.class=cn([t.class,n.class]));else if(s==="style")t.style=is([t.style,n.style]);else if(ln(s)){const i=t[s],a=n[s];a&&i!==a&&!(Z(i)&&i.includes(a))&&(t[s]=i?[].concat(i,a):a)}else s!==""&&(t[s]=n[s])}return t}function lt(e,t,r,n=null){it(e,t,7,[r,n])}const Ol=oa();let Bl=0;function Sl(e,t,r){const n=e.type,s=(t?t.appContext:e.appContext)||Ol,i={uid:Bl++,vnode:e,type:n,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ga(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ua(n,s),emitsOptions:Qi(n,s),emit:null,emitted:null,propsDefaults:we,inheritAttrs:n.inheritAttrs,ctx:we,data:we,props:we,attrs:we,slots:we,refs:we,setupState:we,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Lo.bind(null,i),e.ce&&e.ce(i),i}let Re=null,ws,Wt,Zs="__VUE_INSTANCE_SETTERS__";(Wt=Nn()[Zs])||(Wt=Nn()[Zs]=[]),Wt.push(e=>Re=e),ws=e=>{Wt.length>1?Wt.forEach(t=>t(e)):Wt[0](e)};const ar=e=>{ws(e),e.scope.on()},Dt=()=>{Re&&Re.scope.off(),ws(null)};function va(e){return e.vnode.shapeFlag&4}let Pr=!1;function Il(e,t=!1){Pr=t;const{props:r,children:n}=e.vnode,s=va(e);yl(e,r,s,t),bl(e,n);const i=s?Nl(e,t):void 0;return Pr=!1,i}function Nl(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=zi(new Proxy(e.ctx,ul));const{setup:n}=r;if(n){const s=e.setupContext=n.length>1?Rl(e):null;ar(e),lr();const i=Ct(n,e,0,[e.props,s]);if(ur(),Dt(),Fi(i)){if(i.then(Dt,Dt),t)return i.then(a=>{Js(e,a,t)}).catch(a=>{hn(a,e,0)});e.asyncDep=i}else Js(e,i,t)}else ya(e,t)}function Js(e,t,r){G(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ve(t)&&(e.setupState=Yi(t)),ya(e,r)}let Gs;function ya(e,t,r){const n=e.type;if(!e.render){if(!t&&Gs&&!n.render){const s=n.template||ms(e).template;if(s){const{isCustomElement:i,compilerOptions:a}=e.appContext.config,{delimiters:o,compilerOptions:l}=n,c=$e($e({isCustomElement:i,delimiters:o},a),l);n.render=Gs(s,c)}}e.render=n.render||st}ar(e),lr(),cl(e),ur(),Dt()}function Tl(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,r){return Ke(e,"get","$attrs"),t[r]}}))}function Rl(e){const t=r=>{e.exposed=r||{}};return{get attrs(){return Tl(e)},slots:e.slots,emit:e.emit,expose:t}}function vn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Yi(zi(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in vr)return vr[r](e)},has(t,r){return r in t||r in vr}}))}function Dl(e){return G(e)&&"__vccOpts"in e}const wa=(e,t)=>Bo(e,t,Pr);function Mt(e,t,r){const n=arguments.length;return n===2?ve(t)&&!Z(t)?Vn(t)?qe(e,null,[t]):qe(e,t):qe(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Vn(r)&&(r=[r]),qe(e,t,r))}const Ll=Symbol.for("v-scx"),Ul=()=>Vr(Ll),jl="3.3.4",ql="http://www.w3.org/2000/svg",Bt=typeof document<"u"?document:null,Xs=Bt&&Bt.createElement("template"),Kl={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const s=t?Bt.createElementNS(ql,e):Bt.createElement(e,r?{is:r}:void 0);return e==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:e=>Bt.createTextNode(e),createComment:e=>Bt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Bt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,s,i){const a=r?r.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),r),!(s===i||!(s=s.nextSibling)););else{Xs.innerHTML=n?`<svg>${e}</svg>`:e;const o=Xs.content;if(n){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}t.insertBefore(o,r)}return[a?a.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function Hl(e,t,r){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function zl(e,t,r){const n=e.style,s=Ce(r);if(r&&!s){if(t&&!Ce(t))for(const i in t)r[i]==null&&Yn(n,i,"");for(const i in r)Yn(n,i,r[i])}else{const i=n.display;s?t!==r&&(n.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=i)}}const Qs=/\s*!important$/;function Yn(e,t,r){if(Z(r))r.forEach(n=>Yn(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=Wl(e,t);Qs.test(r)?e.setProperty(or(n),r.replace(Qs,""),"important"):e[n]=r}}const ei=["Webkit","Moz","ms"],Cn={};function Wl(e,t){const r=Cn[t];if(r)return r;let n=nr(t);if(n!=="filter"&&n in e)return Cn[t]=n;n=$i(n);for(let s=0;s<ei.length;s++){const i=ei[s]+n;if(i in e)return Cn[t]=i}return t}const ti="http://www.w3.org/1999/xlink";function Vl(e,t,r,n,s){if(n&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(ti,t.slice(6,t.length)):e.setAttributeNS(ti,t,r);else{const i=Za(t);r==null||i&&!Oi(r)?e.removeAttribute(t):e.setAttribute(t,i?"":r)}}function Yl(e,t,r,n,s,i,a){if(t==="innerHTML"||t==="textContent"){n&&a(n,s,i),e[t]=r??"";return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){e._value=r;const c=o==="OPTION"?e.getAttribute("value"):e.value,g=r??"";c!==g&&(e.value=g),r==null&&e.removeAttribute(t);return}let l=!1;if(r===""||r==null){const c=typeof e[t];c==="boolean"?r=Oi(r):r==null&&c==="string"?(r="",l=!0):c==="number"&&(r=0,l=!0)}try{e[t]=r}catch{}l&&e.removeAttribute(t)}function St(e,t,r,n){e.addEventListener(t,r,n)}function Zl(e,t,r,n){e.removeEventListener(t,r,n)}function Jl(e,t,r,n,s=null){const i=e._vei||(e._vei={}),a=i[t];if(n&&a)a.value=n;else{const[o,l]=Gl(t);if(n){const c=i[t]=eu(n,s);St(e,o,c,l)}else a&&(Zl(e,o,a,l),i[t]=void 0)}}const ri=/(?:Once|Passive|Capture)$/;function Gl(e){let t;if(ri.test(e)){t={};let n;for(;n=e.match(ri);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):or(e.slice(2)),t]}let An=0;const Xl=Promise.resolve(),Ql=()=>An||(Xl.then(()=>An=0),An=Date.now());function eu(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;it(tu(n,r.value),t,5,[n])};return r.value=e,r.attached=Ql(),r}function tu(e,t){if(Z(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>s=>!s._stopped&&n&&n(s))}else return t}const ni=/^on[a-z]/,ru=(e,t,r,n,s=!1,i,a,o,l)=>{t==="class"?Hl(e,n,s):t==="style"?zl(e,r,n):ln(t)?rs(t)||Jl(e,t,r,n,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):nu(e,t,n,s))?Yl(e,t,n,i,a,o,l):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Vl(e,t,n,s))};function nu(e,t,r,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&ni.test(t)&&G(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||ni.test(t)&&Ce(r)?!1:t in e}const nn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Z(t)?r=>Hr(t,r):t};function su(e){e.target.composing=!0}function si(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ii={created(e,{modifiers:{lazy:t,trim:r,number:n}},s){e._assign=nn(s);const i=n||s.props&&s.props.type==="number";St(e,t?"change":"input",a=>{if(a.target.composing)return;let o=e.value;r&&(o=o.trim()),i&&(o=In(o)),e._assign(o)}),r&&St(e,"change",()=>{e.value=e.value.trim()}),t||(St(e,"compositionstart",su),St(e,"compositionend",si),St(e,"change",si))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:n,number:s}},i){if(e._assign=nn(i),e.composing||document.activeElement===e&&e.type!=="range"&&(r||n&&e.value.trim()===t||(s||e.type==="number")&&In(e.value)===t))return;const a=t??"";e.value!==a&&(e.value=a)}},ai={created(e,{value:t},r){e.checked=Xr(t,r.props.value),e._assign=nn(r),St(e,"change",()=>{e._assign(iu(e))})},beforeUpdate(e,{value:t,oldValue:r},n){e._assign=nn(n),t!==r&&(e.checked=Xr(t,n.props.value))}};function iu(e){return"_value"in e?e._value:e.value}const au=$e({patchProp:ru},Kl);let oi;function ou(){return oi||(oi=El(au))}const lu=(...e)=>{const t=ou().createApp(...e),{mount:r}=t;return t.mount=n=>{const s=uu(n);if(!s)return;const i=t._component;!G(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const a=r(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},t};function uu(e){return Ce(e)?document.querySelector(e):e}function he(e,t,r){let n=r.value;return{configurable:!0,get(){const s=n.bind(this);return Object.defineProperty(this,t,{configurable:!0,writable:!0,value:s}),s},set(s){n=s}}}class yt extends Error{name="AiScript";info;pos;constructor(t,r){super(t),this.info=r,Error.captureStackTrace&&Error.captureStackTrace(this,yt)}}class li extends yt{name="Internal";constructor(t){const r=String(t?.message??t);super(r,t)}}class re extends yt{pos;name="Syntax";constructor(t,r,n){super(`${t} (Line ${r.line}, Column ${r.column})`,n),this.pos=r}}class Pn extends yt{pos;name="Namespace";constructor(t,r,n){super(`${t} (Line ${r.line}, Column ${r.column})`,n),this.pos=r}}class ne extends yt{name="Runtime";constructor(t,r){super(t,r)}}class ui extends ne{constructor(t,r){super(t,r)}}class cu extends ne{name="";constructor(t,r){super(t,r)}}class ci extends yt{name="Host";constructor(t,r){super(t,r)}}const fu=["def","return","each","for","loop","break","continue","assign","addAssign","subAssign"];function hu(e){return fu.includes(e.type)}var pt=globalThis&&globalThis.__decorate||function(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i};class He{parent;layerdStates;name;opts={};nsName;constructor(t=[],r,n,s){this.layerdStates=t,this.parent=r,this.name=n||(t.length===1?"<root>":"<anonymous>"),this.nsName=s}log(t,r){this.parent?this.parent.log(t,r):this.opts.log&&this.opts.log(t,r)}onUpdated(t,r){this.parent?this.parent.onUpdated(t,r):this.opts.onUpdated&&this.opts.onUpdated(t,r)}createChildScope(t=new Map,r){const n=[t,...this.layerdStates];return new He(n,this,r)}createChildNamespaceScope(t,r=new Map,n){const s=[r,...this.layerdStates];return new He(s,this,n,t)}get(t){for(const r of this.layerdStates)if(r.has(t)){const n=r.get(t).value;return this.log("read",{var:t,val:n}),n}throw new ne(`No such variable '${t}' in scope '${this.name}'`,{scope:this.layerdStates})}getNsPrefix(){return this.parent==null||this.nsName==null?"":this.parent.getNsPrefix()+this.nsName+":"}exists(t){for(const r of this.layerdStates)if(r.has(t))return this.log("exists",{var:t}),!0;return this.log("not exists",{var:t}),!1}getAll(){const t=this.layerdStates.reduce((r,n)=>[...r,...n],[]);return new Map(t)}add(t,r){this.log("add",{var:t,val:r});const n=this.layerdStates[0];if(n.has(t))throw new ne(`Variable '${t}' already exists in scope '${this.name}'`,{scope:this.layerdStates});n.set(t,r),this.parent==null?this.onUpdated(t,r.value):this.nsName!=null&&this.parent.add(this.nsName+":"+t,r)}assign(t,r){let n=1;for(const s of this.layerdStates){if(s.has(t)){const i=s.get(t);if(!i.isMutable)throw new ne(`Cannot assign to an immutable variable ${t}.`);i.value=r,this.log("assign",{var:t,val:r}),n===this.layerdStates.length&&this.onUpdated(t,r);return}n++}throw new ne(`No such variable '${t}' in scope '${this.name}'`,{scope:this.layerdStates})}}pt([he],He.prototype,"log",null);pt([he],He.prototype,"onUpdated",null);pt([he],He.prototype,"createChildScope",null);pt([he],He.prototype,"createChildNamespaceScope",null);pt([he],He.prototype,"get",null);pt([he],He.prototype,"getNsPrefix",null);pt([he],He.prototype,"exists",null);pt([he],He.prototype,"getAll",null);pt([he],He.prototype,"add",null);pt([he],He.prototype,"assign",null);var Se=[];for(var Fn=0;Fn<256;++Fn)Se.push((Fn+256).toString(16).slice(1));function pu(e,t=0){return(Se[e[t+0]]+Se[e[t+1]]+Se[e[t+2]]+Se[e[t+3]]+"-"+Se[e[t+4]]+Se[e[t+5]]+"-"+Se[e[t+6]]+Se[e[t+7]]+"-"+Se[e[t+8]]+Se[e[t+9]]+"-"+Se[e[t+10]]+Se[e[t+11]]+Se[e[t+12]]+Se[e[t+13]]+Se[e[t+14]]+Se[e[t+15]]).toLowerCase()}var Rr,du=new Uint8Array(16);function gu(){if(!Rr&&(Rr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Rr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Rr(du)}var mu=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),fi={randomUUID:mu};function vu(e,t,r){if(fi.randomUUID&&!t&&!e)return fi.randomUUID();e=e||{};var n=e.random||(e.rng||gu)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var s=0;s<16;++s)t[r+s]=n[s];return t}return pu(n)}const Y={type:"null"},Me={type:"bool",value:!0},ke={type:"bool",value:!1},k=e=>({type:"num",value:e}),te=e=>({type:"str",value:e}),Lt=e=>({type:"bool",value:e}),sn=e=>({type:"obj",value:e}),de=e=>({type:"arr",value:e}),yu=(e,t,r)=>({type:"fn",params:e,statements:t,scope:r}),b=e=>({type:"fn",native:e}),wu=e=>({type:"return",value:e}),xu=()=>({type:"break",value:null}),bu=()=>({type:"continue",value:null}),_u=e=>e.type==="return"?e.value:e,Zr=(e,t)=>({type:"error",value:e,info:t});function Ne(e){if(e==null)throw new ne("Expect anything, but got nothing.")}function Ie(e){if(e==null)throw new ne("Expect boolean, but got nothing.");if(e.type!=="bool")throw new ne(`Expect boolean, but got ${e.type}.`)}function xe(e){if(e==null)throw new ne("Expect function, but got nothing.");if(e.type!=="fn")throw new ne(`Expect function, but got ${e.type}.`)}function le(e){if(e==null)throw new ne("Expect string, but got nothing.");if(e.type!=="str")throw new ne(`Expect string, but got ${e.type}.`)}function P(e){if(e==null)throw new ne("Expect number, but got nothing.");if(e.type!=="num")throw new ne(`Expect number, but got ${e.type}.`)}function Je(e){if(e==null)throw new ne("Expect object, but got nothing.");if(e.type!=="obj")throw new ne(`Expect object, but got ${e.type}.`)}function mt(e){if(e==null)throw new ne("Expect array, but got nothing.");if(e.type!=="arr")throw new ne(`Expect array, but got ${e.type}.`)}function hi(e){return e.type==="fn"}function Mn(e){return e.type==="obj"}function an(e){return e.type==="arr"}function er(e,t){return e.type==="fn"&&t.type==="fn"?e.native&&t.native?e.native===t.native:e===t:e.type==="fn"||t.type==="fn"?!1:e.type==="null"&&t.type==="null"?!0:e.type==="null"||t.type==="null"?!1:e.value===t.value}function Zn(e,t=!1){if(t){if(e.type==="num")return e.value.toString();if(e.type==="bool")return e.value?"true":"false";if(e.type==="str")return`"${e.value}"`;if(e.type==="arr")return`[${e.value.map(n=>Zn(n,!0)).join(", ")}]`;if(e.type==="null")return"(null)"}const r=e.type==="num"||e.type==="bool"?e.value:e.type==="str"?`"${e.value}"`:e.type==="fn"||e.type==="obj"?"...":e.type==="null"?"":null;return`${e.type}<${r}>`}function Jn(e){switch(e.type){case"fn":return"<function>";case"arr":return e.value.map(t=>Jn(t));case"bool":return e.value;case"null":return null;case"num":return e.value;case"obj":{const t={};for(const[r,n]of e.value.entries())t[r]=Jn(n);return t}case"str":return e.value;default:throw new Error(`Unrecognized value type: ${e.type}`)}}function Gn(e){if(e===null)return Y;if(typeof e=="boolean")return Lt(e);if(typeof e=="string")return te(e);if(typeof e=="number")return k(e);if(Array.isArray(e))return de(e.map(t=>Gn(t)));if(typeof e=="object"){const t=new Map;for(const[r,n]of Object.entries(e))t.set(r,Gn(n));return sn(t)}return Y}function tr(e,t=!1,r=new Set){if((e.type==="arr"||e.type==="obj")&&r.has(e.value))return"...";if(t&&e.type==="str")return'"'+e.value.replace(/["\\\r\n]/g,n=>`\\${n}`)+'"';if(e.type==="str")return e.value;if(e.type==="num")return e.value.toString();if(e.type==="arr"){r.add(e.value);const n=[];for(const s of e.value)n.push(tr(s,!0,r));return"[ "+n.join(", ")+" ]"}if(e.type==="obj"){r.add(e.value);const n=[];for(const[s,i]of e.value)n.push(`${s}: ${tr(i,!0,r)}`);return"{ "+n.join(", ")+" }"}return e.type==="bool"?e.value.toString():e.type==="null"?"null":e.type==="fn"?e.native?"@( ?? ) { native code }":`@( ${e.params.map(n=>n.dest.type==="identifier"?n.dest.name:"?").join(", ")} ) { ... }`:"?"}const Eu={version:"1.0.0"},xa=Eu.version,ba=new TextEncoder,Cu=new TextDecoder,It=Math.ceil(Math.log2(Number.MAX_SAFE_INTEGER));BigInt(It);const Au=It-1;BigInt(Au);class xs{generateNumber0To1(){let t=this.generateBigUintByBits(It),r=1022,n=It-pi(t);for(;n>0&&r>=It;)r-=n,t<<=BigInt(n),t|=this.generateBigUintByBits(n),n=It-pi(t);if(n>0){const s=Math.min(r-1,n);t<<=BigInt(s),t|=this.generateBigUintByBits(s),r=Math.max(r-s,0)}return Number(t)*.5**It*.5**(1022-r)}generateUniform(t){if(t<1)return 0n;const r=t.toString(2).length,n=Math.ceil(r/8),s=BigInt(n*8-r);let i;do i=this.generateBigUintByBytes(n)>>s;while(i>t);return i}generateRandomIntegerInRange(t,r){const n=Math.ceil(t),s=Math.floor(r),i=s-n;if(i===0)return n;const a=Math.abs(i),o=Math.sign(i);if(!Number.isSafeInteger(a)||!Number.isSafeInteger(n)||!Number.isSafeInteger(s))return null;const l=BigInt(a);return Number(this.generateUniform(l))*o+n}}function pi(e){return e===0n?0:e.toString(2).length}function Pu(e){if(e.byteLength===0)return null;if(e.byteLength<8){const t=new Uint8Array(8);return t.set(new Uint8Array(e)),new DataView(t.buffer).getBigUint64(0,!0)}return new DataView(e).getBigUint64(0,!0)}function bs(e){if(e.byteLength===0)return null;if(e.byteLength<=8)return Pu(e);const t=new DataView(e);let r=0n,n=0n,s=0;for(;s<t.byteLength-7;s+=8,r+=64n)n|=t.getBigUint64(s,!0)<<r;if(s<t.byteLength){const i=new Uint8Array(8);i.set(new Uint8Array(e,s)),n|=new DataView(i.buffer).getBigUint64(0,!0)<<r}return n}class Fr extends xs{static _instance=new Fr;static get instance(){return Fr._instance}constructor(){super()}generateBigUintByBytes(t){let r=new Uint8Array(Math.ceil(t/8)*8);return r.length<1||!Number.isSafeInteger(t)?0n:(r=this.generateBytes(r.subarray(0,t)),bs(r.buffer)??0n)}generateBigUintByBits(t){if(t<1||!Number.isSafeInteger(t))return 0n;const r=Math.ceil(t/8),n=BigInt(r*8-t);return this.generateBigUintByBytes(r)>>n}generateBytes(t){return crypto.getRandomValues(t)}}var Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_a={exports:{}};(function(e){(function(t,r,n){function s(l){var c=this,g=o();c.next=function(){var m=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=m-(c.c=m|0)},c.c=1,c.s0=g(" "),c.s1=g(" "),c.s2=g(" "),c.s0-=g(l),c.s0<0&&(c.s0+=1),c.s1-=g(l),c.s1<0&&(c.s1+=1),c.s2-=g(l),c.s2<0&&(c.s2+=1),g=null}function i(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function a(l,c){var g=new s(l),m=c&&c.state,w=g.next;return w.int32=function(){return g.next()*4294967296|0},w.double=function(){return w()+(w()*2097152|0)*11102230246251565e-32},w.quick=w,m&&(typeof m=="object"&&i(m,g),w.state=function(){return i(g,{})}),w}function o(){var l=4022871197,c=function(g){g=String(g);for(var m=0;m<g.length;m++){l+=g.charCodeAt(m);var w=.02519603282416938*l;l=w>>>0,w-=l,w*=l,l=w>>>0,w-=l,l+=w*4294967296}return(l>>>0)*23283064365386963e-26};return c}r&&r.exports?r.exports=a:n&&n.amd?n(function(){return a}):this.alea=a})(Ye,e,!1)})(_a);var Ea={exports:{}};(function(e){(function(t,r,n){function s(o){var l=this,c="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var m=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^m^m>>>8},o===(o|0)?l.x=o:c+=o;for(var g=0;g<c.length+64;g++)l.x^=c.charCodeAt(g)|0,l.next()}function i(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l}function a(o,l){var c=new s(o),g=l&&l.state,m=function(){return(c.next()>>>0)/4294967296};return m.double=function(){do var w=c.next()>>>11,_=(c.next()>>>0)/4294967296,I=(w+_)/(1<<21);while(I===0);return I},m.int32=c.next,m.quick=m,g&&(typeof g=="object"&&i(g,c),m.state=function(){return i(c,{})}),m}r&&r.exports?r.exports=a:n&&n.amd?n(function(){return a}):this.xor128=a})(Ye,e,!1)})(Ea);var Ca={exports:{}};(function(e){(function(t,r,n){function s(o){var l=this,c="";l.next=function(){var m=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(m^m<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,o===(o|0)?l.x=o:c+=o;for(var g=0;g<c.length+64;g++)l.x^=c.charCodeAt(g)|0,g==c.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function i(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l.v=o.v,l.d=o.d,l}function a(o,l){var c=new s(o),g=l&&l.state,m=function(){return(c.next()>>>0)/4294967296};return m.double=function(){do var w=c.next()>>>11,_=(c.next()>>>0)/4294967296,I=(w+_)/(1<<21);while(I===0);return I},m.int32=c.next,m.quick=m,g&&(typeof g=="object"&&i(g,c),m.state=function(){return i(c,{})}),m}r&&r.exports?r.exports=a:n&&n.amd?n(function(){return a}):this.xorwow=a})(Ye,e,!1)})(Ca);var Aa={exports:{}};(function(e){(function(t,r,n){function s(o){var l=this;l.next=function(){var g=l.x,m=l.i,w,_;return w=g[m],w^=w>>>7,_=w^w<<24,w=g[m+1&7],_^=w^w>>>10,w=g[m+3&7],_^=w^w>>>3,w=g[m+4&7],_^=w^w<<7,w=g[m+7&7],w=w^w<<13,_^=w^w<<9,g[m]=_,l.i=m+1&7,_};function c(g,m){var w,_=[];if(m===(m|0))_[0]=m;else for(m=""+m,w=0;w<m.length;++w)_[w&7]=_[w&7]<<15^m.charCodeAt(w)+_[w+1&7]<<13;for(;_.length<8;)_.push(0);for(w=0;w<8&&_[w]===0;++w);for(w==8?_[7]=-1:_[w],g.x=_,g.i=0,w=256;w>0;--w)g.next()}c(l,o)}function i(o,l){return l.x=o.x.slice(),l.i=o.i,l}function a(o,l){o==null&&(o=+new Date);var c=new s(o),g=l&&l.state,m=function(){return(c.next()>>>0)/4294967296};return m.double=function(){do var w=c.next()>>>11,_=(c.next()>>>0)/4294967296,I=(w+_)/(1<<21);while(I===0);return I},m.int32=c.next,m.quick=m,g&&(g.x&&i(g,c),m.state=function(){return i(c,{})}),m}r&&r.exports?r.exports=a:n&&n.amd?n(function(){return a}):this.xorshift7=a})(Ye,e,!1)})(Aa);var Pa={exports:{}};(function(e){(function(t,r,n){function s(o){var l=this;l.next=function(){var g=l.w,m=l.X,w=l.i,_,I;return l.w=g=g+1640531527|0,I=m[w+34&127],_=m[w=w+1&127],I^=I<<13,_^=_<<17,I^=I>>>15,_^=_>>>12,I=m[w]=I^_,l.i=w,I+(g^g>>>16)|0};function c(g,m){var w,_,I,N,U,z=[],p=128;for(m===(m|0)?(_=m,m=null):(m=m+"\0",_=0,p=Math.max(p,m.length)),I=0,N=-32;N<p;++N)m&&(_^=m.charCodeAt((N+32)%m.length)),N===0&&(U=_),_^=_<<10,_^=_>>>15,_^=_<<4,_^=_>>>13,N>=0&&(U=U+1640531527|0,w=z[N&127]^=_+U,I=w==0?I+1:0);for(I>=128&&(z[(m&&m.length||0)&127]=-1),I=127,N=4*128;N>0;--N)_=z[I+34&127],w=z[I=I+1&127],_^=_<<13,w^=w<<17,_^=_>>>15,w^=w>>>12,z[I]=_^w;g.w=U,g.X=z,g.i=I}c(l,o)}function i(o,l){return l.i=o.i,l.w=o.w,l.X=o.X.slice(),l}function a(o,l){o==null&&(o=+new Date);var c=new s(o),g=l&&l.state,m=function(){return(c.next()>>>0)/4294967296};return m.double=function(){do var w=c.next()>>>11,_=(c.next()>>>0)/4294967296,I=(w+_)/(1<<21);while(I===0);return I},m.int32=c.next,m.quick=m,g&&(g.X&&i(g,c),m.state=function(){return i(c,{})}),m}r&&r.exports?r.exports=a:n&&n.amd?n(function(){return a}):this.xor4096=a})(Ye,e,!1)})(Pa);var Fa={exports:{}};(function(e){(function(t,r,n){function s(o){var l=this,c="";l.next=function(){var m=l.b,w=l.c,_=l.d,I=l.a;return m=m<<25^m>>>7^w,w=w-_|0,_=_<<24^_>>>8^I,I=I-m|0,l.b=m=m<<20^m>>>12^w,l.c=w=w-_|0,l.d=_<<16^w>>>16^I,l.a=I-m|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,o===Math.floor(o)?(l.a=o/4294967296|0,l.b=o|0):c+=o;for(var g=0;g<c.length+20;g++)l.b^=c.charCodeAt(g)|0,l.next()}function i(o,l){return l.a=o.a,l.b=o.b,l.c=o.c,l.d=o.d,l}function a(o,l){var c=new s(o),g=l&&l.state,m=function(){return(c.next()>>>0)/4294967296};return m.double=function(){do var w=c.next()>>>11,_=(c.next()>>>0)/4294967296,I=(w+_)/(1<<21);while(I===0);return I},m.int32=c.next,m.quick=m,g&&(typeof g=="object"&&i(g,c),m.state=function(){return i(c,{})}),m}r&&r.exports?r.exports=a:n&&n.amd?n(function(){return a}):this.tychei=a})(Ye,e,!1)})(Fa);var Ma={exports:{}};(function(e){(function(t,r,n){var s=256,i=6,a=52,o="random",l=n.pow(s,i),c=n.pow(2,a),g=c*2,m=s-1,w;function _(h,y,x){var E=[];y=y==!0?{entropy:!0}:y||{};var $=z(U(y.entropy?[h,f(r)]:h??p(),3),E),A=new I(E),j=function(){for(var q=A.g(i),X=l,pe=0;q<c;)q=(q+pe)*s,X*=s,pe=A.g(1);for(;q>=g;)q/=2,X/=2,pe>>>=1;return(q+pe)/X};return j.int32=function(){return A.g(4)|0},j.quick=function(){return A.g(4)/4294967296},j.double=j,z(f(A.S),r),(y.pass||x||function(q,X,pe,Pe){return Pe&&(Pe.S&&N(Pe,A),q.state=function(){return N(A,{})}),pe?(n[o]=q,X):q})(j,$,"global"in y?y.global:this==n,y.state)}function I(h){var y,x=h.length,E=this,$=0,A=E.i=E.j=0,j=E.S=[];for(x||(h=[x++]);$<s;)j[$]=$++;for($=0;$<s;$++)j[$]=j[A=m&A+h[$%x]+(y=j[$])],j[A]=y;(E.g=function(q){for(var X,pe=0,Pe=E.i,Ge=E.j,ye=E.S;q--;)X=ye[Pe=m&Pe+1],pe=pe*s+ye[m&(ye[Pe]=ye[Ge=m&Ge+X])+(ye[Ge]=X)];return E.i=Pe,E.j=Ge,pe})(s)}function N(h,y){return y.i=h.i,y.j=h.j,y.S=h.S.slice(),y}function U(h,y){var x=[],E=typeof h,$;if(y&&E=="object")for($ in h)try{x.push(U(h[$],y-1))}catch{}return x.length?x:E=="string"?h:h+"\0"}function z(h,y){for(var x=h+"",E,$=0;$<x.length;)y[m&$]=m&(E^=y[m&$]*19)+x.charCodeAt($++);return f(y)}function p(){try{var h;return w&&(h=w.randomBytes)?h=h(s):(h=new Uint8Array(s),(t.crypto||t.msCrypto).getRandomValues(h)),f(h)}catch{var y=t.navigator,x=y&&y.plugins;return[+new Date,t,x,t.screen,f(r)]}}function f(h){return String.fromCharCode.apply(0,h)}if(z(n.random(),r),e.exports){e.exports=_;try{w=require("crypto")}catch{}}else n["seed"+o]=_})(typeof self<"u"?self:Ye,[],Math)})(Ma);var Fu=_a.exports,Mu=Ea.exports,ku=Ca.exports,$u=Aa.exports,Ou=Pa.exports,Bu=Fa.exports,qt=Ma.exports;qt.alea=Fu;qt.xor128=Mu;qt.xorwow=ku;qt.xorshift7=$u;qt.xor4096=Ou;qt.tychei=Bu;var ka=qt;const kt=Int32Array.BYTES_PER_ELEMENT;class Su extends xs{rng;buffer;filledBuffer;constructor(t){super(),this.rng=ka(t.toString()),this.buffer=new Uint8Array(kt),this.filledBuffer=new Uint8Array(0)}fillBuffer(){this.buffer.fill(0),this.buffer=this.fillBufferDirect(this.buffer),this.filledBuffer=this.buffer}fillBufferDirect(t){if(t.length%kt!==0)throw new Error(`SeedRandomWrapper.fillBufferDirect should always be called with the buffer with the length a multiple-of-${kt}!`);const r=t.length/kt,n=new DataView(t.buffer);let s=0;for(let i=0;i<r;i++,s+=kt)n.setInt32(s,this.rng.int32(),!1);return t}generateBigUintByBytes(t){let r=new Uint8Array(Math.ceil(t/8)*8);return r.length<1||!Number.isSafeInteger(t)?0n:(r=this.generateBytes(r.subarray(0,t)),bs(r.buffer)??0n)}generateBigUintByBits(t){if(t<1||!Number.isSafeInteger(t))return 0n;const r=Math.ceil(t/8),n=BigInt(r*8-t);return this.generateBigUintByBytes(r)>>n}generateBytes(t){if(t.length<1)return t;t.fill(0);let r=t;if(r.length<=this.filledBuffer.length)return r.set(this.filledBuffer.subarray(0,r.length)),this.filledBuffer=this.filledBuffer.subarray(r.length),t;for(;r.length>0;){if(this.filledBuffer.length===0){if(r.length>=kt){const n=r.subarray(0,r.length-r.length%kt);this.fillBufferDirect(n),r=r.subarray(n.length);continue}this.fillBuffer()}if(r.length<=this.filledBuffer.length)return r.set(this.filledBuffer.subarray(0,r.length)),this.filledBuffer=this.filledBuffer.subarray(r.length),t;r.set(this.filledBuffer),r=r.subarray(this.filledBuffer.length),this.fillBuffer()}return t}}const Dr=64,Iu=20,Lr=32,di=8;function Ur(e,t){return e<<t|e>>>32-t}function bt(e,t,r,n,s){if(e.length<16)return;let i=e[t],a=e[r],o=e[n],l=e[s];i===void 0||a===void 0||o===void 0||l===void 0||(i=i+a|0,l=Ur(l^i,16),o=o+l|0,a=Ur(a^o,12),i=i+a|0,l=Ur(l^i,8),o=o+l|0,a=Ur(a^o,7),e[t]=i,e[r]=a,e[n]=o,e[s]=l)}function Nu(e,t){if(!(e.length<16||t.length<16)){e.set(t);for(let r=0;r<Iu;r+=2)bt(e,0,4,8,12),bt(e,1,5,9,13),bt(e,2,6,10,14),bt(e,3,7,11,15),bt(e,0,5,10,15),bt(e,1,6,11,12),bt(e,2,7,8,13),bt(e,3,4,9,14);for(let r=0;r<16;r++){let n=e[r];const s=t[r];if(n===void 0||s===void 0)throw new Error("generateChaCha20: Something went wrong!");n=n+s|0,e[r]=n}}}class Tu extends xs{keynonce;state;buffer;filledBuffer;counter;constructor(t){const r=di+Lr;super();let n;if(typeof t>"u")n=crypto.getRandomValues(new Uint8Array(r));else if(n=t,n.byteLength>r&&(n=t.subarray(0,r)),n.byteLength<r){const o=new Uint8Array(r);o.set(n),n=o}const s=n.subarray(0,Lr),i=n.subarray(Lr,Lr+di),a=new Uint8Array(16*4);a.set([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),a.set(s,4*4),a.set(i,14*4),this.keynonce=new Uint32Array(a.buffer),this.state=new Uint32Array(16),this.buffer=new Uint8Array(Dr),this.counter=0n,this.filledBuffer=new Uint8Array(0)}fillBuffer(){this.buffer.fill(0),this.buffer=this.fillBufferDirect(this.buffer),this.filledBuffer=this.buffer}fillBufferDirect(t){if(t.length%Dr!==0)throw new Error("ChaCha20.fillBufferDirect should always be called with the buffer with the length a multiple-of-64!");t.fill(0);let r=this.counter;const n=this.state,s=new BigUint64Array(n.buffer);let i=t;for(;i.length>0;){const a=i.subarray(0,n.byteLength),o=new Uint32Array(a.buffer);n.set(this.keynonce),s[6]=BigInt.asUintN(64,r),Nu(o,n),i=i.subarray(a.length),r=BigInt.asUintN(64,r+1n)}return this.counter=r,t}generateBigUintByBytes(t){let r=new Uint8Array(Math.ceil(t/8)*8);return r.length<1||!Number.isSafeInteger(t)?0n:(r=this.generateBytes(r.subarray(0,t)),bs(r.buffer)??0n)}generateBigUintByBits(t){if(t<1||!Number.isSafeInteger(t))return 0n;const r=Math.ceil(t/8),n=BigInt(r*8-t);return this.generateBigUintByBytes(r)>>n}generateBytes(t){if(t.length<1)return t;t.fill(0);let r=t;if(r.length<=this.filledBuffer.length)return r.set(this.filledBuffer.subarray(0,r.length)),this.filledBuffer=this.filledBuffer.subarray(r.length),t;for(;r.length>0;){if(this.filledBuffer.length===0){if(r.length>=Dr){const n=r.subarray(0,r.length-r.length%Dr);this.fillBufferDirect(n),r=r.subarray(n.length);continue}this.fillBuffer()}if(r.length<=this.filledBuffer.length)return r.set(this.filledBuffer.subarray(0,r.length)),this.filledBuffer=this.filledBuffer.subarray(r.length),t;r.set(this.filledBuffer),r=r.subarray(this.filledBuffer.length),this.fillBuffer()}return t}}function Ru(e){if(!e||e.type!=="num"&&e.type!=="str")return Y;const t=ka(e.value.toString());return b(([r,n])=>r&&r.type==="num"&&n&&n.type==="num"?k(Math.floor(t()*(Math.floor(n.value)-Math.ceil(r.value)+1)+Math.ceil(r.value))):k(t()))}function Du(e){if(!e||e.type!=="num"&&e.type!=="str")return Y;const t=new Su(e.value);return b(([r,n])=>{if(r&&r.type==="num"&&n&&n.type==="num"){const s=t.generateRandomIntegerInRange(r.value,n.value);return typeof s=="number"?k(s):Y}return k(t.generateNumber0To1())})}async function Lu(e){if(!e||e.type!=="num"&&e.type!=="str"&&e.type!=="null")return Y;let t;e.type==="num"?t=new Uint8Array(await crypto.subtle.digest("SHA-384",new Uint8Array(new Float64Array([e.value])))):e.type==="str"&&(t=new Uint8Array(await crypto.subtle.digest("SHA-384",new Uint8Array(ba.encode(e.value)))));const r=new Tu(t);return b(([n,s])=>{if(n&&n.type==="num"&&s&&s.type==="num"){const i=r.generateRandomIntegerInRange(n.value,s.value);return typeof i=="number"?k(i):Y}return k(r.generateNumber0To1())})}const Uu={help:te("SEE: https://github.com/syuilo/aiscript/blob/master/docs/get-started.md"),"Core:v":te(xa),"Core:ai":te("kawaii"),"Core:not":b(([e])=>(Ie(e),e.value?ke:Me)),"Core:eq":b(([e,t])=>(Ne(e),Ne(t),er(e,t)?Me:ke)),"Core:neq":b(([e,t])=>(Ne(e),Ne(t),er(e,t)?ke:Me)),"Core:and":b(([e,t])=>(Ie(e),e.value?(Ie(t),t.value?Me:ke):ke)),"Core:or":b(([e,t])=>(Ie(e),e.value?Me:(Ie(t),t.value?Me:ke))),"Core:add":b(([e,t])=>(P(e),P(t),k(e.value+t.value))),"Core:sub":b(([e,t])=>(P(e),P(t),k(e.value-t.value))),"Core:mul":b(([e,t])=>(P(e),P(t),k(e.value*t.value))),"Core:pow":b(([e,t])=>{P(e),P(t);const r=e.value**t.value;return k(r)}),"Core:div":b(([e,t])=>{P(e),P(t);const r=e.value/t.value;return k(r)}),"Core:mod":b(([e,t])=>(P(e),P(t),k(e.value%t.value))),"Core:gt":b(([e,t])=>(P(e),P(t),e.value>t.value?Me:ke)),"Core:lt":b(([e,t])=>(P(e),P(t),e.value<t.value?Me:ke)),"Core:gteq":b(([e,t])=>(P(e),P(t),e.value>=t.value?Me:ke)),"Core:lteq":b(([e,t])=>(P(e),P(t),e.value<=t.value?Me:ke)),"Core:type":b(([e])=>(Ne(e),te(e.type))),"Core:to_str":b(([e])=>(Ne(e),te(tr(e)))),"Core:range":b(([e,t])=>(P(e),P(t),e.value<t.value?de(Array.from({length:t.value-e.value+1},(r,n)=>k(n+e.value))):e.value>t.value?de(Array.from({length:e.value-t.value+1},(r,n)=>k(e.value-n))):de([e]))),"Core:sleep":b(async([e])=>(P(e),await new Promise(t=>setTimeout(t,e.value)),Y)),"Core:abort":b(async([e])=>{throw le(e),new cu(e.value)}),"Util:uuid":b(()=>te(vu())),"Json:stringify":b(([e])=>(Ne(e),te(JSON.stringify(Jn(e))))),"Json:parse":b(([e])=>{le(e);try{return Gn(JSON.parse(e.value))}catch{return Zr("not_json")}}),"Json:parsable":b(([e])=>{le(e);try{JSON.parse(e.value)}catch{return Lt(!1)}return Lt(!0)}),"Date:now":b(()=>k(Date.now())),"Date:year":b(([e])=>(e&&P(e),k(new Date(e?.value??Date.now()).getFullYear()))),"Date:month":b(([e])=>(e&&P(e),k(new Date(e?.value??Date.now()).getMonth()+1))),"Date:day":b(([e])=>(e&&P(e),k(new Date(e?.value??Date.now()).getDate()))),"Date:hour":b(([e])=>(e&&P(e),k(new Date(e?.value??Date.now()).getHours()))),"Date:minute":b(([e])=>(e&&P(e),k(new Date(e?.value??Date.now()).getMinutes()))),"Date:second":b(([e])=>(e&&P(e),k(new Date(e?.value??Date.now()).getSeconds()))),"Date:millisecond":b(([e])=>(e&&P(e),k(new Date(e?.value??Date.now()).getMilliseconds()))),"Date:parse":b(([e])=>{le(e);const t=new Date(e.value).getTime();return t===t?k(t):Zr("not_date")}),"Date:to_iso_str":b(([e,t])=>{e&&P(e);const r=new Date(e?.value??Date.now());t&&P(t);const n=t?.value??-r.getTimezoneOffset();let s;if(n===0)s="Z";else{const w=Math.sign(n),_=Math.floor(Math.abs(n)/60),I=Math.abs(n)%60;r.setUTCHours(r.getUTCHours()+w*_),r.setUTCMinutes(r.getUTCMinutes()+w*I);const N=n>0?"+":"-",U=_.toString().padStart(2,"0"),z=I.toString().padStart(2,"0");s=`${N}${U}:${z}`}const i=r.getUTCFullYear().toString().padStart(4,"0"),a=(r.getUTCMonth()+1).toString().padStart(2,"0"),o=r.getUTCDate().toString().padStart(2,"0"),l=r.getUTCHours().toString().padStart(2,"0"),c=r.getUTCMinutes().toString().padStart(2,"0"),g=r.getUTCSeconds().toString().padStart(2,"0"),m=r.getUTCMilliseconds().toString().padStart(3,"0");return te(`${i}-${a}-${o}T${l}:${c}:${g}.${m}${s}`)}),"Math:Infinity":k(1/0),"Math:E":k(Math.E),"Math:LN2":k(Math.LN2),"Math:LN10":k(Math.LN10),"Math:LOG2E":k(Math.LOG2E),"Math:LOG10E":k(Math.LOG10E),"Math:PI":k(Math.PI),"Math:SQRT1_2":k(Math.SQRT1_2),"Math:SQRT2":k(Math.SQRT2),"Math:abs":b(([e])=>(P(e),k(Math.abs(e.value)))),"Math:acos":b(([e])=>(P(e),k(Math.acos(e.value)))),"Math:acosh":b(([e])=>(P(e),k(Math.acosh(e.value)))),"Math:asin":b(([e])=>(P(e),k(Math.asin(e.value)))),"Math:asinh":b(([e])=>(P(e),k(Math.asinh(e.value)))),"Math:atan":b(([e])=>(P(e),k(Math.atan(e.value)))),"Math:atanh":b(([e])=>(P(e),k(Math.atanh(e.value)))),"Math:atan2":b(([e,t])=>(P(e),P(t),k(Math.atan2(e.value,t.value)))),"Math:cbrt":b(([e])=>(P(e),k(Math.cbrt(e.value)))),"Math:ceil":b(([e])=>(P(e),k(Math.ceil(e.value)))),"Math:clz32":b(([e])=>(P(e),k(Math.clz32(e.value)))),"Math:cos":b(([e])=>(P(e),k(Math.cos(e.value)))),"Math:cosh":b(([e])=>(P(e),k(Math.cosh(e.value)))),"Math:exp":b(([e])=>(P(e),k(Math.exp(e.value)))),"Math:expm1":b(([e])=>(P(e),k(Math.expm1(e.value)))),"Math:floor":b(([e])=>(P(e),k(Math.floor(e.value)))),"Math:fround":b(([e])=>(P(e),k(Math.fround(e.value)))),"Math:hypot":b(([e])=>{mt(e);const t=[];for(const r of e.value)P(r),t.push(r.value);return k(Math.hypot(...t))}),"Math:imul":b(([e,t])=>(P(e),P(t),k(Math.imul(e.value,t.value)))),"Math:log":b(([e])=>(P(e),k(Math.log(e.value)))),"Math:log1p":b(([e])=>(P(e),k(Math.log1p(e.value)))),"Math:log10":b(([e])=>(P(e),k(Math.log10(e.value)))),"Math:log2":b(([e])=>(P(e),k(Math.log2(e.value)))),"Math:max":b(([e,t])=>(P(e),P(t),k(Math.max(e.value,t.value)))),"Math:min":b(([e,t])=>(P(e),P(t),k(Math.min(e.value,t.value)))),"Math:pow":b(([e,t])=>(P(e),P(t),k(Math.pow(e.value,t.value)))),"Math:round":b(([e])=>(P(e),k(Math.round(e.value)))),"Math:sign":b(([e])=>(P(e),k(Math.sign(e.value)))),"Math:sin":b(([e])=>(P(e),k(Math.sin(e.value)))),"Math:sinh":b(([e])=>(P(e),k(Math.sinh(e.value)))),"Math:sqrt":b(([e])=>{P(e);const t=Math.sqrt(e.value);return k(t)}),"Math:tan":b(([e])=>(P(e),k(Math.tan(e.value)))),"Math:tanh":b(([e])=>(P(e),k(Math.tanh(e.value)))),"Math:trunc":b(([e])=>(P(e),k(Math.trunc(e.value)))),"Math:rnd":b(([e,t])=>{if(e&&e.type==="num"&&t&&t.type==="num"){const r=Fr.instance.generateRandomIntegerInRange(e.value,t.value);return r===null?Y:k(r)}return k(Fr.instance.generateNumber0To1())}),"Math:gen_rng":b(async([e,t])=>{Ne(e);let r="chacha20";if(t?.type==="obj"){const n=t.value.get("algorithm");if(n?.type!=="str")throw new ne("`options.algorithm` must be string.");r=n.value}else if(t?.type!==void 0)throw new ne("`options` must be an object if specified.");if(e.type!=="num"&&e.type!=="str"&&e.type!=="null")throw new ne("`seed` must be either number or string if specified.");switch(r){case"rc4_legacy":return Ru(e);case"rc4":return Du(e);case"chacha20":return await Lu(e);default:throw new ne("`options.algorithm` must be one of these: `chacha20`, `rc4`, or `rc4_legacy`.")}}),"Num:from_hex":b(([e])=>(le(e),k(parseInt(e.value,16)))),"Str:lf":te(`
`),"Str:lt":b(([e,t])=>(le(e),le(t),e.value<t.value?k(-1):e.value===t.value?k(0):k(1))),"Str:gt":b(([e,t])=>(le(e),le(t),e.value>t.value?k(-1):e.value===t.value?k(0):k(1))),"Str:from_codepoint":b(([e])=>(P(e),te(String.fromCodePoint(e.value)))),"Str:from_unicode_codepoints":b(([e])=>(mt(e),te(Array.from(e.value.map(t=>(P(t),String.fromCodePoint(t.value)))).join("")))),"Str:from_utf8_bytes":b(([e])=>(mt(e),te(Cu.decode(Uint8Array.from(e.value.map(t=>(P(t),t.value))))))),"Uri:encode_full":b(([e])=>(le(e),te(encodeURI(e.value)))),"Uri:encode_component":b(([e])=>(le(e),te(encodeURIComponent(e.value)))),"Uri:decode_full":b(([e])=>(le(e),te(decodeURI(e.value)))),"Uri:decode_component":b(([e])=>(le(e),te(decodeURIComponent(e.value)))),"Arr:create":b(([e,t])=>{P(e);try{return de(Array(e.value).fill(t??Y))}catch(r){throw e.value<0?new ne("Arr:create expected non-negative number, got negative"):Number.isInteger(e.value)?r:new ne("Arr:create expected integer, got non-integer")}}),"Obj:keys":b(([e])=>(Je(e),de(Array.from(e.value.keys()).map(t=>te(t))))),"Obj:vals":b(([e])=>(Je(e),de(Array.from(e.value.values())))),"Obj:kvs":b(([e])=>(Je(e),de(Array.from(e.value.entries()).map(([t,r])=>de([te(t),r]))))),"Obj:get":b(([e,t])=>(Je(e),le(t),e.value.get(t.value)??Y)),"Obj:set":b(([e,t,r])=>(Je(e),le(t),Ne(r),e.value.set(t.value,r),Y)),"Obj:has":b(([e,t])=>(Je(e),le(t),Lt(e.value.has(t.value)))),"Obj:copy":b(([e])=>(Je(e),sn(new Map(e.value)))),"Obj:merge":b(([e,t])=>(Je(e),Je(t),sn(new Map([...e.value,...t.value])))),"Error:create":b(([e,t])=>(le(e),Zr(e.value,t))),"Async:interval":b(async([e,t,r],n)=>{P(e),xe(t),r&&(Ie(r),r.value&&n.call(t,[]));const s=setInterval(()=>{n.topCall(t,[])},e.value),i=()=>{clearInterval(s)};return n.registerAbortHandler(i),b(([],a)=>{clearInterval(s),a.unregisterAbortHandler(i)})}),"Async:timeout":b(async([e,t],r)=>{P(e),xe(t);const n=setTimeout(()=>{r.topCall(t,[])},e.value),s=()=>{clearTimeout(n)};return r.registerAbortHandler(s),b(([],i)=>{clearTimeout(n),i.unregisterAbortHandler(s)})})};var Kt={},ju=()=>{const e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s="\\u1ab0-\\u1aff",i="\\u1dc0-\\u1dff",a=t+r+n+s+i,o="\\ufe0e\\ufe0f",l="\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83C\\uDF93",c=`[${e}]`,g=`[${a}]`,m="\\ud83c[\\udffb-\\udfff]",w=`(?:${g}|${m})`,_=`[^${e}]`,I="(?:\\uD83C[\\uDDE6-\\uDDFF]){2}",N="[\\ud800-\\udbff][\\udc00-\\udfff]",U="\\u200d",z="(?:\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40(?:\\udc65|\\udc73|\\udc77)\\udb40(?:\\udc6e|\\udc63|\\udc6c)\\udb40(?:\\udc67|\\udc74|\\udc73)\\udb40\\udc7f)",p=`[${l}]`,f=`${w}?`,h=`[${o}]?`,y=`(?:${U}(?:${[_,I,N].join("|")})${h+f})*`,x=h+f+y,$=`(?:${[`${_}${g}?`,g,I,N,c,p].join("|")})`;return new RegExp(`${z}|${m}(?=${m})|${$+x}`,"g")},qu=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kt,"__esModule",{value:!0});var yn=qu(ju);function Xn(e){if(typeof e!="string")throw new Error("A string is expected as input");return e.match(yn.default())||[]}var kn=Kt.toArray=Xn;function _s(e){if(typeof e!="string")throw new Error("Input must be a string");var t=e.match(yn.default());return t===null?0:t.length}var Ku=Kt.length=_s;function $a(e,t,r){if(t===void 0&&(t=0),typeof e!="string")throw new Error("Input must be a string");(typeof t!="number"||t<0)&&(t=0),typeof r=="number"&&r<0&&(r=0);var n=e.match(yn.default());return n?n.slice(t,r).join(""):""}var Hu=Kt.substring=$a;function zu(e,t,r){if(t===void 0&&(t=0),typeof e!="string")throw new Error("Input must be a string");var n=_s(e);if(typeof t!="number"&&(t=parseInt(t,10)),t>=n)return"";t<0&&(t+=n);var s;typeof r>"u"?s=n:(typeof r!="number"&&(r=parseInt(r,10)),s=r>=0?r+t:t);var i=e.match(yn.default());return i?i.slice(t,s).join(""):""}Kt.substr=zu;function Wu(e,t,r,n){if(t===void 0&&(t=16),r===void 0&&(r="#"),n===void 0&&(n="right"),typeof e!="string"||typeof t!="number")throw new Error("Invalid arguments specified");if(["left","right"].indexOf(n)===-1)throw new Error("Pad position should be either left or right");typeof r!="string"&&(r=String(r));var s=_s(e);if(s>t)return $a(e,0,t);if(s<t){var i=r.repeat(t-s);return n==="left"?i+e:e+i}return e}Kt.limit=Wu;function Vu(e,t,r){if(r===void 0&&(r=0),typeof e!="string")throw new Error("Input must be a string");if(e==="")return t===""?0:-1;r=Number(r),r=isNaN(r)?0:r,t=String(t);var n=Xn(e);if(r>=n.length)return t===""?n.length:-1;if(t==="")return r;var s=Xn(t),i=!1,a;for(a=r;a<n.length;a+=1){for(var o=0;o<s.length&&s[o]===n[a+o];)o+=1;if(o===s.length&&s[o-1]===n[a+o-1]){i=!0;break}}return i?a:-1}var Yu=Kt.indexOf=Vu;const gi={num:{to_str:e=>b(async(t,r)=>te(e.value.toString())),to_hex:e=>b(async(t,r)=>te(e.value.toString(16)))},str:{to_num:e=>b(async(t,r)=>{const n=parseInt(e.value,10);return isNaN(n)?Y:k(n)}),to_arr:e=>b(async(t,r)=>de(kn(e.value).map(n=>te(n)))),to_unicode_arr:e=>b(async(t,r)=>de([...e.value].map(n=>te(n)))),to_unicode_codepoint_arr:e=>b(async(t,r)=>de([...e.value].map(n=>{const s=n.codePointAt(0);return k(s??n.charCodeAt(0))}))),to_char_arr:e=>b(async(t,r)=>de(e.value.split("").map(n=>te(n)))),to_charcode_arr:e=>b(async(t,r)=>de(e.value.split("").map(n=>k(n.charCodeAt(0))))),to_utf8_byte_arr:e=>b(async(t,r)=>de(Array.from(ba.encode(e.value)).map(n=>k(n)))),len:e=>k(Ku(e.value)),replace:e=>b(async([t,r],n)=>(le(t),le(r),te(e.value.split(t.value).join(r.value)))),index_of:e=>b(async([t,r],n)=>{le(t),r&&P(r);const s=r?r.value<0?e.value.length+r.value:r.value:void 0;return k(Yu(e.value,t.value,s))}),incl:e=>b(async([t],r)=>(le(t),e.value.includes(t.value)?Me:ke)),trim:e=>b(async(t,r)=>te(e.value.trim())),upper:e=>b(async(t,r)=>te(e.value.toUpperCase())),lower:e=>b(async(t,r)=>te(e.value.toLowerCase())),split:e=>b(async([t],r)=>(t&&le(t),de(t?e.value.split(t?t.value:"").map(n=>te(n)):kn(e.value).map(n=>te(n))))),slice:e=>b(async([t,r],n)=>(P(t),P(r),te(Hu(e.value,t.value,r.value)))),pick:e=>b(async([t],r)=>{P(t);const s=kn(e.value)[t.value];return s?te(s):Y}),charcode_at:e=>b(([t],r)=>{P(t);const n=e.value.charCodeAt(t.value);return Number.isNaN(n)?Y:k(n)}),codepoint_at:e=>b(([t],r)=>{P(t);const n=e.value.codePointAt(t.value)??e.value.charCodeAt(t.value);return Number.isNaN(n)?Y:k(n)}),starts_with:e=>b(async([t,r],n)=>{if(le(t),!t.value)return Me;r&&P(r);const s=r?.value??0;if(s<-e.value.length||s>e.value.length)return ke;const i=s>=0?s:e.value.length+s;return e.value.startsWith(t.value,i)?Me:ke}),ends_with:e=>b(async([t,r],n)=>{if(le(t),!t.value)return Me;r&&P(r);const s=r?.value??e.value.length;if(s<-e.value.length||s>e.value.length)return ke;const i=s>=0?s:e.value.length+s;return e.value.endsWith(t.value,i)?Me:ke}),pad_start:e=>b(([t,r],n)=>{P(t);const s=r?(le(r),r.value):" ";return te(e.value.padStart(t.value,s))}),pad_end:e=>b(([t,r],n)=>{P(t);const s=r?(le(r),r.value):" ";return te(e.value.padEnd(t.value,s))})},arr:{len:e=>k(e.value.length),push:e=>b(async([t],r)=>(Ne(t),e.value.push(t),e)),unshift:e=>b(async([t],r)=>(Ne(t),e.value.unshift(t),e)),pop:e=>b(async(t,r)=>e.value.pop()??Y),shift:e=>b(async(t,r)=>e.value.shift()??Y),concat:e=>b(async([t],r)=>(mt(t),de(e.value.concat(t.value)))),slice:e=>b(async([t,r],n)=>(P(t),P(r),de(e.value.slice(t.value,r.value)))),join:e=>b(async([t],r)=>(t&&le(t),te(e.value.map(n=>n.type==="str"?n.value:"").join(t?t.value:"")))),map:e=>b(async([t],r)=>{xe(t);const n=e.value.map(async(s,i)=>await r.call(t,[s,k(i)]));return de(await Promise.all(n))}),filter:e=>b(async([t],r)=>{xe(t);const n=[];for(let s=0;s<e.value.length;s++){const i=e.value[s],a=await r.call(t,[i,k(s)]);Ie(a),a.value&&n.push(i)}return de(n)}),reduce:e=>b(async([t,r],n)=>{xe(t);const s=r!=null;if(!s&&e.value.length===0)throw new ne("Reduce of empty array without initial value");let i=s?r:e.value[0];for(let a=s?0:1;a<e.value.length;a++){const o=e.value[a];i=await n.call(t,[i,o,k(a)])}return i}),find:e=>b(async([t],r)=>{xe(t);for(let n=0;n<e.value.length;n++){const s=e.value[n],i=await r.call(t,[s,k(n)]);if(Ie(i),i.value)return s}return Y}),incl:e=>b(async([t],r)=>(Ne(t),e.value.some(n=>er(t,n))?Me:ke)),index_of:e=>b(async([t,r],n)=>{if(Ne(t),r){P(r);const s=e.value.slice(0,r.value).length,i=e.value.slice(r.value).findIndex(a=>er(a,t));return k(i<0?i:i+s)}else return k(e.value.findIndex(s=>er(s,t)))}),reverse:e=>b(async(t,r)=>(e.value.reverse(),Y)),copy:e=>b(async(t,r)=>de([...e.value])),sort:e=>b(async([t],r)=>{const n=async(i,a)=>{if(i.length<=1)return i;const o=Math.floor(i.length/2),l=n(i.slice(0,o),a),c=n(i.slice(o),a),[g,m]=await Promise.all([l,c]);return s(g,m,a)},s=async(i,a,o)=>{const l=[];let c=0,g=0;for(;c<i.length&&g<a.length;){const m=i[c],w=a[g],_=await r.call(o,[m,w]);P(_),_.value<=0?(l.push(i[c]),c++):(l.push(a[g]),g++)}return l.concat(i.slice(c)).concat(a.slice(g))};return xe(t),mt(e),e.value=await n(e.value,t),e}),fill:e=>b(async([t,r,n],s)=>{const i=t??Y,a=r&&(P(r),r.value),o=n&&(P(n),n.value);return e.value.fill(i,a,o),e}),repeat:e=>b(async([t],r)=>{P(t);try{return de(Array(t.value).fill(e.value).flat())}catch(n){throw t.value<0?new ne("arr.repeat expected non-negative number, got negative"):Number.isInteger(t.value)?n:new ne("arr.repeat expected integer, got non-integer")}}),splice:e=>b(async([t,r,n],s)=>{P(t);const i=t.value<-e.value.length?0:t.value<0?e.value.length+t.value:t.value>=e.value.length?e.value.length:t.value,a=r!=null?(P(r),r.value):e.value.length-i,o=n!=null?(mt(n),n.value):[],l=e.value.splice(i,a,...o);return de(l)}),flat:e=>b(async([t],r)=>{if(t=t??k(1),P(t),!Number.isInteger(t.value))throw new ne("arr.flat expected integer, got non-integer");if(t.value<0)throw new ne("arr.flat expected non-negative number, got negative");const n=(i,a,o)=>{if(a===0){o.push(...i);return}for(const l of i)an(l)?n(l.value,a-1,o):o.push(l)},s=[];return n(e.value,t.value,s),de(s)}),flat_map:e=>b(async([t],r)=>{xe(t);const n=e.value.map(async(i,a)=>{const o=await r.call(t,[i,k(a)]);return an(o)?o.value:o}),s=await Promise.all(n);return de(s.flat())}),every:e=>b(async([t],r)=>{xe(t);for(let n=0;n<e.value.length;n++){const s=e.value[n],i=await r.call(t,[s,k(n)]);if(Ie(i),!i.value)return ke}return Me}),some:e=>b(async([t],r)=>{xe(t);for(let n=0;n<e.value.length;n++){const s=e.value[n],i=await r.call(t,[s,k(n)]);if(Ie(i),i.value)return Me}return ke}),insert:e=>b(async([t,r],n)=>(P(t),Ne(r),e.value.splice(t.value,0,r),Y)),remove:e=>b(async([t],r)=>(P(t),e.value.splice(t.value,1)[0]??Y)),at:e=>b(async([t,r],n)=>(P(t),e.value.at(t.value)??r??Y))},error:{name:e=>te(e.value),info:e=>e.info??Y}};function Zu(e,t){if(Object.hasOwn(gi,e.type)){const r=gi[e.type];if(Object.hasOwn(r,t))return r[t](e);throw new ne(`No such prop (${t}) in ${e.type}.`)}else throw new ne(`Cannot read prop of ${e.type}. (reading ${t})`)}const Ju={mut(e){return{isMutable:!0,value:e}},const(e){return{isMutable:!1,value:e}}};var Oe=globalThis&&globalThis.__decorate||function(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i};class Ae{opts;stepCount=0;stop=!1;scope;abortHandlers=[];vars={};irqRate;irqSleep;constructor(t,r={}){this.opts=r;const n={print:b(([i])=>{Ne(i),this.opts.out&&this.opts.out(i)}),readline:b(async i=>{const a=i[0];if(le(a),this.opts.in==null)return Y;const o=await this.opts.in(a.value);return te(o)})};if(this.vars=Object.fromEntries(Object.entries({...t,...Uu,...n}).map(([i,a])=>[i,Ju.const(a)])),this.scope=new He([new Map(Object.entries(this.vars))]),this.scope.opts.log=(i,a)=>{switch(i){case"add":this.log("var:add",a);break;case"read":this.log("var:read",a);break;case"write":this.log("var:write",a);break}},!((this.opts.irqRate??300)>=0))throw new ci(`Invalid IRQ rate (${this.opts.irqRate}): must be non-negative number`);this.irqRate=this.opts.irqRate??300;const s=i=>()=>new Promise(a=>setTimeout(a,i));if(typeof this.opts.irqSleep=="function")this.irqSleep=this.opts.irqSleep;else if(this.opts.irqSleep===void 0)this.irqSleep=s(5);else if(this.opts.irqSleep>=0)this.irqSleep=s(this.opts.irqSleep);else throw new ci("irqSleep must be a function or a positive number.")}async exec(t){if(!(t==null||t.length===0))try{await this.collectNs(t);const r=await this._run(t,this.scope,[]);this.log("end",{val:r})}catch(r){this.handleError(r)}}async execFn(t,r){return await this._fn(t,r,[]).catch(n=>(this.handleError(n),Zr("func_failed")))}execFnSimple(t,r){return this._fn(t,r,[])}static collectMetadata(t){if(t==null||t.length===0)return;function r(s){switch(s.type){case"arr":return s.value.map(i=>r(i));case"bool":return s.value;case"null":return null;case"num":return s.value;case"obj":{const i={};for(const[a,o]of s.value.entries())i[a]=r(o);return i}case"str":return s.value;default:return}}const n=new Map;for(const s of t)switch(s.type){case"meta":{n.set(s.name,r(s.value));break}}return n}handleError(t){if(!this.opts.err)throw t;if(this.opts.abortOnError){if(this.stop)return;this.abort()}t instanceof yt?this.opts.err(t):this.opts.err(new li(t))}log(t,r){this.opts.log&&this.opts.log(t,r)}async collectNs(t,r=this.scope){for(const n of t)switch(n.type){case"ns":{await this.collectNsMember(n,r);break}}}async collectNsMember(t,r=this.scope){const n=r.createChildNamespaceScope(t.name);await this.collectNs(t.members,n);for(const s of t.members)switch(s.type){case"def":{if(s.dest.type!=="identifier")throw new Pn("Destructuring assignment is invalid in namespace declarations.",s.loc.start);if(s.mut)throw new Pn('No "var" in namespace declaration: '+s.dest.name,s.loc.start);const i=await this._eval(s.expr,n,[]);s.expr.type==="fn"&&hi(i)&&!i.native&&(i.name=n.getNsPrefix()+s.dest.name),await this.define(n,s.dest,i,s.mut);break}case"ns":break;default:{const a=s;throw new Pn("invalid ns member type: "+a.type,a.loc.start)}}}async _fn(t,r,n,s){if(t.native){const i={name:"<native>",pos:s};return t.native(r,{call:(o,l)=>this._fn(o,l,[...n,i]),topCall:this.execFn,registerAbortHandler:this.registerAbortHandler,unregisterAbortHandler:this.unregisterAbortHandler})??Y}else{const i=t.scope.createChildScope();for(const[o,l]of t.params.entries()){const c=r[o];l.default||Ne(c),this.define(i,l.dest,c??l.default,!0)}const a={name:t.name??"<anonymous>",pos:s};return _u(await this._run(t.statements,i,[...n,a]))}}_evalClause(t,r,n){return this._eval(t,hu(t)?r.createChildScope():r,n)}_eval(t,r,n){return this.__eval(t,r,n).catch(s=>{if(s.pos)throw s;{const i=s instanceof yt?s:new li(s);throw i.pos=t.loc.start,i.message=[i.message,...[...n,{pos:i.pos}].map(({pos:a},o)=>{const l=n[o-1]?.name??"<root>";return a?`  at ${l} (Line ${a.line}, Column ${a.column})`:`  at ${l}`}).reverse()].join(`
`),i}})}async __eval(t,r,n){if(this.stop)return Y;if(this.irqRate!==0&&this.stepCount%this.irqRate>=this.irqRate-1&&await this.irqSleep(),this.stepCount++,this.opts.maxStep&&this.stepCount>this.opts.maxStep)throw new ne("max step exceeded");switch(t.type){case"call":{const s=await this._eval(t.target,r,n);xe(s);const i=await Promise.all(t.args.map(a=>this._eval(a,r,n)));return this._fn(s,i,n,t.loc.start)}case"if":{const s=await this._eval(t.cond,r,n);if(Ie(s),s.value)return this._evalClause(t.then,r,n);for(const i of t.elseif){const a=await this._eval(i.cond,r,n);if(Ie(a),a.value)return this._evalClause(i.then,r,n)}return t.else?this._evalClause(t.else,r,n):Y}case"match":{const s=await this._eval(t.about,r,n);for(const i of t.qs){const a=await this._eval(i.q,r,n);if(er(s,a))return await this._evalClause(i.a,r,n)}return t.default?await this._evalClause(t.default,r,n):Y}case"loop":{for(;;){const s=await this._run(t.statements,r.createChildScope(),n);if(s.type==="break")break;if(s.type==="return")return s}return Y}case"for":{if(t.times){const s=await this._eval(t.times,r,n);P(s);for(let i=0;i<s.value;i++){const a=await this._evalClause(t.for,r,n);if(a.type==="break")break;if(a.type==="return")return a}}else{const s=await this._eval(t.from,r,n),i=await this._eval(t.to,r,n);P(s),P(i);for(let a=s.value;a<s.value+i.value;a++){const o=await this._eval(t.for,r.createChildScope(new Map([[t.var,{isMutable:!1,value:k(a)}]])),n);if(o.type==="break")break;if(o.type==="return")return o}}return Y}case"each":{const s=await this._eval(t.items,r,n);mt(s);for(const i of s.value){const a=r.createChildScope();this.define(a,t.var,i,!1);const o=await this._eval(t.for,a,n);if(o.type==="break")break;if(o.type==="return")return o}return Y}case"def":{const s=await this._eval(t.expr,r,n);if(t.attr.length>0){const i=[];for(const a of t.attr)i.push({name:a.name,value:await this._eval(a.value,r,n)});s.attr=i}return t.expr.type==="fn"&&t.dest.type==="identifier"&&hi(s)&&!s.native&&(s.name=t.dest.name),await this.define(r,t.dest,s,t.mut),Y}case"identifier":return r.get(t.name);case"assign":{const s=await this._eval(t.expr,r,n);return await this.assign(r,t.dest,s,n),Y}case"addAssign":{const s=await this._eval(t.dest,r,n);P(s);const i=await this._eval(t.expr,r,n);return P(i),await this.assign(r,t.dest,k(s.value+i.value),n),Y}case"subAssign":{const s=await this._eval(t.dest,r,n);P(s);const i=await this._eval(t.expr,r,n);return P(i),await this.assign(r,t.dest,k(s.value-i.value),n),Y}case"null":return Y;case"bool":return Lt(t.value);case"num":return k(t.value);case"str":return te(t.value);case"arr":return de(await Promise.all(t.value.map(s=>this._eval(s,r,n))));case"obj":{const s=new Map;for(const[i,a]of t.value)s.set(i,await this._eval(a,r,n));return sn(s)}case"prop":{const s=await this._eval(t.target,r,n);return Mn(s)?s.value.has(t.name)?s.value.get(t.name):Y:Zu(s,t.name)}case"index":{const s=await this._eval(t.target,r,n),i=await this._eval(t.index,r,n);if(an(s)){P(i);const a=s.value[i.value];if(a===void 0)throw new ui(`Index out of range. index: ${i.value} max: ${s.value.length-1}`);return a}else{if(Mn(s))return le(i),s.value.has(i.value)?s.value.get(i.value):Y;throw new ne(`Cannot read prop (${tr(i)}) of ${s.type}.`)}}case"not":{const s=await this._eval(t.expr,r,n);return Ie(s),Lt(!s.value)}case"fn":return yu(await Promise.all(t.params.map(async s=>({dest:s.dest,default:s.default?await this._eval(s.default,r,n):s.optional?Y:void 0}))),t.children,r);case"block":return this._run(t.statements,r.createChildScope(),n);case"exists":return Lt(r.exists(t.identifier.name));case"tmpl":{let s="";for(const i of t.tmpl)if(typeof i=="string")s+=i;else{const a=await this._eval(i,r,n);s+=tr(a)}return te(s)}case"return":{const s=await this._eval(t.expr,r,n);return this.log("block:return",{scope:r.name,val:s}),wu(s)}case"break":return this.log("block:break",{scope:r.name}),xu();case"continue":return this.log("block:continue",{scope:r.name}),bu();case"ns":return Y;case"meta":return Y;case"pow":{const s=r.get("Core:pow");xe(s);const i=await this._eval(t.left,r,n),a=await this._eval(t.right,r,n);return this._fn(s,[i,a],n)}case"mul":{const s=r.get("Core:mul");xe(s);const i=await this._eval(t.left,r,n),a=await this._eval(t.right,r,n);return this._fn(s,[i,a],n)}case"div":{const s=r.get("Core:div");xe(s);const i=await this._eval(t.left,r,n),a=await this._eval(t.right,r,n);return this._fn(s,[i,a],n)}case"rem":{const s=r.get("Core:mod");xe(s);const i=await this._eval(t.left,r,n),a=await this._eval(t.right,r,n);return this._fn(s,[i,a],n)}case"add":{const s=r.get("Core:add");xe(s);const i=await this._eval(t.left,r,n),a=await this._eval(t.right,r,n);return this._fn(s,[i,a],n)}case"sub":{const s=r.get("Core:sub");xe(s);const i=await this._eval(t.left,r,n),a=await this._eval(t.right,r,n);return this._fn(s,[i,a],n)}case"lt":{const s=r.get("Core:lt");xe(s);const i=await this._eval(t.left,r,n),a=await this._eval(t.right,r,n);return this._fn(s,[i,a],n)}case"lteq":{const s=r.get("Core:lteq");xe(s);const i=await this._eval(t.left,r,n),a=await this._eval(t.right,r,n);return this._fn(s,[i,a],n)}case"gt":{const s=r.get("Core:gt");xe(s);const i=await this._eval(t.left,r,n),a=await this._eval(t.right,r,n);return this._fn(s,[i,a],n)}case"gteq":{const s=r.get("Core:gteq");xe(s);const i=await this._eval(t.left,r,n),a=await this._eval(t.right,r,n);return this._fn(s,[i,a],n)}case"eq":{const s=r.get("Core:eq");xe(s);const i=await this._eval(t.left,r,n),a=await this._eval(t.right,r,n);return this._fn(s,[i,a],n)}case"neq":{const s=r.get("Core:neq");xe(s);const i=await this._eval(t.left,r,n),a=await this._eval(t.right,r,n);return this._fn(s,[i,a],n)}case"and":{const s=await this._eval(t.left,r,n);if(Ie(s),s.value){const i=await this._eval(t.right,r,n);return Ie(i),i}else return s}case"or":{const s=await this._eval(t.left,r,n);if(Ie(s),s.value)return s;{const i=await this._eval(t.right,r,n);return Ie(i),i}}default:throw new Error("invalid node type")}}async _run(t,r,n){this.log("block:enter",{scope:r.name});let s=Y;for(let i=0;i<t.length;i++){const a=t[i];if(s=await this._eval(a,r,n),s.type==="return")return this.log("block:return",{scope:r.name,val:s.value}),s;if(s.type==="break")return this.log("block:break",{scope:r.name}),s;if(s.type==="continue")return this.log("block:continue",{scope:r.name}),s}return this.log("block:leave",{scope:r.name,val:s}),s}registerAbortHandler(t){this.abortHandlers.push(t)}unregisterAbortHandler(t){this.abortHandlers=this.abortHandlers.filter(r=>r!==t)}abort(){this.stop=!0;for(const t of this.abortHandlers)t();this.abortHandlers=[]}async define(t,r,n,s){switch(r.type){case"identifier":{t.add(r.name,{isMutable:s,value:n});break}case"arr":{mt(n),await Promise.all(r.value.map((i,a)=>this.define(t,i,n.value[a]??Y,s)));break}case"obj":{Je(n),await Promise.all([...r.value].map(([i,a])=>this.define(t,a,n.value.get(i)??Y,s)));break}default:throw new ne("The left-hand side of an definition expression must be a variable.")}}async assign(t,r,n,s){switch(r.type){case"identifier":{t.assign(r.name,n);break}case"index":{const i=await this._eval(r.target,t,s),a=await this._eval(r.index,t,s);if(an(i)){if(P(a),i.value[a.value]===void 0)throw new ui(`Index out of range. index: ${a.value} max: ${i.value.length-1}`);i.value[a.value]=n}else if(Mn(i))le(a),i.value.set(a.value,n);else throw new ne(`Cannot read prop (${tr(a)}) of ${i.type}.`);break}case"prop":{const i=await this._eval(r.target,t,s);Je(i),i.value.set(r.name,n);break}case"arr":{mt(n),await Promise.all(r.value.map((i,a)=>this.assign(t,i,n.value[a]??Y,s)));break}case"obj":{Je(n),await Promise.all([...r.value].map(([i,a])=>this.assign(t,a,n.value.get(i)??Y,s)));break}default:throw new ne("The left-hand side of an assignment expression must be a variable or a property/index access.")}}}Oe([he],Ae.prototype,"exec",null);Oe([he],Ae.prototype,"execFn",null);Oe([he],Ae.prototype,"execFnSimple",null);Oe([he],Ae.prototype,"handleError",null);Oe([he],Ae.prototype,"log",null);Oe([he],Ae.prototype,"collectNs",null);Oe([he],Ae.prototype,"collectNsMember",null);Oe([he],Ae.prototype,"_fn",null);Oe([he],Ae.prototype,"_evalClause",null);Oe([he],Ae.prototype,"_eval",null);Oe([he],Ae.prototype,"__eval",null);Oe([he],Ae.prototype,"_run",null);Oe([he],Ae.prototype,"registerAbortHandler",null);Oe([he],Ae.prototype,"unregisterAbortHandler",null);Oe([he],Ae.prototype,"abort",null);Oe([he],Ae.prototype,"define",null);Oe([he],Ae.prototype,"assign",null);Oe([he],Ae,"collectMetadata",null);class Gu{pages;firstPageIndex;lastPageIndex;pageIndex;address;_char;line;column;constructor(t,r){this.pages=new Map,this.pages.set(0,t),this.firstPageIndex=0,this.lastPageIndex=0,this.pageIndex=0,this.address=0,this.line=r?.line??0,this.column=r?.column??0,this.moveNext()}get eof(){return this.endOfPage&&this.isLastPage}get char(){if(this.eof)throw new Error("end of stream");return this._char}getPos(){return{line:this.line+1,column:this.column+1}}next(){!this.eof&&this._char===`
`?(this.line++,this.column=0):this.column++,this.incAddr(),this.moveNext()}prev(){this.decAddr(),this.movePrev()}get isFirstPage(){return this.pageIndex<=this.firstPageIndex}get isLastPage(){return this.pageIndex>=this.lastPageIndex}get endOfPage(){const t=this.pages.get(this.pageIndex);return this.address>=t.length}moveNext(){for(this.loadChar();;){if(!this.eof&&this._char==="\r"){this.incAddr(),this.loadChar();continue}break}}incAddr(){this.endOfPage?this.isLastPage||(this.pageIndex++,this.address=0):this.address++}movePrev(){for(this.loadChar();;){if(!this.eof&&this._char==="\r"){this.decAddr(),this.loadChar();continue}break}}decAddr(){this.address>0?this.address--:this.isFirstPage||(this.pageIndex--,this.address=this.pages.get(this.pageIndex).length-1)}loadChar(){this.eof?this._char=void 0:this._char=this.pages.get(this.pageIndex)[this.address]}}var u;(function(e){e[e.EOF=0]="EOF",e[e.NewLine=1]="NewLine",e[e.Identifier=2]="Identifier",e[e.NumberLiteral=3]="NumberLiteral",e[e.StringLiteral=4]="StringLiteral",e[e.Template=5]="Template",e[e.TemplateStringElement=6]="TemplateStringElement",e[e.TemplateExprElement=7]="TemplateExprElement",e[e.NullKeyword=8]="NullKeyword",e[e.TrueKeyword=9]="TrueKeyword",e[e.FalseKeyword=10]="FalseKeyword",e[e.EachKeyword=11]="EachKeyword",e[e.ForKeyword=12]="ForKeyword",e[e.LoopKeyword=13]="LoopKeyword",e[e.DoKeyword=14]="DoKeyword",e[e.WhileKeyword=15]="WhileKeyword",e[e.BreakKeyword=16]="BreakKeyword",e[e.ContinueKeyword=17]="ContinueKeyword",e[e.MatchKeyword=18]="MatchKeyword",e[e.CaseKeyword=19]="CaseKeyword",e[e.DefaultKeyword=20]="DefaultKeyword",e[e.IfKeyword=21]="IfKeyword",e[e.ElifKeyword=22]="ElifKeyword",e[e.ElseKeyword=23]="ElseKeyword",e[e.ReturnKeyword=24]="ReturnKeyword",e[e.EvalKeyword=25]="EvalKeyword",e[e.VarKeyword=26]="VarKeyword",e[e.LetKeyword=27]="LetKeyword",e[e.ExistsKeyword=28]="ExistsKeyword",e[e.Not=29]="Not",e[e.NotEq=30]="NotEq",e[e.OpenSharpBracket=31]="OpenSharpBracket",e[e.Sharp3=32]="Sharp3",e[e.Percent=33]="Percent",e[e.And2=34]="And2",e[e.OpenParen=35]="OpenParen",e[e.CloseParen=36]="CloseParen",e[e.Asterisk=37]="Asterisk",e[e.Plus=38]="Plus",e[e.PlusEq=39]="PlusEq",e[e.Comma=40]="Comma",e[e.Minus=41]="Minus",e[e.MinusEq=42]="MinusEq",e[e.Dot=43]="Dot",e[e.Slash=44]="Slash",e[e.Colon=45]="Colon",e[e.Colon2=46]="Colon2",e[e.SemiColon=47]="SemiColon",e[e.Lt=48]="Lt",e[e.LtEq=49]="LtEq",e[e.Out=50]="Out",e[e.Eq=51]="Eq",e[e.Eq2=52]="Eq2",e[e.Arrow=53]="Arrow",e[e.Gt=54]="Gt",e[e.GtEq=55]="GtEq",e[e.Question=56]="Question",e[e.At=57]="At",e[e.OpenBracket=58]="OpenBracket",e[e.BackSlash=59]="BackSlash",e[e.CloseBracket=60]="CloseBracket",e[e.Hat=61]="Hat",e[e.OpenBrace=62]="OpenBrace",e[e.Or2=63]="Or2",e[e.CloseBrace=64]="CloseBrace"})(u||(u={}));class Xu{kind;pos;hasLeftSpacing;value;children;constructor(t,r,n=!1,s,i){this.kind=t,this.pos=r,this.hasLeftSpacing=n,this.value=s,this.children=i}}function D(e,t,r){return new Xu(e,t,r?.hasLeftSpacing,r?.value,r?.children)}const $n=[" ","	"],mi=["\r",`
`],vi=/^[0-9]$/,Qu=/^[A-Za-z0-9_]$/;class ec{stream;_tokens=[];constructor(t){typeof t=="string"?this.stream=new Gu(t):this.stream=t,this._tokens.push(this.readToken())}getToken(){return this._tokens[0]}is(t){return this.getTokenKind()===t}getTokenKind(){return this.getToken().kind}getTokenValue(){return this.getToken().value}getPos(){return this.getToken().pos}next(){this._tokens[0].kind!==u.EOF&&(this._tokens.shift(),this._tokens.length===0&&this._tokens.push(this.readToken()))}lookahead(t){for(;this._tokens.length<=t;)this._tokens.push(this.readToken());return this._tokens[t]}expect(t){if(!this.is(t))throw new re(`unexpected token: ${u[this.getTokenKind()]}`,this.getPos())}readToken(){let t=!1;for(;;){if(this.stream.eof)return D(u.EOF,this.stream.getPos(),{hasLeftSpacing:t});if($n.includes(this.stream.char)){this.stream.next(),t=!0;continue}const r=this.stream.getPos();if(mi.includes(this.stream.char))return this.skipEmptyLines(),D(u.NewLine,r,{hasLeftSpacing:t});switch(this.stream.char){case"!":return this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),D(u.NotEq,r,{hasLeftSpacing:t})):D(u.Not,r,{hasLeftSpacing:t});case'"':case"'":return this.readStringLiteral(t);case"#":if(this.stream.next(),!this.stream.eof&&this.stream.char==="#"){if(this.stream.next(),!this.stream.eof&&this.stream.char==="#")return this.stream.next(),D(u.Sharp3,r,{hasLeftSpacing:t});throw new re('invalid sequence of characters: "##"',r)}else{if(!this.stream.eof&&this.stream.char==="[")return this.stream.next(),D(u.OpenSharpBracket,r,{hasLeftSpacing:t});throw new re('invalid character: "#"',r)}case"%":return this.stream.next(),D(u.Percent,r,{hasLeftSpacing:t});case"&":{if(this.stream.next(),!this.stream.eof&&this.stream.char==="&")return this.stream.next(),D(u.And2,r,{hasLeftSpacing:t});throw new re('invalid character: "&"',r)}case"(":return this.stream.next(),D(u.OpenParen,r,{hasLeftSpacing:t});case")":return this.stream.next(),D(u.CloseParen,r,{hasLeftSpacing:t});case"*":return this.stream.next(),D(u.Asterisk,r,{hasLeftSpacing:t});case"+":return this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),D(u.PlusEq,r,{hasLeftSpacing:t})):D(u.Plus,r,{hasLeftSpacing:t});case",":return this.stream.next(),D(u.Comma,r,{hasLeftSpacing:t});case"-":return this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),D(u.MinusEq,r,{hasLeftSpacing:t})):D(u.Minus,r,{hasLeftSpacing:t});case".":return this.stream.next(),D(u.Dot,r,{hasLeftSpacing:t});case"/":if(this.stream.next(),!this.stream.eof&&this.stream.char==="*"){this.stream.next(),this.skipCommentRange();continue}else if(!this.stream.eof&&this.stream.char==="/"){this.stream.next(),this.skipCommentLine();continue}else return D(u.Slash,r,{hasLeftSpacing:t});case":":return this.stream.next(),!this.stream.eof&&this.stream.char===":"?(this.stream.next(),D(u.Colon2,r,{hasLeftSpacing:t})):D(u.Colon,r,{hasLeftSpacing:t});case";":return this.stream.next(),D(u.SemiColon,r,{hasLeftSpacing:t});case"<":return this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),D(u.LtEq,r,{hasLeftSpacing:t})):!this.stream.eof&&this.stream.char===":"?(this.stream.next(),D(u.Out,r,{hasLeftSpacing:t})):D(u.Lt,r,{hasLeftSpacing:t});case"=":return this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),D(u.Eq2,r,{hasLeftSpacing:t})):!this.stream.eof&&this.stream.char===">"?(this.stream.next(),D(u.Arrow,r,{hasLeftSpacing:t})):D(u.Eq,r,{hasLeftSpacing:t});case">":return this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),D(u.GtEq,r,{hasLeftSpacing:t})):D(u.Gt,r,{hasLeftSpacing:t});case"?":return this.stream.next(),D(u.Question,r,{hasLeftSpacing:t});case"@":return this.stream.next(),D(u.At,r,{hasLeftSpacing:t});case"[":return this.stream.next(),D(u.OpenBracket,r,{hasLeftSpacing:t});case"\\":return this.stream.next(),D(u.BackSlash,r,{hasLeftSpacing:t});case"]":return this.stream.next(),D(u.CloseBracket,r,{hasLeftSpacing:t});case"^":return this.stream.next(),D(u.Hat,r,{hasLeftSpacing:t});case"`":return this.readTemplate(t);case"{":return this.stream.next(),D(u.OpenBrace,r,{hasLeftSpacing:t});case"|":{if(this.stream.next(),!this.stream.eof&&this.stream.char==="|")return this.stream.next(),D(u.Or2,r,{hasLeftSpacing:t});throw new re('invalid character: "|"',r)}case"}":return this.stream.next(),D(u.CloseBrace,r,{hasLeftSpacing:t});default:{const n=this.tryReadDigits(t);if(n)return n;const s=this.tryReadWord(t);if(s)return s;throw new re(`invalid character: "${this.stream.char}"`,r)}}break}}tryReadWord(t){let r="";const n=this.stream.getPos();for(;!this.stream.eof&&Qu.test(this.stream.char);)r+=this.stream.char,this.stream.next();if(r.length!==0)switch(r){case"null":return D(u.NullKeyword,n,{hasLeftSpacing:t});case"true":return D(u.TrueKeyword,n,{hasLeftSpacing:t});case"false":return D(u.FalseKeyword,n,{hasLeftSpacing:t});case"each":return D(u.EachKeyword,n,{hasLeftSpacing:t});case"for":return D(u.ForKeyword,n,{hasLeftSpacing:t});case"loop":return D(u.LoopKeyword,n,{hasLeftSpacing:t});case"do":return D(u.DoKeyword,n,{hasLeftSpacing:t});case"while":return D(u.WhileKeyword,n,{hasLeftSpacing:t});case"break":return D(u.BreakKeyword,n,{hasLeftSpacing:t});case"continue":return D(u.ContinueKeyword,n,{hasLeftSpacing:t});case"match":return D(u.MatchKeyword,n,{hasLeftSpacing:t});case"case":return D(u.CaseKeyword,n,{hasLeftSpacing:t});case"default":return D(u.DefaultKeyword,n,{hasLeftSpacing:t});case"if":return D(u.IfKeyword,n,{hasLeftSpacing:t});case"elif":return D(u.ElifKeyword,n,{hasLeftSpacing:t});case"else":return D(u.ElseKeyword,n,{hasLeftSpacing:t});case"return":return D(u.ReturnKeyword,n,{hasLeftSpacing:t});case"eval":return D(u.EvalKeyword,n,{hasLeftSpacing:t});case"var":return D(u.VarKeyword,n,{hasLeftSpacing:t});case"let":return D(u.LetKeyword,n,{hasLeftSpacing:t});case"exists":return D(u.ExistsKeyword,n,{hasLeftSpacing:t});default:return D(u.Identifier,n,{hasLeftSpacing:t,value:r})}}tryReadDigits(t){let r="",n="";const s=this.stream.getPos();for(;!this.stream.eof&&vi.test(this.stream.char);)r+=this.stream.char,this.stream.next();if(r.length===0)return;if(!this.stream.eof&&this.stream.char==="."){for(this.stream.next();!this.stream.eof&&vi.test(this.stream.char);)n+=this.stream.char,this.stream.next();if(n.length===0)throw new re("digit expected",s)}let i;return n.length>0?i=r+"."+n:i=r,D(u.NumberLiteral,s,{hasLeftSpacing:t,value:i})}readStringLiteral(t){let r="";const n=this.stream.char;let s="string";const i=this.stream.getPos();for(this.stream.next();s!=="finish";)switch(s){case"string":{if(this.stream.eof)throw new re("unexpected EOF",i);if(this.stream.char==="\\"){this.stream.next(),s="escape";break}if(this.stream.char===n){this.stream.next(),s="finish";break}r+=this.stream.char,this.stream.next();break}case"escape":{if(this.stream.eof)throw new re("unexpected EOF",i);r+=this.stream.char,this.stream.next(),s="string";break}}return D(u.StringLiteral,i,{hasLeftSpacing:t,value:r})}readTemplate(t){const r=[];let n="",s=[],i="string";const a=this.stream.getPos();let o=a;for(this.stream.next();i!=="finish";)switch(i){case"string":{if(this.stream.eof)throw new re("unexpected EOF",a);if(this.stream.char==="\\"){this.stream.next(),i="escape";break}if(this.stream.char==="`"){this.stream.next(),n.length>0&&r.push(D(u.TemplateStringElement,o,{hasLeftSpacing:t,value:n})),i="finish";break}if(this.stream.char==="{"){this.stream.next(),n.length>0&&(r.push(D(u.TemplateStringElement,o,{hasLeftSpacing:t,value:n})),n=""),o=this.stream.getPos(),i="expr";break}n+=this.stream.char,this.stream.next();break}case"escape":{if(this.stream.eof)throw new re("unexpected EOF",a);n+=this.stream.char,this.stream.next(),i="string";break}case"expr":{if(this.stream.eof)throw new re("unexpected EOF",a);if($n.includes(this.stream.char)){this.stream.next();continue}if(this.stream.char==="}"){r.push(D(u.TemplateExprElement,o,{hasLeftSpacing:t,children:s})),o=this.stream.getPos(),s.push(D(u.EOF,o)),s=[],i="string",this.stream.next();break}const l=this.readToken();s.push(l);break}}return D(u.Template,a,{hasLeftSpacing:t,children:r})}skipEmptyLines(){for(;!this.stream.eof;){if($n.includes(this.stream.char)||mi.includes(this.stream.char)){this.stream.next();continue}if(this.stream.char==="/")if(this.stream.next(),!this.stream.eof&&this.stream.char==="*"){this.stream.next(),this.skipCommentRange();continue}else if(!this.stream.eof&&this.stream.char==="/"){this.stream.next(),this.skipCommentLine();continue}else{this.stream.prev();break}break}}skipCommentLine(){for(;!(this.stream.eof||this.stream.char===`
`);)this.stream.next()}skipCommentRange(){for(;!this.stream.eof;){if(this.stream.char==="*"){if(this.stream.next(),this.stream.char==="/"){this.stream.next();break}continue}this.stream.next()}}}function L(e,t,r,n){const s={type:e};for(const i of Object.keys(t))t[i]!==void 0&&(s[i]=t[i]);return s.loc={start:r,end:n},s}function tc(e,t,r,n){return L("call",{target:L("identifier",{name:e},r,r),args:t},r,n)}class rc{source;index;_token;constructor(t){this.source=t,this.index=0,this.load()}get eof(){return this.index>=this.source.length}getToken(){return this.eof?D(u.EOF,{line:-1,column:-1}):this._token}is(t){return this.getTokenKind()===t}getTokenValue(){return this.getToken().value}getTokenKind(){return this.getToken().kind}getPos(){return this.getToken().pos}next(){this.eof||this.index++,this.load()}lookahead(t){return this.index+t<this.source.length?this.source[this.index+t]:D(u.EOF,{line:-1,column:-1})}expect(t){if(!this.is(t))throw new re(`unexpected token: ${u[this.getTokenKind()]}`,this.getPos())}load(){this.eof?this._token=D(u.EOF,{line:-1,column:-1}):this._token=this.source[this.index]}}function ge(e,t){return t?Oa(e,!0):Es(e,0)}const On=[{opKind:"postfix",kind:u.OpenParen,bp:20},{opKind:"postfix",kind:u.OpenBracket,bp:20},{opKind:"infix",kind:u.Dot,lbp:18,rbp:19},{opKind:"infix",kind:u.Hat,lbp:17,rbp:16},{opKind:"prefix",kind:u.Plus,bp:14},{opKind:"prefix",kind:u.Minus,bp:14},{opKind:"prefix",kind:u.Not,bp:14},{opKind:"infix",kind:u.Asterisk,lbp:12,rbp:13},{opKind:"infix",kind:u.Slash,lbp:12,rbp:13},{opKind:"infix",kind:u.Percent,lbp:12,rbp:13},{opKind:"infix",kind:u.Plus,lbp:10,rbp:11},{opKind:"infix",kind:u.Minus,lbp:10,rbp:11},{opKind:"infix",kind:u.Lt,lbp:8,rbp:9},{opKind:"infix",kind:u.LtEq,lbp:8,rbp:9},{opKind:"infix",kind:u.Gt,lbp:8,rbp:9},{opKind:"infix",kind:u.GtEq,lbp:8,rbp:9},{opKind:"infix",kind:u.Eq2,lbp:6,rbp:7},{opKind:"infix",kind:u.NotEq,lbp:6,rbp:7},{opKind:"infix",kind:u.And2,lbp:4,rbp:5},{opKind:"infix",kind:u.Or2,lbp:2,rbp:3}];function nc(e,t){const r=e.getPos(),n=e.getTokenKind();e.next(),e.is(u.BackSlash)&&(e.next(),e.expect(u.NewLine),e.next());const s=Es(e,t),i=s.loc.end;switch(n){case u.Plus:{if(s.type==="num")return L("num",{value:s.value},r,i);throw new re("currently, sign is only supported for number literal.",r)}case u.Minus:{if(s.type==="num")return L("num",{value:-1*s.value},r,i);throw new re("currently, sign is only supported for number literal.",r)}case u.Not:return L("not",{expr:s},r,i);default:throw new re(`unexpected token: ${u[n]}`,r)}}function sc(e,t,r){const n=e.getPos(),s=e.getTokenKind();if(e.next(),e.is(u.BackSlash)&&(e.next(),e.expect(u.NewLine),e.next()),s===u.Dot){e.expect(u.Identifier);const i=e.getTokenValue();return e.next(),L("prop",{target:t,name:i},n,e.getPos())}else{const i=Es(e,r),a=e.getPos();switch(s){case u.Hat:return L("pow",{left:t,right:i},n,a);case u.Asterisk:return L("mul",{left:t,right:i},n,a);case u.Slash:return L("div",{left:t,right:i},n,a);case u.Percent:return L("rem",{left:t,right:i},n,a);case u.Plus:return L("add",{left:t,right:i},n,a);case u.Minus:return L("sub",{left:t,right:i},n,a);case u.Lt:return L("lt",{left:t,right:i},n,a);case u.LtEq:return L("lteq",{left:t,right:i},n,a);case u.Gt:return L("gt",{left:t,right:i},n,a);case u.GtEq:return L("gteq",{left:t,right:i},n,a);case u.Eq2:return L("eq",{left:t,right:i},n,a);case u.NotEq:return L("neq",{left:t,right:i},n,a);case u.And2:return L("and",{left:t,right:i},n,a);case u.Or2:return L("or",{left:t,right:i},n,a);default:throw new re(`unexpected token: ${u[s]}`,n)}}}function ic(e,t){const r=e.getPos(),n=e.getTokenKind();switch(n){case u.OpenParen:return ac(e,t);case u.OpenBracket:{e.next();const s=ge(e,!1);return e.expect(u.CloseBracket),e.next(),L("index",{target:t,index:s},r,e.getPos())}default:throw new re(`unexpected token: ${u[n]}`,r)}}function Oa(e,t){const r=e.getPos();switch(e.getTokenKind()){case u.IfKeyword:{if(t)break;return oc(e)}case u.At:{if(t)break;return lc(e)}case u.MatchKeyword:{if(t)break;return uc(e)}case u.EvalKeyword:{if(t)break;return cc(e)}case u.ExistsKeyword:{if(t)break;return fc(e)}case u.Template:{const n=[];if(t)break;for(const[s,i]of e.getToken().children.entries())switch(i.kind){case u.TemplateStringElement:{const a=e.getToken().children[s+1]??e.lookahead(1);n.push(L("str",{value:i.value},i.pos,a.pos));break}case u.TemplateExprElement:{const a=new rc(i.children),o=ge(a,!1);a.expect(u.EOF),n.push(o);break}default:throw new re(`unexpected token: ${u[i.kind]}`,i.pos)}return e.next(),L("tmpl",{tmpl:n},r,e.getPos())}case u.StringLiteral:{const n=e.getTokenValue();return e.next(),L("str",{value:n},r,e.getPos())}case u.NumberLiteral:{const n=Number(e.getTokenValue());return e.next(),L("num",{value:n},r,e.getPos())}case u.TrueKeyword:case u.FalseKeyword:{const n=e.is(u.TrueKeyword);return e.next(),L("bool",{value:n},r,e.getPos())}case u.NullKeyword:return e.next(),L("null",{},r,e.getPos());case u.OpenBrace:return hc(e,t);case u.OpenBracket:return pc(e,t);case u.Identifier:{if(t)break;return Ba(e)}case u.OpenParen:{e.next();const n=ge(e,t);return e.expect(u.CloseParen),e.next(),n}}throw new re(`unexpected token: ${u[e.getTokenKind()]}`,r)}function ac(e,t){const r=e.getPos(),n=[];for(e.expect(u.OpenParen),e.next(),e.is(u.NewLine)&&e.next();!e.is(u.CloseParen);)switch(n.push(ge(e,!1)),e.getTokenKind()){case u.NewLine:{e.next();break}case u.Comma:{e.next(),e.is(u.NewLine)&&e.next();break}case u.CloseParen:break;default:throw new re("separator expected",e.getPos())}return e.expect(u.CloseParen),e.next(),L("call",{target:t,args:n},r,e.getPos())}function oc(e){const t=e.getPos();e.expect(u.IfKeyword),e.next();const r=ge(e,!1),n=ht(e);e.is(u.NewLine)&&[u.ElifKeyword,u.ElseKeyword].includes(e.lookahead(1).kind)&&e.next();const s=[];for(;e.is(u.ElifKeyword);){e.next();const a=ge(e,!1),o=ht(e);e.is(u.NewLine)&&[u.ElifKeyword,u.ElseKeyword].includes(e.lookahead(1).kind)&&e.next(),s.push({cond:a,then:o})}let i;return e.is(u.ElseKeyword)&&(e.next(),i=ht(e)),L("if",{cond:r,then:n,elseif:s,else:i},t,e.getPos())}function lc(e){const t=e.getPos();e.expect(u.At),e.next();const r=Sa(e);let n;e.is(u.Colon)&&(e.next(),n=jt(e));const s=kr(e);return L("fn",{params:r,retType:n,children:s},t,e.getPos())}function uc(e){const t=e.getPos();e.expect(u.MatchKeyword),e.next();const r=ge(e,!1);e.expect(u.OpenBrace),e.next(),e.is(u.NewLine)&&e.next();const n=[];let s;if(e.is(u.CaseKeyword)){n.push(yi(e));let i=jr(e);for(;e.is(u.CaseKeyword);){if(!i)throw new re("separator expected",e.getPos());n.push(yi(e)),i=jr(e)}if(e.is(u.DefaultKeyword)){if(!i)throw new re("separator expected",e.getPos());s=wi(e),jr(e)}}else e.is(u.DefaultKeyword)&&(s=wi(e),jr(e));return e.expect(u.CloseBrace),e.next(),L("match",{about:r,qs:n,default:s},t,e.getPos())}function yi(e){e.expect(u.CaseKeyword),e.next();const t=ge(e,!1);e.expect(u.Arrow),e.next();const r=ht(e);return{q:t,a:r}}function wi(e){return e.expect(u.DefaultKeyword),e.next(),e.expect(u.Arrow),e.next(),ht(e)}function cc(e){const t=e.getPos();e.expect(u.EvalKeyword),e.next();const r=kr(e);return L("block",{statements:r},t,e.getPos())}function fc(e){const t=e.getPos();e.expect(u.ExistsKeyword),e.next();const r=Ba(e);return L("exists",{identifier:r},t,e.getPos())}function Ba(e){const t=e.getPos(),r=[];for(;;){if(r.length>0)if(e.is(u.Colon)){if(e.getToken().hasLeftSpacing)throw new re("Cannot use spaces in a reference.",e.getPos());if(e.next(),e.getToken().hasLeftSpacing)throw new re("Cannot use spaces in a reference.",e.getPos())}else break;e.expect(u.Identifier),r.push(e.getTokenValue()),e.next()}return L("identifier",{name:r.join(":")},t,e.getPos())}function hc(e,t){const r=e.getPos();for(e.expect(u.OpenBrace),e.next();e.is(u.NewLine);)e.next();const n=new Map;for(;!e.is(u.CloseBrace);){e.expect(u.Identifier);const s=e.getTokenValue();e.next(),e.expect(u.Colon),e.next();const i=ge(e,t);switch(n.set(s,i),e.getTokenKind()){case u.NewLine:case u.Comma:{for(e.next();e.is(u.NewLine);)e.next();break}case u.CloseBrace:break;default:throw new re("separator expected",e.getPos())}}return e.expect(u.CloseBrace),e.next(),L("obj",{value:n},r,e.getPos())}function pc(e,t){const r=e.getPos();for(e.expect(u.OpenBracket),e.next();e.is(u.NewLine);)e.next();const n=[];for(;!e.is(u.CloseBracket);)switch(n.push(ge(e,t)),e.getTokenKind()){case u.NewLine:case u.Comma:{for(e.next();e.is(u.NewLine);)e.next();break}case u.CloseBracket:break;default:throw new re("separator expected",e.getPos())}return e.expect(u.CloseBracket),e.next(),L("arr",{value:n},r,e.getPos())}function Es(e,t){let r;const n=e.getTokenKind(),s=On.find(i=>i.opKind==="prefix"&&i.kind===n);for(s!=null?r=nc(e,s.bp):r=Oa(e,!1);;){e.is(u.BackSlash)&&(e.next(),e.expect(u.NewLine),e.next());const i=e.getTokenKind(),a=On.find(l=>l.opKind==="postfix"&&l.kind===i);if(a!=null){if(a.bp<t)break;if(!([u.OpenBracket,u.OpenParen].includes(i)&&e.getToken().hasLeftSpacing)){r=ic(e,r);continue}}const o=On.find(l=>l.opKind==="infix"&&l.kind===i);if(o!=null){if(o.lbp<t)break;r=sc(e,r,o.rbp);continue}break}return r}function Cs(e){if(e.is(u.Identifier)){const t=e.getPos(),r=e.getTokenValue();return e.next(),L("identifier",{name:r},t,e.getPos())}else return ge(e,!1)}function Sa(e){const t=[];for(e.expect(u.OpenParen),e.next(),e.is(u.NewLine)&&e.next();!e.is(u.CloseParen);){const r=Cs(e);let n=!1,s;e.is(u.Question)?(e.next(),n=!0):e.is(u.Eq)&&(e.next(),s=ge(e,!1));let i;switch(e.is(u.Colon)&&(e.next(),i=jt(e)),t.push({dest:r,optional:n,default:s,argType:i}),e.getTokenKind()){case u.NewLine:{e.next();break}case u.Comma:{e.next(),e.is(u.NewLine)&&e.next();break}case u.CloseParen:break;default:throw new re("separator expected",e.getPos())}}return e.expect(u.CloseParen),e.next(),t}function kr(e){for(e.expect(u.OpenBrace),e.next();e.is(u.NewLine);)e.next();const t=[];for(;!e.is(u.CloseBrace);)switch(t.push(wn(e)),e.getTokenKind()){case u.NewLine:case u.SemiColon:{for(;e.is(u.NewLine)||e.is(u.SemiColon);)e.next();break}case u.CloseBrace:break;default:throw new re("Multiple statements cannot be placed on a single line.",e.getPos())}return e.expect(u.CloseBrace),e.next(),t}function jt(e){return e.is(u.At)?dc(e):gc(e)}function jr(e){switch(e.getTokenKind()){case u.NewLine:return e.next(),!0;case u.Comma:return e.next(),e.is(u.NewLine)&&e.next(),!0;default:return!1}}function dc(e){const t=e.getPos();e.expect(u.At),e.next(),e.expect(u.OpenParen),e.next();const r=[];for(;!e.is(u.CloseParen);){if(r.length>0)switch(e.getTokenKind()){case u.Comma:{e.next();break}default:throw new re("separator expected",e.getPos())}const s=jt(e);r.push(s)}e.expect(u.CloseParen),e.next(),e.expect(u.Arrow),e.next();const n=jt(e);return L("fnTypeSource",{params:r,result:n},t,e.getPos())}function gc(e){const t=e.getPos();let r;e.is(u.Identifier)?(r=e.getTokenValue(),e.next()):(e.expect(u.NullKeyword),e.next(),r="null");let n;return e.is(u.Lt)&&(e.next(),n=jt(e),e.expect(u.Gt),e.next()),L("namedTypeSource",{name:r,inner:n},t,e.getPos())}function wn(e){const t=e.getPos();switch(e.getTokenKind()){case u.VarKeyword:case u.LetKeyword:return Ia(e);case u.At:{if(e.lookahead(1).kind===u.Identifier)return Na(e);break}case u.Out:return vc(e);case u.ReturnKeyword:return xc(e);case u.OpenSharpBracket:return bc(e);case u.EachKeyword:return yc(e);case u.ForKeyword:return wc(e);case u.LoopKeyword:return Ec(e);case u.DoKeyword:return Cc(e);case u.WhileKeyword:return Ac(e);case u.BreakKeyword:return e.next(),L("break",{},t,e.getPos());case u.ContinueKeyword:return e.next(),L("continue",{},t,e.getPos())}const r=ge(e,!1),n=Pc(e,r);return n||r}function mc(e){switch(e.getTokenKind()){case u.VarKeyword:case u.LetKeyword:return Ia(e);case u.At:return Na(e);default:throw new re(`unexpected token: ${u[e.getTokenKind()]}`,e.getPos())}}function ht(e){if(e.is(u.OpenBrace)){const t=e.getPos(),r=kr(e);return L("block",{statements:r},t,e.getPos())}else return wn(e)}function Ia(e){const t=e.getPos();let r;switch(e.getTokenKind()){case u.LetKeyword:{r=!1;break}case u.VarKeyword:{r=!0;break}default:throw new re(`unexpected token: ${u[e.getTokenKind()]}`,e.getPos())}e.next();const n=Cs(e);let s;e.is(u.Colon)&&(e.next(),s=jt(e)),e.expect(u.Eq),e.next(),e.is(u.NewLine)&&e.next();const i=ge(e,!1);return L("def",{dest:n,varType:s,expr:i,mut:r,attr:[]},t,e.getPos())}function Na(e){const t=e.getPos();e.expect(u.At),e.next(),e.expect(u.Identifier);const r=e.getPos(),n=e.getTokenValue();e.next();const s=L("identifier",{name:n},r,e.getPos()),i=Sa(e);let a;e.is(u.Colon)&&(e.next(),a=jt(e));const o=kr(e),l=e.getPos();return L("def",{dest:s,expr:L("fn",{params:i,retType:a,children:o},t,l),mut:!1,attr:[]},t,l)}function vc(e){const t=e.getPos();e.expect(u.Out),e.next();const r=ge(e,!1);return tc("print",[r],t,e.getPos())}function yc(e){const t=e.getPos();let r=!1;e.expect(u.EachKeyword),e.next(),e.is(u.OpenParen)&&(r=!0,e.next()),e.expect(u.LetKeyword),e.next();const n=Cs(e);if(e.is(u.Comma))e.next();else throw new re("separator expected",e.getPos());const s=ge(e,!1);r&&(e.expect(u.CloseParen),e.next());const i=ht(e);return L("each",{var:n,items:s,for:i},t,e.getPos())}function wc(e){const t=e.getPos();let r=!1;if(e.expect(u.ForKeyword),e.next(),e.is(u.OpenParen)&&(r=!0,e.next()),e.is(u.LetKeyword)){e.next();const n=e.getPos();e.expect(u.Identifier);const s=e.getTokenValue();e.next();let i;if(e.is(u.Eq)?(e.next(),i=ge(e,!1)):i=L("num",{value:0},n,n),e.is(u.Comma))e.next();else throw new re("separator expected",e.getPos());const a=ge(e,!1);r&&(e.expect(u.CloseParen),e.next());const o=ht(e);return L("for",{var:s,from:i,to:a,for:o},t,e.getPos())}else{const n=ge(e,!1);r&&(e.expect(u.CloseParen),e.next());const s=ht(e);return L("for",{times:n,for:s},t,e.getPos())}}function xc(e){const t=e.getPos();e.expect(u.ReturnKeyword),e.next();const r=ge(e,!1);return L("return",{expr:r},t,e.getPos())}function bc(e){const t=[];for(;e.is(u.OpenSharpBracket);)t.push(_c(e)),e.expect(u.NewLine),e.next();const r=wn(e);if(r.type!=="def")throw new re("invalid attribute.",r.loc.start);return r.attr!=null?r.attr.push(...t):r.attr=t,r}function _c(e){const t=e.getPos();e.expect(u.OpenSharpBracket),e.next(),e.expect(u.Identifier);const r=e.getTokenValue();e.next();let n;if(!e.is(u.CloseBracket))n=ge(e,!0);else{const s=e.getPos();n=L("bool",{value:!0},s,s)}return e.expect(u.CloseBracket),e.next(),L("attr",{name:r,value:n},t,e.getPos())}function Ec(e){const t=e.getPos();e.expect(u.LoopKeyword),e.next();const r=kr(e);return L("loop",{statements:r},t,e.getPos())}function Cc(e){const t=e.getPos();e.expect(u.DoKeyword),e.next();const r=ht(e),n=e.getPos();e.expect(u.WhileKeyword),e.next();const s=ge(e,!1),i=e.getPos();return L("loop",{statements:[r,L("if",{cond:L("not",{expr:s},n,i),then:L("break",{},i,i),elseif:[]},n,i)]},t,i)}function Ac(e){const t=e.getPos();e.expect(u.WhileKeyword),e.next();const r=ge(e,!1),n=e.getPos(),s=ht(e);return L("loop",{statements:[L("if",{cond:L("not",{expr:r},t,n),then:L("break",{},n,n),elseif:[]},t,n),s]},t,e.getPos())}function Pc(e,t){const r=e.getPos();switch(e.getTokenKind()){case u.Eq:{e.next();const n=ge(e,!1);return L("assign",{dest:t,expr:n},r,e.getPos())}case u.PlusEq:{e.next();const n=ge(e,!1);return L("addAssign",{dest:t,expr:n},r,e.getPos())}case u.MinusEq:{e.next();const n=ge(e,!1);return L("subAssign",{dest:t,expr:n},r,e.getPos())}default:return}}function Fc(e){const t=[];for(;e.is(u.NewLine);)e.next();for(;!e.is(u.EOF);){switch(e.getTokenKind()){case u.Colon2:{t.push(Ta(e));break}case u.Sharp3:{t.push(Mc(e));break}default:{t.push(wn(e));break}}switch(e.getTokenKind()){case u.NewLine:case u.SemiColon:{for(;e.is(u.NewLine)||e.is(u.SemiColon);)e.next();break}case u.EOF:break;default:throw new re("Multiple statements cannot be placed on a single line.",e.getPos())}}return t}function Ta(e){const t=e.getPos();e.expect(u.Colon2),e.next(),e.expect(u.Identifier);const r=e.getTokenValue();e.next();const n=[];for(e.expect(u.OpenBrace),e.next();e.is(u.NewLine);)e.next();for(;!e.is(u.CloseBrace);){switch(e.getTokenKind()){case u.VarKeyword:case u.LetKeyword:case u.At:{n.push(mc(e));break}case u.Colon2:{n.push(Ta(e));break}}switch(e.getTokenKind()){case u.NewLine:case u.SemiColon:{for(;e.is(u.NewLine)||e.is(u.SemiColon);)e.next();break}case u.CloseBrace:break;default:throw new re("Multiple statements cannot be placed on a single line.",e.getPos())}}return e.expect(u.CloseBrace),e.next(),L("ns",{name:r,members:n},t,e.getPos())}function Mc(e){const t=e.getPos();e.expect(u.Sharp3),e.next();let r=null;e.is(u.Identifier)&&(r=e.getTokenValue(),e.next());const n=ge(e,!0);return L("meta",{name:r,value:n},t,n.loc.end)}function Q(e,t){const r=t(e);switch(r.type){case"def":{r.expr=Q(r.expr,t);break}case"return":{r.expr=Q(r.expr,t);break}case"each":{r.items=Q(r.items,t),r.for=Q(r.for,t);break}case"for":{r.from!=null&&(r.from=Q(r.from,t)),r.to!=null&&(r.to=Q(r.to,t)),r.times!=null&&(r.times=Q(r.times,t)),r.for=Q(r.for,t);break}case"loop":{for(let n=0;n<r.statements.length;n++)r.statements[n]=Q(r.statements[n],t);break}case"addAssign":case"subAssign":case"assign":{r.expr=Q(r.expr,t),r.dest=Q(r.dest,t);break}case"not":{r.expr=Q(r.expr,t);break}case"if":{r.cond=Q(r.cond,t),r.then=Q(r.then,t);for(const n of r.elseif)n.cond=Q(n.cond,t),n.then=Q(n.then,t);r.else!=null&&(r.else=Q(r.else,t));break}case"fn":{for(const n of r.params)n.default&&(n.default=Q(n.default,t));for(let n=0;n<r.children.length;n++)r.children[n]=Q(r.children[n],t);break}case"match":{r.about=Q(r.about,t);for(const n of r.qs)n.q=Q(n.q,t),n.a=Q(n.a,t);r.default!=null&&(r.default=Q(r.default,t));break}case"block":{for(let n=0;n<r.statements.length;n++)r.statements[n]=Q(r.statements[n],t);break}case"exists":{r.identifier=Q(r.identifier,t);break}case"tmpl":{for(let n=0;n<r.tmpl.length;n++){const s=r.tmpl[n];typeof s!="string"&&(r.tmpl[n]=Q(s,t))}break}case"obj":{for(const n of r.value)r.value.set(n[0],Q(n[1],t));break}case"arr":{for(let n=0;n<r.value.length;n++)r.value[n]=Q(r.value[n],t);break}case"call":{r.target=Q(r.target,t);for(let n=0;n<r.args.length;n++)r.args[n]=Q(r.args[n],t);break}case"index":{r.target=Q(r.target,t),r.index=Q(r.index,t);break}case"prop":{r.target=Q(r.target,t);break}case"ns":{for(let n=0;n<r.members.length;n++)r.members[n]=Q(r.members[n],t);break}case"pow":case"mul":case"div":case"rem":case"add":case"sub":case"lt":case"lteq":case"gt":case"gteq":case"eq":case"neq":case"and":case"or":{r.left=Q(r.left,t),r.right=Q(r.right,t);break}}return r}const mr=["as","async","attr","attribute","await","catch","class","component","constructor","dictionary","enum","export","finally","fn","hash","in","interface","out","private","public","ref","static","struct","table","this","throw","trait","try","undefined","use","using","when","yield","import","is","meta","module","namespace","new"];function Tt(e,t){throw new re(`Reserved word "${e}" cannot be used as variable name.`,t.start)}function Bn(e){return Q(e,t=>{switch(t.type){case"null":{Tt(t.type,t.loc);break}case"bool":{Tt(`${t.value}`,t.loc);break}case"identifier":{mr.includes(t.name)&&Tt(t.name,t.loc);break}}return t})}function kc(e){switch(e.type){case"def":{Bn(e.dest);break}case"ns":case"attr":case"identifier":case"prop":{mr.includes(e.name)&&Tt(e.name,e.loc);break}case"meta":{e.name!=null&&mr.includes(e.name)&&Tt(e.name,e.loc);break}case"each":{Bn(e.var);break}case"for":{e.var!=null&&mr.includes(e.var)&&Tt(e.var,e.loc);break}case"fn":{for(const t of e.params)Bn(t.dest);break}case"obj":{for(const t of e.value.keys())mr.includes(t)&&Tt(t,e.loc);break}}return e}function $c(e){for(const t of e)Q(t,kc);return e}function xi(e){return{type:"simple",name:e}}function Oc(e,t){return{type:"generic",name:e,inners:t}}function Bc(e,t){return{type:"fn",params:e,result:t}}function Jr(e){switch(e.type){case"namedTypeSource":if(e.inner){const t=Jr(e.inner);return`${e.name}<${t}>`}else return e.name;case"fnTypeSource":{const t=e.params.map(n=>Jr(n)).join(", "),r=Jr(e.result);return`@(${t}) { ${r} }`}}}function rr(e){if(e.type==="namedTypeSource"){switch(e.name){case"null":case"bool":case"num":case"str":case"any":case"void":{if(e.inner==null)return xi(e.name);break}case"arr":case"obj":{let t;return e.inner!=null?t=rr(e.inner):t=xi("any"),Oc(e.name,[t])}}throw new re(`Unknown type: '${Jr(e)}'`,e.loc.start)}else{const t=e.params.map(r=>rr(r));return Bc(t,rr(e.result))}}function Sc(e){switch(e.type){case"def":{e.varType!=null&&rr(e.varType);break}case"fn":{for(const t of e.params)t.argType!=null&&rr(t.argType);e.retType!=null&&rr(e.retType);break}}return e}function Ic(e){for(const t of e)Q(t,Sc);return e}class Yt{static instance;plugins;constructor(){this.plugins={validate:[$c,Ic],transform:[]}}static parse(t){return Yt.instance==null&&(Yt.instance=new Yt),Yt.instance.parse(t)}addPlugin(t,r){switch(t){case"validate":this.plugins.validate.push(r);break;case"transform":this.plugins.transform.push(r);break;default:throw new Error("unknown plugin type")}}parse(t){let r;const n=new ec(t);r=Fc(n);for(const s of this.plugins.validate)r=s(r);for(const s of this.plugins.transform)r=s(r);return r}}function wr(){return wr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wr.apply(this,arguments)}var Nc=13,Tc=9,Rc=8,Dc=89,qr=90,Lc=77,bi=57,_i=219,Ei=222,Ci=192,Uc=27,Ai=100,jc=3e3,qc=typeof window<"u"&&navigator&&/Win/i.test(navigator.platform),Sn=typeof window<"u"&&navigator&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),Kc=Yo({props:{lineNumbers:{type:Boolean,default:!1},autoStyleLineNumbers:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},modelValue:{type:String,default:""},highlight:{type:Function,required:!0},tabSize:{type:Number,default:2},insertSpaces:{type:Boolean,default:!0},ignoreTabKey:{type:Boolean,default:!1},placeholder:{type:String,default:""}},data:function(){return{capture:!0,history:{stack:[],offset:-1},lineNumbersHeight:"20px",codeData:""}},watch:{modelValue:{immediate:!0,handler:function(t){t?this.codeData=t:this.codeData=""}},content:{immediate:!0,handler:function(){var t=this;this.lineNumbers&&this.$nextTick(function(){t.setLineNumbersHeight()})}},lineNumbers:function(){var t=this;this.$nextTick(function(){t.styleLineNumbers(),t.setLineNumbersHeight()})}},computed:{isEmpty:function(){return this.codeData.length===0},content:function(){var t=this.highlight(this.codeData)+"<br />";return t},lineNumbersCount:function(){var t=this.codeData.split(/\r\n|\n/).length;return t}},mounted:function(){this._recordCurrentState(),this.styleLineNumbers()},methods:{setLineNumbersHeight:function(){this.lineNumbersHeight=getComputedStyle(this.$refs.pre).height},styleLineNumbers:function(){if(!(!this.lineNumbers||!this.autoStyleLineNumbers)){var t=this.$refs.pre,r=this.$el.querySelector(".prism-editor__line-numbers"),n=window.getComputedStyle(t);this.$nextTick(function(){var s="border-top-left-radius",i="border-bottom-left-radius";if(!!r){r.style[s]=n[s],r.style[i]=n[i],t.style[s]="0",t.style[i]="0";var a=["background-color","margin-top","padding-top","font-family","font-size","line-height"];a.forEach(function(o){r.style[o]=n[o]}),r.style["margin-bottom"]="-"+n["padding-top"]}})}},_recordCurrentState:function(){var t=this.$refs.textarea;if(!!t){var r=t.value,n=t.selectionStart,s=t.selectionEnd;this._recordChange({value:r,selectionStart:n,selectionEnd:s})}},_getLines:function(t,r){return t.substring(0,r).split(`
`)},_applyEdits:function(t){var r=this.$refs.textarea,n=this.history.stack[this.history.offset];n&&r&&(this.history.stack[this.history.offset]=wr({},n,{selectionStart:r.selectionStart,selectionEnd:r.selectionEnd})),this._recordChange(t),this._updateInput(t)},_recordChange:function(t,r){r===void 0&&(r=!1);var n=this.history,s=n.stack,i=n.offset;if(s.length&&i>-1){this.history.stack=s.slice(0,i+1);var a=this.history.stack.length;if(a>Ai){var o=a-Ai;this.history.stack=s.slice(o,a),this.history.offset=Math.max(this.history.offset-o,0)}}var l=Date.now();if(r){var c=this.history.stack[this.history.offset];if(c&&l-c.timestamp<jc){var g,m,w=/[^a-z0-9]([a-z0-9]+)$/i,_=(g=this._getLines(c.value,c.selectionStart).pop())===null||g===void 0?void 0:g.match(w),I=(m=this._getLines(t.value,t.selectionStart).pop())===null||m===void 0?void 0:m.match(w);if(_&&I&&I[1].startsWith(_[1])){this.history.stack[this.history.offset]=wr({},t,{timestamp:l});return}}}this.history.stack.push(wr({},t,{timestamp:l})),this.history.offset++},_updateInput:function(t){var r=this.$refs.textarea;!r||(r.value=t.value,r.selectionStart=t.selectionStart,r.selectionEnd=t.selectionEnd,this.$emit("update:modelValue",t.value))},handleChange:function(t){var r=t.target,n=r.value,s=r.selectionStart,i=r.selectionEnd;this._recordChange({value:n,selectionStart:s,selectionEnd:i},!0),this.$emit("update:modelValue",n)},_undoEdit:function(){var t=this.history,r=t.stack,n=t.offset,s=r[n-1];s&&(this._updateInput(s),this.history.offset=Math.max(n-1,0))},_redoEdit:function(){var t=this.history,r=t.stack,n=t.offset,s=r[n+1];s&&(this._updateInput(s),this.history.offset=Math.min(n+1,r.length-1))},handleKeyDown:function(t){var r=this.tabSize,n=this.insertSpaces,s=this.ignoreTabKey;if(this.$emit("keydown",t),!t.defaultPrevented){t.keyCode===Uc&&(t.target.blur(),this.$emit("blur",t));var i=t.target,a=i.value,o=i.selectionStart,l=i.selectionEnd,c=(n?" ":"	").repeat(r);if(t.keyCode===Tc&&!s&&this.capture)if(t.preventDefault(),t.shiftKey){var g=this._getLines(a,o),m=g.length-1,w=this._getLines(a,l).length-1,_=a.split(`
`).map(function(X,pe){return pe>=m&&pe<=w&&X.startsWith(c)?X.substring(c.length):X}).join(`
`);if(a!==_){var I=g[m];this._applyEdits({value:_,selectionStart:I.startsWith(c)?o-c.length:o,selectionEnd:l-(a.length-_.length)})}}else if(o!==l){var N=this._getLines(a,o),U=N.length-1,z=this._getLines(a,l).length-1,p=N[U];this._applyEdits({value:a.split(`
`).map(function(X,pe){return pe>=U&&pe<=z?c+X:X}).join(`
`),selectionStart:/\S/.test(p)?o+c.length:o,selectionEnd:l+c.length*(z-U+1)})}else{var f=o+c.length;this._applyEdits({value:a.substring(0,o)+c+a.substring(l),selectionStart:f,selectionEnd:f})}else if(t.keyCode===Rc){var h=o!==l,y=a.substring(0,o);if(y.endsWith(c)&&!h){t.preventDefault();var x=o-c.length;this._applyEdits({value:a.substring(0,o-c.length)+a.substring(l),selectionStart:x,selectionEnd:x})}}else if(t.keyCode===Nc){if(o===l){var E=this._getLines(a,o).pop(),$=E?.match(/^\s+/);if($&&$[0]){t.preventDefault();var A=`
`+$[0],j=o+A.length;this._applyEdits({value:a.substring(0,o)+A+a.substring(l),selectionStart:j,selectionEnd:j})}}}else if(t.keyCode===bi||t.keyCode===_i||t.keyCode===Ei||t.keyCode===Ci){var q;t.keyCode===bi&&t.shiftKey?q=["(",")"]:t.keyCode===_i?t.shiftKey?q=["{","}"]:q=["[","]"]:t.keyCode===Ei?t.shiftKey?q=['"','"']:q=["'","'"]:t.keyCode===Ci&&!t.shiftKey&&(q=["`","`"]),o!==l&&q&&(t.preventDefault(),this._applyEdits({value:a.substring(0,o)+q[0]+a.substring(o,l)+q[1]+a.substring(l),selectionStart:o,selectionEnd:l+2}))}else(Sn?t.metaKey&&t.keyCode===qr:t.ctrlKey&&t.keyCode===qr)&&!t.shiftKey&&!t.altKey?(t.preventDefault(),this._undoEdit()):(Sn?t.metaKey&&t.keyCode===qr&&t.shiftKey:qc?t.ctrlKey&&t.keyCode===Dc:t.ctrlKey&&t.keyCode===qr&&t.shiftKey)&&!t.altKey?(t.preventDefault(),this._redoEdit()):t.keyCode===Lc&&t.ctrlKey&&(Sn?t.shiftKey:!0)&&(t.preventDefault(),this.capture=!this.capture)}}},render:function(){var t=this,r=Mt("div",{class:"prism-editor__line-width-calc",style:"height: 0px; visibility: hidden; pointer-events: none;"},"999"),n=Mt("div",{class:"prism-editor__line-numbers",style:{"min-height":this.lineNumbersHeight},"aria-hidden":"true"},[r,Array.from(Array(this.lineNumbersCount).keys()).map(function(o,l){return Mt("div",{class:"prism-editor__line-number token comment"},""+ ++l)})]),s=Mt("textarea",{ref:"textarea",onInput:this.handleChange,onKeydown:this.handleKeyDown,onClick:function(l){t.$emit("click",l)},onKeyup:function(l){t.$emit("keyup",l)},onFocus:function(l){t.$emit("focus",l)},onBlur:function(l){t.$emit("blur",l)},class:{"prism-editor__textarea":!0,"prism-editor__textarea--empty":this.isEmpty},spellCheck:"false",autocapitalize:"off",autocomplete:"off",autocorrect:"off","data-gramm":"false",placeholder:this.placeholder,"data-testid":"textarea",readonly:this.readonly,value:this.codeData}),i=Mt("pre",{ref:"pre",class:"prism-editor__editor","data-testid":"preview",innerHTML:this.content}),a=Mt("div",{class:"prism-editor__container"},[s,i]);return Mt("div",{class:"prism-editor-wrapper"},[this.lineNumbers&&n,a])}});var Hc={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var r=function(n){var s=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,a={},o={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function p(f){return f instanceof l?new l(f.type,p(f.content),f.alias):Array.isArray(f)?f.map(p):f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(p){return Object.prototype.toString.call(p).slice(8,-1)},objId:function(p){return p.__id||Object.defineProperty(p,"__id",{value:++i}),p.__id},clone:function p(f,h){h=h||{};var y,x;switch(o.util.type(f)){case"Object":if(x=o.util.objId(f),h[x])return h[x];y={},h[x]=y;for(var E in f)f.hasOwnProperty(E)&&(y[E]=p(f[E],h));return y;case"Array":return x=o.util.objId(f),h[x]?h[x]:(y=[],h[x]=y,f.forEach(function($,A){y[A]=p($,h)}),y);default:return f}},getLanguage:function(p){for(;p;){var f=s.exec(p.className);if(f)return f[1].toLowerCase();p=p.parentElement}return"none"},setLanguage:function(p,f){p.className=p.className.replace(RegExp(s,"gi"),""),p.classList.add("language-"+f)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(y){var p=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(y.stack)||[])[1];if(p){var f=document.getElementsByTagName("script");for(var h in f)if(f[h].src==p)return f[h]}return null}},isActive:function(p,f,h){for(var y="no-"+f;p;){var x=p.classList;if(x.contains(f))return!0;if(x.contains(y))return!1;p=p.parentElement}return!!h}},languages:{plain:a,plaintext:a,text:a,txt:a,extend:function(p,f){var h=o.util.clone(o.languages[p]);for(var y in f)h[y]=f[y];return h},insertBefore:function(p,f,h,y){y=y||o.languages;var x=y[p],E={};for(var $ in x)if(x.hasOwnProperty($)){if($==f)for(var A in h)h.hasOwnProperty(A)&&(E[A]=h[A]);h.hasOwnProperty($)||(E[$]=x[$])}var j=y[p];return y[p]=E,o.languages.DFS(o.languages,function(q,X){X===j&&q!=p&&(this[q]=E)}),E},DFS:function p(f,h,y,x){x=x||{};var E=o.util.objId;for(var $ in f)if(f.hasOwnProperty($)){h.call(f,$,f[$],y||$);var A=f[$],j=o.util.type(A);j==="Object"&&!x[E(A)]?(x[E(A)]=!0,p(A,h,null,x)):j==="Array"&&!x[E(A)]&&(x[E(A)]=!0,p(A,h,$,x))}}},plugins:{},highlightAll:function(p,f){o.highlightAllUnder(document,p,f)},highlightAllUnder:function(p,f,h){var y={callback:h,container:p,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",y),y.elements=Array.prototype.slice.apply(y.container.querySelectorAll(y.selector)),o.hooks.run("before-all-elements-highlight",y);for(var x=0,E;E=y.elements[x++];)o.highlightElement(E,f===!0,y.callback)},highlightElement:function(p,f,h){var y=o.util.getLanguage(p),x=o.languages[y];o.util.setLanguage(p,y);var E=p.parentElement;E&&E.nodeName.toLowerCase()==="pre"&&o.util.setLanguage(E,y);var $=p.textContent,A={element:p,language:y,grammar:x,code:$};function j(X){A.highlightedCode=X,o.hooks.run("before-insert",A),A.element.innerHTML=A.highlightedCode,o.hooks.run("after-highlight",A),o.hooks.run("complete",A),h&&h.call(A.element)}if(o.hooks.run("before-sanity-check",A),E=A.element.parentElement,E&&E.nodeName.toLowerCase()==="pre"&&!E.hasAttribute("tabindex")&&E.setAttribute("tabindex","0"),!A.code){o.hooks.run("complete",A),h&&h.call(A.element);return}if(o.hooks.run("before-highlight",A),!A.grammar){j(o.util.encode(A.code));return}if(f&&n.Worker){var q=new Worker(o.filename);q.onmessage=function(X){j(X.data)},q.postMessage(JSON.stringify({language:A.language,code:A.code,immediateClose:!0}))}else j(o.highlight(A.code,A.grammar,A.language))},highlight:function(p,f,h){var y={code:p,grammar:f,language:h};if(o.hooks.run("before-tokenize",y),!y.grammar)throw new Error('The language "'+y.language+'" has no grammar.');return y.tokens=o.tokenize(y.code,y.grammar),o.hooks.run("after-tokenize",y),l.stringify(o.util.encode(y.tokens),y.language)},tokenize:function(p,f){var h=f.rest;if(h){for(var y in h)f[y]=h[y];delete f.rest}var x=new m;return w(x,x.head,p),g(p,x,f,x.head,0),I(x)},hooks:{all:{},add:function(p,f){var h=o.hooks.all;h[p]=h[p]||[],h[p].push(f)},run:function(p,f){var h=o.hooks.all[p];if(!(!h||!h.length))for(var y=0,x;x=h[y++];)x(f)}},Token:l};n.Prism=o;function l(p,f,h,y){this.type=p,this.content=f,this.alias=h,this.length=(y||"").length|0}l.stringify=function p(f,h){if(typeof f=="string")return f;if(Array.isArray(f)){var y="";return f.forEach(function(j){y+=p(j,h)}),y}var x={type:f.type,content:p(f.content,h),tag:"span",classes:["token",f.type],attributes:{},language:h},E=f.alias;E&&(Array.isArray(E)?Array.prototype.push.apply(x.classes,E):x.classes.push(E)),o.hooks.run("wrap",x);var $="";for(var A in x.attributes)$+=" "+A+'="'+(x.attributes[A]||"").replace(/"/g,"&quot;")+'"';return"<"+x.tag+' class="'+x.classes.join(" ")+'"'+$+">"+x.content+"</"+x.tag+">"};function c(p,f,h,y){p.lastIndex=f;var x=p.exec(h);if(x&&y&&x[1]){var E=x[1].length;x.index+=E,x[0]=x[0].slice(E)}return x}function g(p,f,h,y,x,E){for(var $ in h)if(!(!h.hasOwnProperty($)||!h[$])){var A=h[$];A=Array.isArray(A)?A:[A];for(var j=0;j<A.length;++j){if(E&&E.cause==$+","+j)return;var q=A[j],X=q.inside,pe=!!q.lookbehind,Pe=!!q.greedy,Ge=q.alias;if(Pe&&!q.pattern.global){var ye=q.pattern.toString().match(/[imsuy]*$/)[0];q.pattern=RegExp(q.pattern.source,ye+"g")}for(var ce=q.pattern||q,K=y.next,ue=x;K!==f.tail&&!(E&&ue>=E.reach);ue+=K.value.length,K=K.next){var Fe=K.value;if(f.length>p.length)return;if(!(Fe instanceof l)){var Be=1,ie;if(Pe){if(ie=c(ce,ue,p,pe),!ie||ie.index>=p.length)break;var Ee=ie.index,Ht=ie.index+ie[0].length,_e=ue;for(_e+=K.value.length;Ee>=_e;)K=K.next,_e+=K.value.length;if(_e-=K.value.length,ue=_e,K.value instanceof l)continue;for(var ze=K;ze!==f.tail&&(_e<Ht||typeof ze.value=="string");ze=ze.next)Be++,_e+=ze.value.length;Be--,Fe=p.slice(ue,_e),ie.index-=ue}else if(ie=c(ce,0,Fe,pe),!ie)continue;var Ee=ie.index,Ue=ie[0],at=Fe.slice(0,Ee),Ze=Fe.slice(Ee+Ue.length),Xe=ue+Fe.length;E&&Xe>E.reach&&(E.reach=Xe);var We=K.prev;at&&(We=w(f,We,at),ue+=at.length),_(f,We,Be);var d=new l($,X?o.tokenize(Ue,X):Ue,Ge,Ue);if(K=w(f,We,d),Ze&&w(f,K,Ze),Be>1){var v={cause:$+","+j,reach:Xe};g(p,f,h,K.prev,ue,v),E&&v.reach>E.reach&&(E.reach=v.reach)}}}}}}function m(){var p={value:null,prev:null,next:null},f={value:null,prev:p,next:null};p.next=f,this.head=p,this.tail=f,this.length=0}function w(p,f,h){var y=f.next,x={value:h,prev:f,next:y};return f.next=x,y.prev=x,p.length++,x}function _(p,f,h){for(var y=f.next,x=0;x<h&&y!==p.tail;x++)y=y.next;f.next=y,y.prev=f,p.length-=x}function I(p){for(var f=[],h=p.head.next;h!==p.tail;)f.push(h.value),h=h.next;return f}if(!n.document)return n.addEventListener&&(o.disableWorkerMessageHandler||n.addEventListener("message",function(p){var f=JSON.parse(p.data),h=f.language,y=f.code,x=f.immediateClose;n.postMessage(o.highlight(y,o.languages[h],h)),x&&n.close()},!1)),o;var N=o.util.currentScript();N&&(o.filename=N.src,N.hasAttribute("data-manual")&&(o.manual=!0));function U(){o.manual||o.highlightAll()}if(!o.manual){var z=document.readyState;z==="loading"||z==="interactive"&&N&&N.defer?document.addEventListener("DOMContentLoaded",U):window.requestAnimationFrame?window.requestAnimationFrame(U):window.setTimeout(U,16)}return o}(t);e.exports&&(e.exports=r),typeof Ye<"u"&&(Ye.Prism=r),r.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},r.languages.markup.tag.inside["attr-value"].inside.entity=r.languages.markup.entity,r.languages.markup.doctype.inside["internal-subset"].inside=r.languages.markup,r.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))}),Object.defineProperty(r.languages.markup.tag,"addInlined",{value:function(s,i){var a={};a["language-"+i]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:r.languages[i]},a.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:a}};o["language-"+i]={pattern:/[\s\S]+/,inside:r.languages[i]};var l={};l[s]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return s}),"i"),lookbehind:!0,greedy:!0,inside:o},r.languages.insertBefore("markup","cdata",l)}}),Object.defineProperty(r.languages.markup.tag,"addAttribute",{value:function(n,s){r.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[s,"language-"+s],inside:r.languages[s]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),r.languages.html=r.languages.markup,r.languages.mathml=r.languages.markup,r.languages.svg=r.languages.markup,r.languages.xml=r.languages.extend("markup",{}),r.languages.ssml=r.languages.xml,r.languages.atom=r.languages.xml,r.languages.rss=r.languages.xml,function(n){var s=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+s.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+s.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+s.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+s.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:s,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var i=n.languages.markup;i&&(i.tag.addInlined("style","css"),i.tag.addAttribute("style","css"))}(r),r.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},r.languages.javascript=r.languages.extend("clike",{"class-name":[r.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),r.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,r.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:r.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:r.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:r.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:r.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:r.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),r.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:r.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),r.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),r.languages.markup&&(r.languages.markup.tag.addInlined("script","javascript"),r.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),r.languages.js=r.languages.javascript,function(){if(typeof r>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var n="Loading\u2026",s=function(N,U){return"\u2716 Error "+N+" while fetching file: "+U},i="\u2716 Error: File does not exist or is empty",a={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},o="data-src-status",l="loading",c="loaded",g="failed",m="pre[data-src]:not(["+o+'="'+c+'"]):not(['+o+'="'+l+'"])';function w(N,U,z){var p=new XMLHttpRequest;p.open("GET",N,!0),p.onreadystatechange=function(){p.readyState==4&&(p.status<400&&p.responseText?U(p.responseText):p.status>=400?z(s(p.status,p.statusText)):z(i))},p.send(null)}function _(N){var U=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(N||"");if(U){var z=Number(U[1]),p=U[2],f=U[3];return p?f?[z,Number(f)]:[z,void 0]:[z,z]}}r.hooks.add("before-highlightall",function(N){N.selector+=", "+m}),r.hooks.add("before-sanity-check",function(N){var U=N.element;if(U.matches(m)){N.code="",U.setAttribute(o,l);var z=U.appendChild(document.createElement("CODE"));z.textContent=n;var p=U.getAttribute("data-src"),f=N.language;if(f==="none"){var h=(/\.(\w+)$/.exec(p)||[,"none"])[1];f=a[h]||h}r.util.setLanguage(z,f),r.util.setLanguage(U,f);var y=r.plugins.autoloader;y&&y.loadLanguages(f),w(p,function(x){U.setAttribute(o,c);var E=_(U.getAttribute("data-range"));if(E){var $=x.split(/\r\n?|\n/g),A=E[0],j=E[1]==null?$.length:E[1];A<0&&(A+=$.length),A=Math.max(0,Math.min(A-1,$.length)),j<0&&(j+=$.length),j=Math.max(0,Math.min(j,$.length)),x=$.slice(A,j).join(`
`),U.hasAttribute("data-start")||U.setAttribute("data-start",String(A+1))}z.textContent=x,r.highlightElement(z)},function(x){U.setAttribute(o,g),z.textContent=x})}}),r.plugins.fileHighlight={highlight:function(U){for(var z=(U||document).querySelectorAll(m),p=0,f;f=z[p++];)r.highlightElement(f)}};var I=!1;r.fileHighlight=function(){I||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),I=!0),r.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(Hc);var Qn={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var r=function(n){var s=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,a={},o={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function p(f){return f instanceof l?new l(f.type,p(f.content),f.alias):Array.isArray(f)?f.map(p):f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(p){return Object.prototype.toString.call(p).slice(8,-1)},objId:function(p){return p.__id||Object.defineProperty(p,"__id",{value:++i}),p.__id},clone:function p(f,h){h=h||{};var y,x;switch(o.util.type(f)){case"Object":if(x=o.util.objId(f),h[x])return h[x];y={},h[x]=y;for(var E in f)f.hasOwnProperty(E)&&(y[E]=p(f[E],h));return y;case"Array":return x=o.util.objId(f),h[x]?h[x]:(y=[],h[x]=y,f.forEach(function($,A){y[A]=p($,h)}),y);default:return f}},getLanguage:function(p){for(;p;){var f=s.exec(p.className);if(f)return f[1].toLowerCase();p=p.parentElement}return"none"},setLanguage:function(p,f){p.className=p.className.replace(RegExp(s,"gi"),""),p.classList.add("language-"+f)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(y){var p=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(y.stack)||[])[1];if(p){var f=document.getElementsByTagName("script");for(var h in f)if(f[h].src==p)return f[h]}return null}},isActive:function(p,f,h){for(var y="no-"+f;p;){var x=p.classList;if(x.contains(f))return!0;if(x.contains(y))return!1;p=p.parentElement}return!!h}},languages:{plain:a,plaintext:a,text:a,txt:a,extend:function(p,f){var h=o.util.clone(o.languages[p]);for(var y in f)h[y]=f[y];return h},insertBefore:function(p,f,h,y){y=y||o.languages;var x=y[p],E={};for(var $ in x)if(x.hasOwnProperty($)){if($==f)for(var A in h)h.hasOwnProperty(A)&&(E[A]=h[A]);h.hasOwnProperty($)||(E[$]=x[$])}var j=y[p];return y[p]=E,o.languages.DFS(o.languages,function(q,X){X===j&&q!=p&&(this[q]=E)}),E},DFS:function p(f,h,y,x){x=x||{};var E=o.util.objId;for(var $ in f)if(f.hasOwnProperty($)){h.call(f,$,f[$],y||$);var A=f[$],j=o.util.type(A);j==="Object"&&!x[E(A)]?(x[E(A)]=!0,p(A,h,null,x)):j==="Array"&&!x[E(A)]&&(x[E(A)]=!0,p(A,h,$,x))}}},plugins:{},highlightAll:function(p,f){o.highlightAllUnder(document,p,f)},highlightAllUnder:function(p,f,h){var y={callback:h,container:p,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",y),y.elements=Array.prototype.slice.apply(y.container.querySelectorAll(y.selector)),o.hooks.run("before-all-elements-highlight",y);for(var x=0,E;E=y.elements[x++];)o.highlightElement(E,f===!0,y.callback)},highlightElement:function(p,f,h){var y=o.util.getLanguage(p),x=o.languages[y];o.util.setLanguage(p,y);var E=p.parentElement;E&&E.nodeName.toLowerCase()==="pre"&&o.util.setLanguage(E,y);var $=p.textContent,A={element:p,language:y,grammar:x,code:$};function j(X){A.highlightedCode=X,o.hooks.run("before-insert",A),A.element.innerHTML=A.highlightedCode,o.hooks.run("after-highlight",A),o.hooks.run("complete",A),h&&h.call(A.element)}if(o.hooks.run("before-sanity-check",A),E=A.element.parentElement,E&&E.nodeName.toLowerCase()==="pre"&&!E.hasAttribute("tabindex")&&E.setAttribute("tabindex","0"),!A.code){o.hooks.run("complete",A),h&&h.call(A.element);return}if(o.hooks.run("before-highlight",A),!A.grammar){j(o.util.encode(A.code));return}if(f&&n.Worker){var q=new Worker(o.filename);q.onmessage=function(X){j(X.data)},q.postMessage(JSON.stringify({language:A.language,code:A.code,immediateClose:!0}))}else j(o.highlight(A.code,A.grammar,A.language))},highlight:function(p,f,h){var y={code:p,grammar:f,language:h};if(o.hooks.run("before-tokenize",y),!y.grammar)throw new Error('The language "'+y.language+'" has no grammar.');return y.tokens=o.tokenize(y.code,y.grammar),o.hooks.run("after-tokenize",y),l.stringify(o.util.encode(y.tokens),y.language)},tokenize:function(p,f){var h=f.rest;if(h){for(var y in h)f[y]=h[y];delete f.rest}var x=new m;return w(x,x.head,p),g(p,x,f,x.head,0),I(x)},hooks:{all:{},add:function(p,f){var h=o.hooks.all;h[p]=h[p]||[],h[p].push(f)},run:function(p,f){var h=o.hooks.all[p];if(!(!h||!h.length))for(var y=0,x;x=h[y++];)x(f)}},Token:l};n.Prism=o;function l(p,f,h,y){this.type=p,this.content=f,this.alias=h,this.length=(y||"").length|0}l.stringify=function p(f,h){if(typeof f=="string")return f;if(Array.isArray(f)){var y="";return f.forEach(function(j){y+=p(j,h)}),y}var x={type:f.type,content:p(f.content,h),tag:"span",classes:["token",f.type],attributes:{},language:h},E=f.alias;E&&(Array.isArray(E)?Array.prototype.push.apply(x.classes,E):x.classes.push(E)),o.hooks.run("wrap",x);var $="";for(var A in x.attributes)$+=" "+A+'="'+(x.attributes[A]||"").replace(/"/g,"&quot;")+'"';return"<"+x.tag+' class="'+x.classes.join(" ")+'"'+$+">"+x.content+"</"+x.tag+">"};function c(p,f,h,y){p.lastIndex=f;var x=p.exec(h);if(x&&y&&x[1]){var E=x[1].length;x.index+=E,x[0]=x[0].slice(E)}return x}function g(p,f,h,y,x,E){for(var $ in h)if(!(!h.hasOwnProperty($)||!h[$])){var A=h[$];A=Array.isArray(A)?A:[A];for(var j=0;j<A.length;++j){if(E&&E.cause==$+","+j)return;var q=A[j],X=q.inside,pe=!!q.lookbehind,Pe=!!q.greedy,Ge=q.alias;if(Pe&&!q.pattern.global){var ye=q.pattern.toString().match(/[imsuy]*$/)[0];q.pattern=RegExp(q.pattern.source,ye+"g")}for(var ce=q.pattern||q,K=y.next,ue=x;K!==f.tail&&!(E&&ue>=E.reach);ue+=K.value.length,K=K.next){var Fe=K.value;if(f.length>p.length)return;if(!(Fe instanceof l)){var Be=1,ie;if(Pe){if(ie=c(ce,ue,p,pe),!ie||ie.index>=p.length)break;var Ee=ie.index,Ht=ie.index+ie[0].length,_e=ue;for(_e+=K.value.length;Ee>=_e;)K=K.next,_e+=K.value.length;if(_e-=K.value.length,ue=_e,K.value instanceof l)continue;for(var ze=K;ze!==f.tail&&(_e<Ht||typeof ze.value=="string");ze=ze.next)Be++,_e+=ze.value.length;Be--,Fe=p.slice(ue,_e),ie.index-=ue}else if(ie=c(ce,0,Fe,pe),!ie)continue;var Ee=ie.index,Ue=ie[0],at=Fe.slice(0,Ee),Ze=Fe.slice(Ee+Ue.length),Xe=ue+Fe.length;E&&Xe>E.reach&&(E.reach=Xe);var We=K.prev;at&&(We=w(f,We,at),ue+=at.length),_(f,We,Be);var d=new l($,X?o.tokenize(Ue,X):Ue,Ge,Ue);if(K=w(f,We,d),Ze&&w(f,K,Ze),Be>1){var v={cause:$+","+j,reach:Xe};g(p,f,h,K.prev,ue,v),E&&v.reach>E.reach&&(E.reach=v.reach)}}}}}}function m(){var p={value:null,prev:null,next:null},f={value:null,prev:p,next:null};p.next=f,this.head=p,this.tail=f,this.length=0}function w(p,f,h){var y=f.next,x={value:h,prev:f,next:y};return f.next=x,y.prev=x,p.length++,x}function _(p,f,h){for(var y=f.next,x=0;x<h&&y!==p.tail;x++)y=y.next;f.next=y,y.prev=f,p.length-=x}function I(p){for(var f=[],h=p.head.next;h!==p.tail;)f.push(h.value),h=h.next;return f}if(!n.document)return n.addEventListener&&(o.disableWorkerMessageHandler||n.addEventListener("message",function(p){var f=JSON.parse(p.data),h=f.language,y=f.code,x=f.immediateClose;n.postMessage(o.highlight(y,o.languages[h],h)),x&&n.close()},!1)),o;var N=o.util.currentScript();N&&(o.filename=N.src,N.hasAttribute("data-manual")&&(o.manual=!0));function U(){o.manual||o.highlightAll()}if(!o.manual){var z=document.readyState;z==="loading"||z==="interactive"&&N&&N.defer?document.addEventListener("DOMContentLoaded",U):window.requestAnimationFrame?window.requestAnimationFrame(U):window.setTimeout(U,16)}return o}(t);e.exports&&(e.exports=r),typeof Ye<"u"&&(Ye.Prism=r)})(Qn);Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;const zc={id:"settings-body"},Wc={class:"settings-item"},Vc=ee("header",null,"IRQ Rate",-1),Yc={class:"settings-item"},Zc=ee("header",null,"IRQ Sleep Time",-1),Jc=["disabled"],es=gt(5),Vt=gt("time"),on=gt({irqRate:300,irqSleep:wa(()=>({time:es.value,requestIdleCallback:()=>new Promise(e=>requestIdleCallback(e))})[Vt.value])}),Gc={__name:"Settings",emits:["exit"],setup(e,{emit:t}){const r=gt(null);return(n,s)=>(Ot(),gr("div",{ref_key:"bg",ref:r,id:"settings-bg",onClick:s[4]||(s[4]=i=>i.target===r.value&&n.$emit("exit"))},[ee("div",zc,[ee("div",Wc,[Vc,Tr(ee("input",{type:"number","onUpdate:modelValue":s[0]||(s[0]=i=>on.value.irqRate=i)},null,512),[[ii,on.value.irqRate]])]),ee("div",Yc,[Zc,ee("div",null,[Tr(ee("input",{type:"radio",value:"time","onUpdate:modelValue":s[1]||(s[1]=i=>Vt.value=i)},null,512),[[ai,Vt.value]]),Qt(" time(milliseconds) "),Tr(ee("input",{type:"number","onUpdate:modelValue":s[2]||(s[2]=i=>es.value=i),disabled:Vt.value!=="time"},null,8,Jc),[[ii,es.value]])]),ee("div",null,[Tr(ee("input",{type:"radio",value:"requestIdleCallback","onUpdate:modelValue":s[3]||(s[3]=i=>Vt.value=i)},null,512),[[ai,Vt.value]]),Qt(" requestIdleCallback ")])])])],512))}};const Xc={id:"root"},Qc={id:"grid1"},ef={id:"editor",class:"container"},tf={key:0,class:"syntaxError"},rf={id:"logs",class:"container"},nf=ee("header",null,"Output",-1),sf={class:"type"},af={id:"grid2"},of={id:"ast",class:"container"},lf=ee("header",null,"AST",-1),uf=ee("div",{id:"bin",class:"container"},[ee("header",null,"Bytecode"),ee("div")],-1),cf=ee("div",{id:"debugger",class:"container"},[ee("header",null,"Debugger"),ee("div")],-1),ff={__name:"App",setup(e){const t=gt(window.localStorage.getItem("script")||'<: "Hello, AiScript!"'),r=gt(null),n=gt([]),s=gt(null),i=gt(!1);zr(t,()=>{window.localStorage.setItem("script",t.value);try{r.value=Yt.parse(t.value),s.value=null}catch(g){s.value=g.message,console.error(g.info);return}},{immediate:!0});const a=()=>{t.value=`for (let i, 100) {
  <: if (i % 15 == 0) "FizzBuzz"
    elif (i % 3 == 0) "Fizz"
    elif (i % 5 == 0) "Buzz"
    else i
}`};let o=null;const l=async()=>{n.value=[],o?.abort(),o=new Ae({},{in:g=>new Promise(m=>{const w=window.prompt(g);m(w)}),out:g=>{n.value.push({id:Math.random(),type:g.type,text:g.type==="str"||g.type==="num"?g.value:Zn(g),print:!0})},err:g=>{window.alert(g.toString())},log:(g,m)=>{switch(g){case"end":n.value.push({id:Math.random(),text:Zn(m.val,!0),print:!1});break}},irqRate:on.value.irqRate,irqSleep:on.value.irqSleep});try{await o.exec(r.value)}catch(g){console.error(g),window.alert("Internal Error: "+g)}},c=g=>Qn.exports.highlight(g,Qn.exports.languages.js,"javascript");return(g,m)=>(Ot(),gr("div",Xc,[i.value?(Ot(),ga(Gc,{key:0,onExit:m[0]||(m[0]=w=>i.value=!1)})):Ys("",!0),ee("h1",null,[Qt("AiScript (v"+fr(Un(xa))+") Playground",1),ee("button",{id:"show-settings-button",onClick:m[1]||(m[1]=w=>i.value=!0)},"Settings")]),ee("div",Qc,[ee("div",ef,[ee("header",null,[Qt("Input"),ee("div",{class:"actions"},[ee("button",{onClick:a},"FizzBuzz")])]),ee("div",null,[qe(Un(Kc),{class:"code",modelValue:t.value,"onUpdate:modelValue":m[2]||(m[2]=w=>t.value=w),highlight:c,"line-numbers":!1},null,8,["modelValue"])]),ee("footer",null,[s.value?(Ot(),gr("span",tf,fr(s.value),1)):Ys("",!0),ee("div",{class:"actions"},[ee("button",{onClick:l},"RUN")])])]),ee("div",rf,[nf,ee("div",null,[(Ot(!0),gr(ut,null,ll(n.value,w=>(Ot(),gr("div",{class:cn(["log",[{print:w.print},w.type]]),key:w.id},[ee("span",sf,fr(w.type),1),Qt(" "+fr(w.text),1)],2))),128))])])]),ee("div",af,[ee("div",of,[lf,ee("div",null,[ee("pre",null,fr(JSON.stringify(r.value,(w,_)=>_ instanceof Map?Object.fromEntries(_):_,"	")),1)])]),uf,cf])]))}};lu(ff).mount("#app");
